import{a as Qt,b as Wt,c as zt}from"./chunk-C3RF6RT2.js";import{a as Rt,b as qt}from"./chunk-FWJ724UQ.js";import{d as de,e as pe,f as At,g as ue,h as It,i as _e,j as Vt}from"./chunk-47TH7PWK.js";import{a as Pt}from"./chunk-GJKENB67.js";import"./chunk-7RWCIHFI.js";import{a as we,b as ke,c as Ae,d as Ie}from"./chunk-QWYJJA4P.js";import{a as ce,b as kt}from"./chunk-GZVUQI4Z.js";import{b as Ve,c as U}from"./chunk-ZWNPHWVL.js";import{a as it}from"./chunk-CZUERSYV.js";import"./chunk-CHSPAKSZ.js";import{a as Nt}from"./chunk-7R6S265A.js";import{a as se,b as _t,c as ft}from"./chunk-X2O53BYF.js";import{i as dt}from"./chunk-5OMWRLEF.js";import"./chunk-F5X5MWHG.js";import{a as ht,b as Ct,c as xt,d as vt,e as yt,f as St,g as bt,h as gt,i as Et,j as Ft,k as Mt,l as Dt}from"./chunk-IDYXJOIM.js";import{a as Tt,b as wt}from"./chunk-XJR2WP6Z.js";import{a as pt,b as ut}from"./chunk-5JPA2GYU.js";import{a as Fe,b as Me,e as De,h as Te,i as O,j as G,l as H}from"./chunk-2BTDNAH3.js";import{a as le}from"./chunk-ZJG5LBUV.js";import{a as rt}from"./chunk-3NVIBG3K.js";import{a as lt,b as mt,c as st,d as ae,e as ct}from"./chunk-QCDBIKUS.js";import{a as nt}from"./chunk-VUESK5K3.js";import"./chunk-GGQ7LRWG.js";import"./chunk-27NP7QR4.js";import"./chunk-ZFE2N5VZ.js";import"./chunk-46G2PC7Y.js";import{D as j,J as me,g as ot,x as B,y as L}from"./chunk-RYPZHRJT.js";import"./chunk-3PESHDLB.js";import"./chunk-JK6TMB5O.js";import{a as mi}from"./chunk-RBN4JIHT.js";import{S as xe,U as v,X as q,Y as ve,ba as et,ca as ye,da as Ot,f as w,fa as Se,g as Je,ia as be,jb as tt,lb as at,ma as Gt,na as Ht,nb as re,o as Ze,oa as ge,ob as R,pa as Ut,ra as Ee,s as Ke,sa as P,ta as $,tb as D,z as oe}from"./chunk-5C7EL5PS.js";import{Bc as We,Cc as ze,F as W,Fb as d,Hc as Xe,Jc as Ye,Nb as c,Ob as ne,Qb as Ne,Sb as x,Tb as k,Ub as A,Vb as I,Wb as t,Xb as e,Yb as C,Zb as V,_b as N,ac as S,ca as Ue,f as Oe,fc as h,g as Ge,ha as Qe,hc as p,lb as l,mc as z,nc as X,oc as Y,p as He,rb as y,s as Q,sa as u,sc as g,ta as _,tc as n,uc as F,vc as E,xc as Re,yc as qe,zb as M,zc as Pe}from"./chunk-6V7EBWWQ.js";import"./chunk-WWX6BADO.js";var Xt=class{constructor(m){this.id=m.id||this.getRandomID(),this.rollNo=m.rollNo||"",this.studentName=m.studentName||"",this.class=m.class||"N/A",this.feesType=m.feesType||"",this.invoiceNo=m.invoiceNo||"",this.paymentDueDate=m.paymentDueDate||w(new Date,"yyyy-MM-dd","en"),this.paymentDate=m.paymentDate||"",this.paymentType=m.paymentType||"",this.status=m.status||"",this.amount=m.amount||"",this.lateFee=m.lateFee||"0$",this.discount=m.discount||"0$",this.createdAt=m.createdAt||w(new Date,"yyyy-MM-dd","en"),this.updatedAt=m.updatedAt||w(new Date,"yyyy-MM-dd","en"),this.notes=m.notes||"N/A"}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m()+m()}};var $t=(()=>{class o{constructor(i){this.httpClient=i,this.API_URL="assets/data/fees.json",this.dataChange=new Ge([])}getAllFees(){return this.httpClient.get(this.API_URL).pipe(Q(i=>(this.dataChange.next(i),i)),W(this.handleError))}addFees(i){return this.httpClient.post(this.API_URL,i).pipe(Q(()=>i),W(this.handleError))}updateFees(i){return this.httpClient.put(`${this.API_URL}`,i).pipe(Q(()=>i),W(this.handleError))}deleteFees(i){return this.httpClient.delete(`${this.API_URL}`).pipe(Q(()=>i),W(this.handleError))}handleError(i){return console.error("An error occurred:",i.message),He(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(r){return new(r||o)(Qe(oe))}}static{this.\u0275prov=Ue({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Ai(o,m){o&1&&(t(0,"mat-error"),n(1,"Please enter roll no"),e())}function Ii(o,m){o&1&&(t(0,"mat-error"),n(1,"Please enter student name"),e())}function Vi(o,m){o&1&&(t(0,"mat-error"),n(1,"Select Class"),e())}function Ni(o,m){o&1&&(t(0,"mat-error"),n(1,"Select Fees Type"),e())}function Ri(o,m){o&1&&(t(0,"mat-error"),n(1,"Enter Invoice Number"),e())}function qi(o,m){o&1&&(t(0,"mat-error"),n(1," Please select date of birth "),e())}function Pi(o,m){o&1&&(t(0,"mat-error"),n(1,"Select Payment Type"),e())}function $i(o,m){o&1&&(t(0,"mat-error"),n(1,"Select Status"),e())}function Bi(o,m){o&1&&(t(0,"mat-error"),n(1,"Enter amount"),e())}var si=(()=>{class o{constructor(i,r,a,s){this.dialogRef=i,this.data=r,this.feesService=a,this.fb=s,this.action=r.action,this.dialogTitle=this.action==="edit"?r.fees.studentName:"New Fees",this.fees=this.action==="edit"?r.fees:new Xt({}),this.feesForm=this.createFeesForm()}createFeesForm(){return this.fb.group({id:[this.fees.id],rollNo:[this.fees.rollNo,[v.required]],studentName:[this.fees.studentName,[v.required]],class:[this.fees.class,[v.required]],feesType:[this.fees.feesType,[v.required]],invoiceNo:[this.fees.invoiceNo,[v.required]],paymentDueDate:[w(this.fees.paymentDueDate,"yyyy-MM-dd","en"),[v.required]],paymentDate:[this.fees.paymentDate?w(this.fees.paymentDate,"yyyy-MM-dd","en"):null],paymentType:[this.fees.paymentType?this.fees.paymentType:"",[v.required]],status:[this.fees.status,[v.required]],amount:[this.fees.amount,[v.required]],lateFee:[this.fees.lateFee],discount:[this.fees.discount],createdAt:[w(this.fees.createdAt,"yyyy-MM-dd","en")],updatedAt:[this.fees.updatedAt?w(this.fees.updatedAt,"yyyy-MM-dd","en"):null,[v.required]],notes:[this.fees.notes]})}getErrorMessage(i){return i.hasError("required")?"Required field":""}submit(){if(this.feesForm.valid){let i=this.feesForm.getRawValue();this.action==="edit"?this.feesService.updateFees(i).subscribe({next:r=>{this.dialogRef.close(r)},error:r=>{console.error("Update Error:",r)}}):this.feesService.addFees(i).subscribe({next:r=>{this.dialogRef.close(r)},error:r=>{console.error("Add Error:",r)}})}}onNoClick(){this.dialogRef.close()}confirmAdd(){this.submit()}static{this.\u0275fac=function(r){return new(r||o)(y(de),y(pe),y($t),y(Ee))}}static{this.\u0275cmp=M({type:o,selectors:[["app-all-fees-form"]],features:[We([{provide:Nt,useValue:"en-GB"}])],decls:162,vars:41,consts:[["pddPicker",""],["pdPicker",""],[1,"addContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","mat-dialog-close","","aria-label","Close dialog","type","button",1,"modal-close-button"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","rollNo","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","studentName","required",""],["formControlName","class","required",""],[3,"value"],["formControlName","feesType","required",""],["matInput","","formControlName","invoiceNo","required",""],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","paymentDueDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","paymentDate",3,"matDatepicker"],["formControlName","paymentType","required",""],["formControlName","status","required",""],["matInput","","formControlName","amount","required",""],["matInput","","formControlName","lateFee"],["matInput","","formControlName","discount"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","notes"],[1,"example-button-row"],["mat-flat-button","","type","submit",1,"formSubmitBtn",3,"disabled"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"formCancelBtn"]],template:function(r,a){if(r&1){let s=S();t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),n(4),e()(),t(5,"button",6)(6,"mat-icon"),n(7,"close"),e()()(),t(8,"div",7)(9,"form",8),h("ngSubmit",function(){return u(s),_(a.submit())}),t(10,"div",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),n(14,"Roll No"),e(),C(15,"input",12),t(16,"mat-icon",13),n(17,"label"),e(),d(18,Ai,2,0,"mat-error"),e()(),t(19,"div",10)(20,"mat-form-field",11)(21,"mat-label"),n(22,"Student Name"),e(),C(23,"input",14),t(24,"mat-icon",13),n(25,"account_circle"),e(),d(26,Ii,2,0,"mat-error"),e()()(),t(27,"div",9)(28,"div",10)(29,"mat-form-field",11)(30,"mat-label"),n(31,"Class"),e(),t(32,"mat-select",15)(33,"mat-option",16),n(34,"1st Grade"),e(),t(35,"mat-option",16),n(36,"2nd Grade"),e(),t(37,"mat-option",16),n(38,"3rd Grade"),e(),t(39,"mat-option",16),n(40,"4th Grade"),e(),t(41,"mat-option",16),n(42,"5th Grade"),e(),t(43,"mat-option",16),n(44,"6th Grade"),e(),t(45,"mat-option",16),n(46,"7th Grade"),e(),t(47,"mat-option",16),n(48,"8th Grade"),e(),t(49,"mat-option",16),n(50,"9th Grade"),e(),t(51,"mat-option",16),n(52,"10th Grade"),e(),t(53,"mat-option",16),n(54,"11th Grade"),e(),t(55,"mat-option",16),n(56,"12th Grade"),e()(),d(57,Vi,2,0,"mat-error"),e()(),t(58,"div",10)(59,"mat-form-field",11)(60,"mat-label"),n(61,"Fees Type"),e(),t(62,"mat-select",17)(63,"mat-option",16),n(64,"Annual"),e(),t(65,"mat-option",16),n(66,"Tution"),e(),t(67,"mat-option",16),n(68,"Transport"),e(),t(69,"mat-option",16),n(70,"Exam"),e(),t(71,"mat-option",16),n(72,"Library"),e(),t(73,"mat-option",16),n(74,"Other"),e()(),d(75,Ni,2,0,"mat-error"),e()()(),t(76,"div",9)(77,"div",10)(78,"mat-form-field",11)(79,"mat-label"),n(80,"Invoice Number"),e(),C(81,"input",18),t(82,"mat-icon",13),n(83,"receipt"),e(),d(84,Ri,2,0,"mat-error"),e()(),t(85,"div",10)(86,"mat-form-field",19)(87,"mat-label"),n(88,"Payment Due Date"),e(),C(89,"input",20)(90,"mat-datepicker-toggle",21)(91,"mat-datepicker",null,0),d(93,qi,2,0,"mat-error"),e()()(),t(94,"div",9)(95,"div",10)(96,"mat-form-field",19)(97,"mat-label"),n(98,"Payment Date"),e(),C(99,"input",22)(100,"mat-datepicker-toggle",21)(101,"mat-datepicker",null,1),e()(),t(103,"div",10)(104,"mat-form-field",19)(105,"mat-label"),n(106,"Payment Type"),e(),t(107,"mat-select",23)(108,"mat-option",16),n(109,"Cash"),e(),t(110,"mat-option",16),n(111,"Cheque"),e(),t(112,"mat-option",16),n(113,"Online Transfer"),e(),t(114,"mat-option",16),n(115,"Credit Card"),e(),t(116,"mat-option",16),n(117,"Other"),e()(),d(118,Pi,2,0,"mat-error"),e()()(),t(119,"div",9)(120,"div",10)(121,"mat-form-field",19)(122,"mat-label"),n(123,"Status"),e(),t(124,"mat-select",24)(125,"mat-option",16),n(126,"paid"),e(),t(127,"mat-option",16),n(128,"pending"),e()(),d(129,$i,2,0,"mat-error"),e()(),t(130,"div",10)(131,"mat-form-field",11)(132,"mat-label"),n(133,"Amount"),e(),C(134,"input",25),t(135,"mat-icon",13),n(136,"monetization_on"),e(),d(137,Bi,2,0,"mat-error"),e()()(),t(138,"div",9)(139,"div",10)(140,"mat-form-field",11)(141,"mat-label"),n(142,"Late Fee"),e(),C(143,"input",26),e()(),t(144,"div",10)(145,"mat-form-field",11)(146,"mat-label"),n(147,"Discount"),e(),C(148,"input",27),e()()(),t(149,"div",9)(150,"div",28)(151,"mat-form-field",11)(152,"mat-label"),n(153,"Notes"),e(),C(154,"textarea",29),e()()(),t(155,"div",9)(156,"div",28)(157,"div",30)(158,"button",31),n(159,"Save"),e(),t(160,"button",32),n(161,"Cancel"),e()()()()()()()}if(r&2){let s,f,b,T,J,Z,K,ee,te,fe=g(92),he=g(102);l(4),E(" ",a.dialogTitle," "),l(5),c("formGroup",a.feesForm),l(9),x((s=a.feesForm.get("rollNo"))!=null&&s.hasError("required")?18:-1),l(8),x((f=a.feesForm.get("studentName"))!=null&&f.hasError("required")?26:-1),l(7),c("value","1st Grade"),l(2),c("value","2nd Grade"),l(2),c("value","3rd Grade"),l(2),c("value","4th Grade"),l(2),c("value","5th Grade"),l(2),c("value","6th Grade"),l(2),c("value","7th Grade"),l(2),c("value","8th Grade"),l(2),c("value","9th Grade"),l(2),c("value","10th Grade"),l(2),c("value","11th Grade"),l(2),c("value","12th Grade"),l(2),x((b=a.feesForm.get("class"))!=null&&b.hasError("required")?57:-1),l(6),c("value","annual"),l(2),c("value","tution"),l(2),c("value","transport"),l(2),c("value","exam"),l(2),c("value","library"),l(2),c("value","other"),l(2),x((T=a.feesForm.get("feesType"))!=null&&T.hasError("required")?75:-1),l(9),x((J=a.feesForm.get("invoiceNo"))!=null&&J.hasError("required")?84:-1),l(5),c("matDatepicker",fe),l(),c("for",fe),l(3),x((Z=a.feesForm.get("paymentDueDate"))!=null&&Z.hasError("required")?93:-1),l(6),c("matDatepicker",he),l(),c("for",he),l(8),c("value","cash"),l(2),c("value","cheque"),l(2),c("value","online transfer"),l(2),c("value","credit card"),l(2),c("value","other"),l(2),x((K=a.feesForm.get("paymentType"))!=null&&K.hasError("required")?118:-1),l(7),c("value","paid"),l(2),c("value","pending"),l(2),x((ee=a.feesForm.get("status"))!=null&&ee.hasError("required")?129:-1),l(8),x((te=a.feesForm.get("amount"))!=null&&te.hasError("required")?137:-1),l(21),c("disabled",!a.feesForm.valid)}},dependencies:[D,R,re,L,B,_e,P,ye,xe,q,ve,ge,$,Se,be,O,Te,Fe,Me,De,U,Ve,H,G,j,me,Ie,we,ke,Ae,ue],encapsulation:2})}}return o})();var ci=(()=>{class o{constructor(i,r,a){this.dialogRef=i,this.data=r,this.feesService=a}onNoClick(){this.dialogRef.close()}confirmDelete(){this.feesService.deleteFees(this.data.id)}static{this.\u0275fac=function(r){return new(r||o)(y(de),y(pe),y($t))}}static{this.\u0275cmp=M({type:o,selectors:[["app-all-fees-delete"]],decls:20,vars:3,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","",1,"formCancelBtn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"h3",1),n(2,"Are you sure?"),e(),t(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),n(8," Roll No: "),e(),n(9),e()(),t(10,"li")(11,"p")(12,"span",4),n(13," Name: "),e(),n(14),e()()()(),t(15,"div",5)(16,"button",6),h("click",function(){return a.confirmDelete()}),n(17," Delete "),e(),t(18,"button",7),h("click",function(){return a.onNoClick()}),n(19,"Cancel"),e()()()),r&2&&(l(9),F(a.data.rollNo),l(5),F(a.data.studentName),l(2),c("mat-dialog-close",1))},dependencies:[It,_e,Vt,D,R,ue],encapsulation:2})}}return o})();var Li=["filter"],ji=()=>[5,10,25,100];function Oi(o,m){if(o&1&&(t(0,"div",7),C(1,"app-breadcrumb",50),e()),o&2){let i=m.$implicit;l(),c("title",i.title)("items",i.items)("active_item",i.active)}}function Gi(o,m){if(o&1){let i=S();t(0,"div")(1,"mat-option")(2,"mat-checkbox",51),h("click",function(a){return u(i),_(a.stopPropagation())}),Pe("ngModelChange",function(a){let s=u(i).$implicit;return qe(s.visible,a)||(s.visible=a),_(a)}),n(3),e()()()}if(o&2){let i=m.$implicit;l(2),Re("ngModel",i.visible),l(),E(" ",i.label," ")}}function Hi(o,m){if(o&1){let i=S();t(0,"mat-header-cell")(1,"mat-checkbox",52),h("change",function(a){u(i);let s=p();return _(a?s.masterToggle():null)}),e()()}if(o&2){let i=p();l(),c("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())("ngClass","tbl-checkbox")}}function Ui(o,m){if(o&1){let i=S();t(0,"mat-cell")(1,"mat-checkbox",53),h("click",function(a){return u(i),_(a.stopPropagation())})("change",function(a){let s=u(i).$implicit,f=p();return _(a?f.selection.toggle(s):null)}),e()()}if(o&2){let i=m.$implicit,r=p();l(),c("checked",r.selection.isSelected(i))("ngClass","tbl-checkbox")}}function Qi(o,m){}function Wi(o,m){if(o&1&&(t(0,"mat-header-cell",57)(1,"span",58),n(2),e()()),o&2){let i=p(3).$implicit;l(2),F(i.label)}}function zi(o,m){if(o&1&&(t(0,"div")(1,"span",61),n(2),e()()),o&2){let i=p().$implicit;l(2),F(i.status)}}function Xi(o,m){if(o&1&&(t(0,"div")(1,"span",62),n(2),e()()),o&2){let i=p().$implicit;l(2),F(i.status)}}function Yi(o,m){if(o&1){let i=S();t(0,"mat-cell",59),h("contextmenu",function(a){let s=u(i).$implicit,f=p(4);return _(f.onContextMenu(a,s))}),t(1,"span",60),n(2),e(),t(3,"div"),d(4,zi,3,1,"div")(5,Xi,3,1,"div"),e()()}if(o&2){let i,r=m.$implicit,a=p(3).$implicit;l(2),E("",a.label,":"),l(2),x((i=r.status)==="paid"?4:i==="pending"?5:-1)}}function Ji(o,m){if(o&1&&(V(0,54),d(1,Wi,3,1,"mat-header-cell",55)(2,Yi,6,2,"mat-cell",56),N()),o&2){let i=p(2).$implicit;c("matColumnDef",i.def)}}function Zi(o,m){if(o&1&&(t(0,"mat-header-cell",57)(1,"span",58),n(2),e()()),o&2){let i=p(4).$implicit;l(2),F(i.label)}}function Ki(o,m){if(o&1){let i=S();t(0,"mat-cell",59),h("contextmenu",function(a){let s=u(i).$implicit,f=p(5);return _(f.onContextMenu(a,s))}),t(1,"span",60),n(2),e(),t(3,"span",58),n(4),Xe(5,"date"),e()()}if(o&2){let i=m.$implicit,r=p(4).$implicit;l(2),E("",r.label,":"),l(2),E(" ",Ye(5,2,i[r.def],"MM/dd/yyyy")," ")}}function en(o,m){if(o&1&&(V(0,54),d(1,Zi,3,1,"mat-header-cell",55)(2,Ki,6,5,"mat-cell",56),N()),o&2){let i=p(3).$implicit;c("matColumnDef",i.def)}}function tn(o,m){if(o&1&&(t(0,"mat-header-cell",57)(1,"span",58),n(2),e()()),o&2){let i=p(4).$implicit;l(2),F(i.label)}}function nn(o,m){if(o&1){let i=S();t(0,"mat-cell",59),h("contextmenu",function(a){let s=u(i).$implicit,f=p(5);return _(f.onContextMenu(a,s))}),t(1,"span",60),n(2),e(),t(3,"span",58),n(4),e()()}if(o&2){let i=m.$implicit,r=p(4).$implicit;l(2),E("",r.label,":"),l(2),F(i[r.def])}}function on(o,m){if(o&1&&(V(0,54),d(1,tn,3,1,"mat-header-cell",55)(2,nn,5,2,"mat-cell",56),N()),o&2){let i=p(3).$implicit;c("matColumnDef",i.def)}}function an(o,m){if(o&1&&d(0,en,3,1,"ng-container",54)(1,on,3,1,"ng-container",54),o&2){let i=p(2).$implicit;x(i.type==="date"?0:1)}}function rn(o,m){if(o&1&&d(0,Ji,3,1,"ng-container",54)(1,an,2,1),o&2){let i=p().$implicit;x(i.def==="status"?0:1)}}function ln(o,m){if(o&1&&d(0,Qi,0,0)(1,rn,2,1),o&2){let i=m.$implicit;x(i.type==="check"||i.type==="actionBtn"?0:1)}}function mn(o,m){o&1&&(t(0,"mat-header-cell",63),n(1,"Actions"),e())}function sn(o,m){if(o&1){let i=S();t(0,"mat-cell",63)(1,"button",64),h("click",function(a){return u(i),_(a.stopPropagation())})("click",function(){let a=u(i).$implicit,s=p();return _(s.editCall(a))}),C(2,"app-feather-icons",65),e(),t(3,"button",64),h("click",function(a){return u(i),_(a.stopPropagation())})("click",function(){let a=u(i).$implicit,s=p();return _(s.deleteItem(a))}),C(4,"app-feather-icons",65),e()()}o&2&&(l(2),Ne("tbl-fav-edit"),c("icon","edit"),l(2),Ne("tbl-fav-delete"),c("icon","trash-2"))}function cn(o,m){o&1&&C(0,"mat-header-row")}function dn(o,m){if(o&1){let i=S();t(0,"mat-row",66),h("click",function(){let a=u(i).$implicit,s=p();return _(s.editCall(a))}),e()}o&2&&(ne("cursor","pointer"),c("@rowsAnimation",void 0))}function pn(o,m){o&1&&(t(0,"div",44),C(1,"mat-progress-spinner",67),e()),o&2&&(l(),c("diameter",40))}function un(o,m){if(o&1){let i=S();t(0,"button",68),h("click",function(){u(i);let a=p();return _(a.addNew())}),t(1,"mat-icon"),n(2,"add_box"),e(),t(3,"span"),n(4,"Add Record"),e()(),t(5,"button",68),h("click",function(){let a=u(i).item,s=p();return _(s.editCall(a))}),t(6,"mat-icon"),n(7,"create"),e(),t(8,"span"),n(9,"Edit Record"),e()(),t(10,"button",68),h("click",function(){let a=u(i).item,s=p();return _(s.deleteItem(a))}),t(11,"mat-icon"),n(12,"delete"),e(),t(13,"span"),n(14,"Delete Record"),e()(),t(15,"button",68),h("click",function(){u(i);let a=p();return _(a.refresh())}),t(16,"mat-icon"),n(17,"refresh"),e(),t(18,"span"),n(19,"Refresh Record"),e()(),t(20,"button",69)(21,"mat-icon"),n(22,"no_encryption"),e(),t(23,"span"),n(24,"Disable"),e()(),t(25,"button",70)(26,"mat-icon"),n(27,"list_alt"),e(),t(28,"span"),n(29," Nested Menu"),e()()}if(o&2){p();let i=g(71);l(25),c("matMenuTriggerFor",i)}}function _n(o,m){if(o&1&&(t(0,"div",71),n(1," No results "),e()),o&2){let i=p();ne("display",i.dataSource.data.length===0?"":"none")}}var Si=(()=>{class o{constructor(i,r,a,s){this.httpClient=i,this.dialog=r,this.feesService=a,this.snackBar=s,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"id",label:"ID",type:"text",visible:!1},{def:"rollNo",label:"Roll No",type:"text",visible:!0},{def:"studentName",label:"Student Name",type:"text",visible:!0},{def:"class",label:"Class",type:"text",visible:!0},{def:"feesType",label:"Fees Type",type:"text",visible:!0},{def:"invoiceNo",label:"Invoice No",type:"text",visible:!0},{def:"paymentDueDate",label:"Payment Due Date",type:"date",visible:!0},{def:"paymentDate",label:"Payment Date",type:"date",visible:!0},{def:"paymentType",label:"Payment Type",type:"text",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"amount",label:"Amount",type:"text",visible:!0},{def:"lateFee",label:"Late Fee",type:"text",visible:!1},{def:"discount",label:"Discount",type:"text",visible:!1},{def:"createdAt",label:"Created At",type:"date",visible:!1},{def:"updatedAt",label:"Updated At",type:"date",visible:!1},{def:"notes",label:"Notes",type:"text",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Dt([]),this.selection=new ot(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0,this.destroy$=new Oe,this.breadscrums=[{title:"All Fees",items:["Fees"],active:"All Fees"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(i=>i.visible).map(i=>i.def)}loadData(){this.feesService.getAllFees().subscribe({next:i=>{this.dataSource.data=i,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(r,a)=>Object.values(r).some(s=>s.toString().toLowerCase().includes(a))},error:i=>console.error(i)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(i){let r=i.target.value.trim().toLowerCase();this.dataSource.filter=r}addNew(){this.openDialog("add")}editCall(i){this.openDialog("edit",i)}openDialog(i,r){let a;localStorage.getItem("isRtl")==="true"?a="rtl":a="ltr",this.dialog.open(si,{width:"60vw",maxWidth:"100vw",data:{fees:r,action:i},direction:a,autoFocus:!1}).afterClosed().subscribe(f=>{f&&(i==="add"?this.dataSource.data=[f,...this.dataSource.data]:this.updateRecord(f),this.refreshTable(),this.showNotification(i==="add"?"snackbar-success":"black",`${i==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(i){let r=this.dataSource.data.findIndex(a=>a.id===i.id);r!==-1&&(this.dataSource.data[r]=i,this.dataSource._updateChangeSubscription())}deleteItem(i){this.dialog.open(ci,{data:i}).afterClosed().subscribe(a=>{a&&(this.dataSource.data=this.dataSource.data.filter(s=>s.id!==i.id),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}showNotification(i,r,a,s){this.snackBar.open(r,"",{duration:2e3,verticalPosition:a,horizontalPosition:s,panelClass:i})}exportExcel(){let i=this.dataSource.filteredData.map(r=>({ID:r.id,"Roll No":r.rollNo,"Student Name":r.studentName,Class:r.class,"Fees Type":r.feesType,"Invoice No":r.invoiceNo,"Payment Due Date":r.paymentDueDate,"Payment Date":r.paymentDate,"Payment Type":r.paymentType,Status:r.status,Amount:r.amount,"Late Fee":r.lateFee,Discount:r.discount,"Created At":r.createdAt,"Updated At":r.updatedAt,Notes:r.notes}));it.exportToExcel(i,"fee_payment_export")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(i=>this.selection.select(i))}removeSelectedRows(){let i=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(r=>!this.selection.selected.includes(r)),this.selection.clear(),this.showNotification("snackbar-danger",`${i} Record(s) Deleted Successfully...!!!`,"bottom","center")}onContextMenu(i,r){i.preventDefault(),this.contextMenuPosition={x:`${i.clientX}px`,y:`${i.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:r},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(r){return new(r||o)(y(oe),y(At),y($t),y(Pt))}}static{this.\u0275cmp=M({type:o,selectors:[["app-all-fees"]],viewQuery:function(r,a){if(r&1&&(z(ce,5),z(se,5),z(Li,5),z(ae,5)),r&2){let s;X(s=Y())&&(a.paginator=s.first),X(s=Y())&&(a.sort=s.first),X(s=Y())&&(a.filter=s.first),X(s=Y())&&(a.contextMenu=s.first)}},decls:90,vars:18,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"col-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",3,"click"],[1,"m-l-10",3,"hidden"],["mat-icon-button","","matTooltip","Delete",1,"col-red",3,"click","hidden"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(r,a){if(r&1){let s=S();t(0,"section",5)(1,"div",6),A(2,Oi,2,3,"div",7,k),t(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"ul",13)(10,"li",14)(11,"h2"),n(12,"All Fees"),e()(),t(13,"li",15)(14,"label",16)(15,"i",17),n(16,"search"),e()(),t(17,"input",18,0),h("keyup",function(b){return u(s),_(a.applyFilter(b))}),e()()()(),t(19,"div",19)(20,"ul",20)(21,"li",21)(22,"div",22)(23,"button",23),h("click",function(){u(s);let b=g(27);return _(b.open())}),t(24,"mat-icon"),n(25,"filter_list"),e(),t(26,"mat-select",24,1),Pe("ngModelChange",function(b){u(s);let T=g(18);return qe(T.value,b)||(T.value=b),_(b)}),t(28,"span",25),n(29,"Show/Hide Column"),e(),A(30,Gi,4,2,"div",null,k),e()()()(),t(32,"li",21)(33,"div",22)(34,"button",26),h("click",function(){return u(s),_(a.addNew())}),t(35,"mat-icon"),n(36,"add_circle_outline"),e()()()(),t(37,"li",21)(38,"div",22)(39,"button",27),h("click",function(){return u(s),_(a.refresh())}),t(40,"mat-icon"),n(41,"refresh"),e()()()(),t(42,"li",21)(43,"div",28)(44,"button",29),h("click",function(){return u(s),_(a.removeSelectedRows())}),t(45,"mat-icon"),n(46,"delete_outline"),e()()()(),t(47,"li")(48,"div",30)(49,"button",31),h("click",function(){return u(s),_(a.exportExcel())}),t(50,"mat-icon",32),n(51,"file_download"),e()()()()()()(),t(52,"div",33)(53,"div",34)(54,"table",35),V(55,36),d(56,Hi,2,3,"mat-header-cell",37)(57,Ui,2,2,"mat-cell",38),N(),A(58,ln,2,1,null,null,k),V(60,39),d(61,mn,2,0,"mat-header-cell",40)(62,sn,5,6,"mat-cell",41),N(),d(63,cn,1,0,"mat-header-row",42)(64,dn,1,3,"mat-row",43),e(),d(65,pn,2,1,"div",44),C(66,"div",45),t(67,"mat-menu",null,2),d(69,un,30,1,"ng-template",46),e(),t(70,"mat-menu",null,3)(72,"button",47)(73,"mat-icon"),n(74,"mail_outline"),e(),t(75,"span"),n(76,"Item 1"),e()(),t(77,"button",47)(78,"mat-icon"),n(79,"call"),e(),t(80,"span"),n(81,"Item 2"),e()(),t(82,"button",47)(83,"mat-icon"),n(84,"chat"),e(),t(85,"span"),n(86,"Item 3"),e()()(),d(87,_n,2,2,"div",48),C(88,"mat-paginator",49,4),e()()()()()()()}if(r&2){let s=g(18),f=g(68);l(2),I(a.breadscrums),l(24),Re("ngModel",s.value),l(4),I(a.columnDefinitions),l(13),c("hidden",!a.selection.hasValue()),l(),c("hidden",!a.selection.hasValue()),l(10),c("dataSource",a.dataSource),l(4),I(a.columnDefinitions),l(5),c("matHeaderRowDef",a.getDisplayedColumns()),l(),c("matRowDefColumns",a.getDisplayedColumns()),l(),x(a.isLoading?65:-1),l(),ne("left",a.contextMenuPosition.x)("top",a.contextMenuPosition.y),c("matMenuTriggerFor",f),l(21),x(a.isLoading?87:-1),l(),c("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",ze(17,ji))}},dependencies:[le,rt,Ke,Je,Ze,dt,O,U,L,B,D,re,wt,Tt,H,G,j,$,q,P,et,me,ut,pt,Mt,ht,xt,bt,vt,Ct,gt,yt,St,Et,Ft,ft,se,_t,at,tt,qt,Rt,ct,st,lt,mt,ae,kt,ce],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}[_nghost-%COMP%]     .mat-column-rollNo{max-width:40px}[_nghost-%COMP%]     .mat-column-studentName{min-width:130px}"],data:{animation:[nt]}})}}return o})();function hn(o,m){if(o&1&&(t(0,"div",3),C(1,"app-breadcrumb",38),e()),o&2){let i=m.$implicit;l(),c("title",i.title)("items",i.items)("active_item",i.active)}}function Cn(o,m){o&1&&(t(0,"mat-error"),n(1," Please enter roll no "),e())}function xn(o,m){o&1&&(t(0,"mat-error"),n(1," Please enter student name "),e())}function vn(o,m){o&1&&(t(0,"mat-error"),n(1," Select Any Department "),e())}function yn(o,m){o&1&&(t(0,"mat-error"),n(1," Select Fees Type "),e())}function Sn(o,m){o&1&&(t(0,"mat-error"),n(1," Select Duration "),e())}function bn(o,m){o&1&&(t(0,"mat-error"),n(1," Please select date "),e())}function gn(o,m){o&1&&(t(0,"mat-error"),n(1," Select Status "),e())}function En(o,m){o&1&&(t(0,"mat-error"),n(1," Enter Invoice Number "),e())}function Fn(o,m){o&1&&(t(0,"mat-error"),n(1," Select Status "),e())}function Mn(o,m){o&1&&(t(0,"mat-error"),n(1," Enter amount "),e())}var bi=(()=>{class o{constructor(i){this.fb=i,this.breadscrums=[{title:"Add Fees",items:["Fees"],active:"Add Fees"}],this.feesForm=this.fb.group({rollNo:["",[v.required]],sName:["",[v.required]],fType:["",[v.required]],department:["",[v.required]],date:["",[v.required]],invoiceNo:["",[v.required]],pType:["",[v.required]],status:["",[v.required]],amount:["",[v.required]],duration:["",[v.required]],details:[""]})}onSubmit(){console.log("Form Value",this.feesForm.value)}static{this.\u0275fac=function(r){return new(r||o)(y(Ee))}}static{this.\u0275cmp=M({type:o,selectors:[["app-add-fees"]],decls:144,vars:32,consts:[["picker1",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-3"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","rollNo","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","sName","required",""],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","department","required",""],[3,"value"],["appearance","outline",1,"example-full-width"],["formControlName","fType","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"m-b-20"],[1,"msr-3"],["aria-label","Select duration","formControlName","duration","required",""],["value","monthly"],["value","yearly"],["value","session"],["matInput","","formControlName","date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["formControlName","pType","required",""],["matInput","","formControlName","invoiceNo","required",""],["formControlName","status","required",""],["matInput","","formControlName","amount","required",""],["matInput","","formControlName","details"],[1,"example-button-row"],["mat-flat-button","","color","accent",1,"btn-space",3,"disabled"],["mat-flat-button","","color","warn","tabindex","-1"],[3,"title","items","active_item"]],template:function(r,a){if(r&1){let s=S();t(0,"section",1)(1,"div",2),A(2,hn,2,3,"div",3,k),t(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),n(9,"Add Fees Details"),e()(),t(10,"div",8)(11,"form",9),h("ngSubmit",function(){return u(s),_(a.onSubmit())}),t(12,"div",10)(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),n(16,"Roll No"),e(),C(17,"input",13),t(18,"mat-icon",14),n(19,"label"),e(),d(20,Cn,2,0,"mat-error"),e()(),t(21,"div",11)(22,"mat-form-field",12)(23,"mat-label"),n(24,"Student Name"),e(),C(25,"input",15),t(26,"mat-icon",14),n(27,"account_circle"),e(),d(28,xn,2,0,"mat-error"),e()()(),t(29,"div",10)(30,"div",16)(31,"mat-form-field",12)(32,"mat-label"),n(33,"Select Department"),e(),t(34,"mat-select",17)(35,"mat-option",18),n(36," Mechanical "),e(),t(37,"mat-option",18),n(38," Science "),e(),t(39,"mat-option",18),n(40," Mathematics "),e(),t(41,"mat-option",18),n(42," Computer "),e()(),d(43,vn,2,0,"mat-error"),e()(),t(44,"div",16)(45,"mat-form-field",19)(46,"mat-label"),n(47,"Fees Type"),e(),t(48,"mat-select",20)(49,"mat-option",18),n(50," Annual "),e(),t(51,"mat-option",18),n(52," Tution "),e(),t(53,"mat-option",18),n(54," Transport "),e(),t(55,"mat-option",18),n(56," Exam "),e(),t(57,"mat-option",18),n(58," Library "),e(),t(59,"mat-option",18),n(60," Other "),e()(),d(61,yn,2,0,"mat-error"),e()()(),t(62,"div",10)(63,"div",21)(64,"div",22)(65,"mat-label",23),n(66,"Duration:"),e(),t(67,"mat-radio-group",24)(68,"mat-radio-button",25),n(69,"Monthly"),e(),t(70,"mat-radio-button",26),n(71,"Yearly"),e(),t(72,"mat-radio-button",27),n(73,"Session"),e(),d(74,Sn,2,0,"mat-error"),e()()()(),t(75,"div",10)(76,"div",16)(77,"mat-form-field",12)(78,"mat-label"),n(79,"Collection Date"),e(),C(80,"input",28)(81,"mat-datepicker-toggle",29)(82,"mat-datepicker",null,0),d(84,bn,2,0,"mat-error"),e()(),t(85,"div",16)(86,"mat-form-field",12)(87,"mat-label"),n(88,"Payment Type"),e(),t(89,"mat-select",30)(90,"mat-option",18),n(91," Cash "),e(),t(92,"mat-option",18),n(93," Cheque "),e(),t(94,"mat-option",18),n(95," Online Transfer "),e(),t(96,"mat-option",18),n(97," Draft "),e(),t(98,"mat-option",18),n(99," Other "),e()(),d(100,gn,2,0,"mat-error"),e()()(),t(101,"div",10)(102,"div",16)(103,"mat-form-field",12)(104,"mat-label"),n(105,"Invoice Number"),e(),C(106,"input",31),t(107,"mat-icon",14),n(108,"receipt"),e(),d(109,En,2,0,"mat-error"),e()(),t(110,"div",16)(111,"mat-form-field",12)(112,"mat-label"),n(113,"Status"),e(),t(114,"mat-select",32)(115,"mat-option",18),n(116," Paid "),e(),t(117,"mat-option",18),n(118," Unpaid "),e(),t(119,"mat-option",18),n(120," Pending "),e()(),d(121,Fn,2,0,"mat-error"),e()()(),t(122,"div",10)(123,"div",16)(124,"mat-form-field",12)(125,"mat-label"),n(126,"Amount"),e(),C(127,"input",33),t(128,"mat-icon",14),n(129,"monetization_on"),e(),d(130,Mn,2,0,"mat-error"),e()()(),t(131,"div",10)(132,"div",21)(133,"mat-form-field",12)(134,"mat-label"),n(135,"Details"),e(),C(136,"textarea",34),e()()(),t(137,"div",10)(138,"div",21)(139,"div",35)(140,"button",36),n(141,"Submit"),e(),t(142,"button",37),n(143,"Cancel"),e()()()()()()()()()()()}if(r&2){let s,f,b,T,J,Z,K,ee,te,fe,he=g(83);l(2),I(a.breadscrums),l(9),c("formGroup",a.feesForm),l(9),x((s=a.feesForm.get("rollNo"))!=null&&s.hasError("required")?20:-1),l(8),x((f=a.feesForm.get("sName"))!=null&&f.hasError("required")?28:-1),l(7),c("value","mechanical"),l(2),c("value","science"),l(2),c("value","mathematics"),l(2),c("value","computer"),l(2),x((b=a.feesForm.get("department"))!=null&&b.hasError("required")?43:-1),l(6),c("value","annual"),l(2),c("value","tution"),l(2),c("value","transport"),l(2),c("value","exam"),l(2),c("value","library"),l(2),c("value","other"),l(2),x((T=a.feesForm.get("fType"))!=null&&T.hasError("required")?61:-1),l(13),x((J=a.feesForm.get("duration"))!=null&&J.hasError("required")?74:-1),l(6),c("matDatepicker",he),l(),c("for",he),l(3),x((Z=a.feesForm.get("date"))!=null&&Z.hasError("required")?84:-1),l(6),c("value","cash"),l(2),c("value","cheque"),l(2),c("value","online transfer"),l(2),c("value","credit card"),l(2),c("value","other"),l(2),x((K=a.feesForm.get("pType"))!=null&&K.hasError("required")?100:-1),l(9),x((ee=a.feesForm.get("invoiceNo"))!=null&&ee.hasError("required")?109:-1),l(6),c("value","paid"),l(2),c("value","unpaid"),l(2),c("value","pending"),l(2),x((te=a.feesForm.get("status"))!=null&&te.hasError("required")?121:-1),l(9),x((fe=a.feesForm.get("amount"))!=null&&fe.hasError("required")?130:-1),l(10),c("disabled",!a.feesForm.valid)}},dependencies:[le,P,ye,xe,q,ve,ge,$,Se,be,O,Te,Fe,Me,De,U,Ve,L,B,H,G,j,me,zt,Qt,Wt,Ie,we,ke,Ae,D,R],encapsulation:2})}}return o})();function Dn(o,m){if(o&1&&(t(0,"div",3),C(1,"app-breadcrumb",38),e()),o&2){let i=m.$implicit;l(),c("title",i.title)("items",i.items)("active_item",i.active)}}function Tn(o,m){o&1&&(t(0,"mat-error"),n(1," Please enter roll no "),e())}function wn(o,m){o&1&&(t(0,"mat-error"),n(1," Please enter student name "),e())}function kn(o,m){o&1&&(t(0,"mat-error"),n(1," Select Any Department "),e())}function An(o,m){o&1&&(t(0,"mat-error"),n(1," Select Fees Type "),e())}function In(o,m){o&1&&(t(0,"mat-error"),n(1," Select Duration "),e())}function Vn(o,m){o&1&&(t(0,"mat-error"),n(1," Please select date "),e())}function Nn(o,m){o&1&&(t(0,"mat-error"),n(1," Select Status "),e())}function Rn(o,m){o&1&&(t(0,"mat-error"),n(1," Enter Invoice Number "),e())}function qn(o,m){o&1&&(t(0,"mat-error"),n(1," Select Status "),e())}function Pn(o,m){o&1&&(t(0,"mat-error"),n(1," Enter amount "),e())}var gi=(()=>{class o{constructor(i){this.fb=i,this.formdata={rollNo:"99",sName:"Jenish Shah	",fType:"annual",department:"mathematics",date:"2020-01-04T14:22:18Z",invoiceNo:"IN-434454",pType:"cheque",status:"paid",amount:"320$",duration:"yearly",details:"Annual Tution Fees"},this.breadscrums=[{title:"Edit Fees",items:["Fees"],active:"Edit Fees"}],this.feesForm=this.createContactForm()}onSubmit(){console.log("Form Value",this.feesForm.value)}createContactForm(){return this.fb.group({rollNo:[this.formdata.rollNo,[v.required]],sName:[this.formdata.sName,[v.required]],fType:[this.formdata.fType,[v.required]],department:[this.formdata.department,[v.required]],date:[this.formdata.date,[v.required]],invoiceNo:[this.formdata.invoiceNo,[v.required]],pType:[this.formdata.pType,[v.required]],status:[this.formdata.status,[v.required]],amount:[this.formdata.amount,[v.required]],duration:[this.formdata.duration,[v.required]],details:[this.formdata.details]})}static{this.\u0275fac=function(r){return new(r||o)(y(Ee))}}static{this.\u0275cmp=M({type:o,selectors:[["app-edit-fees"]],decls:144,vars:32,consts:[["picker1",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-3"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","rollNo","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","sName","required",""],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["formControlName","department","required",""],[3,"value"],["appearance","outline",1,"example-full-width"],["formControlName","fType","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"m-b-20"],[1,"msr-3"],["aria-label","Select duration","formControlName","duration","required",""],["value","monthly"],["value","yearly"],["value","session"],["matInput","","formControlName","date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["formControlName","pType","required",""],["matInput","","formControlName","invoiceNo","required",""],["formControlName","status","required",""],["matInput","","formControlName","amount","required",""],["matInput","","formControlName","details"],[1,"example-button-row"],["mat-flat-button","","color","accent",1,"btn-space",3,"disabled"],["mat-flat-button","","color","warn","tabindex","-1"],[3,"title","items","active_item"]],template:function(r,a){if(r&1){let s=S();t(0,"section",1)(1,"div",2),A(2,Dn,2,3,"div",3,k),t(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),n(9,"Edit Fees Details"),e()(),t(10,"div",8)(11,"form",9),h("ngSubmit",function(){return u(s),_(a.onSubmit())}),t(12,"div",10)(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),n(16,"Roll No"),e(),C(17,"input",13),t(18,"mat-icon",14),n(19,"label"),e(),d(20,Tn,2,0,"mat-error"),e()(),t(21,"div",11)(22,"mat-form-field",12)(23,"mat-label"),n(24,"Student Name"),e(),C(25,"input",15),t(26,"mat-icon",14),n(27,"account_circle"),e(),d(28,wn,2,0,"mat-error"),e()()(),t(29,"div",10)(30,"div",16)(31,"mat-form-field",12)(32,"mat-label"),n(33,"Select Department"),e(),t(34,"mat-select",17)(35,"mat-option",18),n(36," Mechanical "),e(),t(37,"mat-option",18),n(38," Science "),e(),t(39,"mat-option",18),n(40," Mathematics "),e(),t(41,"mat-option",18),n(42," Computer "),e()(),d(43,kn,2,0,"mat-error"),e()(),t(44,"div",16)(45,"mat-form-field",19)(46,"mat-label"),n(47,"Fees Type"),e(),t(48,"mat-select",20)(49,"mat-option",18),n(50," Annual "),e(),t(51,"mat-option",18),n(52," Tution "),e(),t(53,"mat-option",18),n(54," Transport "),e(),t(55,"mat-option",18),n(56," Exam "),e(),t(57,"mat-option",18),n(58," Library "),e(),t(59,"mat-option",18),n(60," Other "),e()(),d(61,An,2,0,"mat-error"),e()()(),t(62,"div",10)(63,"div",21)(64,"div",22)(65,"mat-label",23),n(66,"Duration:"),e(),t(67,"mat-radio-group",24)(68,"mat-radio-button",25),n(69,"Monthly"),e(),t(70,"mat-radio-button",26),n(71,"Yearly"),e(),t(72,"mat-radio-button",27),n(73,"Session"),e(),d(74,In,2,0,"mat-error"),e()()()(),t(75,"div",10)(76,"div",16)(77,"mat-form-field",12)(78,"mat-label"),n(79,"Collection Date"),e(),C(80,"input",28)(81,"mat-datepicker-toggle",29)(82,"mat-datepicker",null,0),d(84,Vn,2,0,"mat-error"),e()(),t(85,"div",16)(86,"mat-form-field",12)(87,"mat-label"),n(88,"Payment Type"),e(),t(89,"mat-select",30)(90,"mat-option",18),n(91," Cash "),e(),t(92,"mat-option",18),n(93," Cheque "),e(),t(94,"mat-option",18),n(95," Online Transfer "),e(),t(96,"mat-option",18),n(97," Draft "),e(),t(98,"mat-option",18),n(99," Other "),e()(),d(100,Nn,2,0,"mat-error"),e()()(),t(101,"div",10)(102,"div",16)(103,"mat-form-field",12)(104,"mat-label"),n(105,"Invoice Number"),e(),C(106,"input",31),t(107,"mat-icon",14),n(108,"receipt"),e(),d(109,Rn,2,0,"mat-error"),e()(),t(110,"div",16)(111,"mat-form-field",12)(112,"mat-label"),n(113,"Status"),e(),t(114,"mat-select",32)(115,"mat-option",18),n(116," Paid "),e(),t(117,"mat-option",18),n(118," Unpaid "),e(),t(119,"mat-option",18),n(120," Pending "),e()(),d(121,qn,2,0,"mat-error"),e()()(),t(122,"div",10)(123,"div",16)(124,"mat-form-field",12)(125,"mat-label"),n(126,"Amount"),e(),C(127,"input",33),t(128,"mat-icon",14),n(129,"monetization_on"),e(),d(130,Pn,2,0,"mat-error"),e()()(),t(131,"div",10)(132,"div",21)(133,"mat-form-field",12)(134,"mat-label"),n(135,"Details"),e(),C(136,"textarea",34),e()()(),t(137,"div",10)(138,"div",21)(139,"div",35)(140,"button",36),n(141,"Submit"),e(),t(142,"button",37),n(143,"Cancel"),e()()()()()()()()()()()}if(r&2){let s,f,b,T,J,Z,K,ee,te,fe,he=g(83);l(2),I(a.breadscrums),l(9),c("formGroup",a.feesForm),l(9),x((s=a.feesForm.get("rollNo"))!=null&&s.hasError("required")?20:-1),l(8),x((f=a.feesForm.get("sName"))!=null&&f.hasError("required")?28:-1),l(7),c("value","mechanical"),l(2),c("value","science"),l(2),c("value","mathematics"),l(2),c("value","computer"),l(2),x((b=a.feesForm.get("department"))!=null&&b.hasError("required")?43:-1),l(6),c("value","annual"),l(2),c("value","tution"),l(2),c("value","transport"),l(2),c("value","exam"),l(2),c("value","library"),l(2),c("value","other"),l(2),x((T=a.feesForm.get("fType"))!=null&&T.hasError("required")?61:-1),l(13),x((J=a.feesForm.get("duration"))!=null&&J.hasError("required")?74:-1),l(6),c("matDatepicker",he),l(),c("for",he),l(3),x((Z=a.feesForm.get("date"))!=null&&Z.hasError("required")?84:-1),l(6),c("value","cash"),l(2),c("value","cheque"),l(2),c("value","online transfer"),l(2),c("value","credit card"),l(2),c("value","other"),l(2),x((K=a.feesForm.get("pType"))!=null&&K.hasError("required")?100:-1),l(9),x((ee=a.feesForm.get("invoiceNo"))!=null&&ee.hasError("required")?109:-1),l(6),c("value","paid"),l(2),c("value","unpaid"),l(2),c("value","pending"),l(2),x((te=a.feesForm.get("status"))!=null&&te.hasError("required")?121:-1),l(9),x((fe=a.feesForm.get("amount"))!=null&&fe.hasError("required")?130:-1),l(10),c("disabled",!a.feesForm.valid)}},dependencies:[le,P,ye,xe,q,ve,ge,$,Se,be,O,Te,Fe,Me,De,U,Ve,L,B,H,G,j,me,zt,Qt,Wt,Ie,we,ke,Ae,D,R],encapsulation:2})}}return o})();function $n(o,m){if(o&1&&(t(0,"div",2),C(1,"app-breadcrumb",31),e()),o&2){let i=m.$implicit;l(),c("title",i.title)("items",i.items)("active_item",i.active)}}var Ei=(()=>{class o{constructor(){this.breadscrums=[{title:"Receipt",items:["Fees"],active:"Receipt"}]}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=M({type:o,selectors:[["app-fee-receipt"]],decls:122,vars:0,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"body"],[1,"row"],[1,"col-md-12"],[1,"white-box"],[1,"float-end"],[1,"float-start"],[1,"font-bold"],["src","assets/images/invoice_logo.png","alt","logo",1,"logo-default"],[1,"text-muted","m-l-5"],[1,"float-end","text-end"],[1,"addr-font-h3","font-bold"],[1,"font-bold","addr-font-h4"],[1,"text-muted","m-l-30"],[1,"m-t-30"],[1,"ml-2","fa","fa-calendar"],[1,"label","col-green","font-weight-bold"],[1,"table-responsive","m-t-40"],[1,"table","table-hover"],[1,"text-center"],[1,"text-end"],[1,"float-end","m-t-30","text-end"],[1,"clearfix"],["mat-flat-button","","color","accent"],["mat-flat-button","","color","warn",1,"m-2"],[1,"fa","fa-print"],[3,"title","items","active_item"]],template:function(r,a){r&1&&(t(0,"section",0)(1,"div",1),A(2,$n,2,3,"div",2,k),t(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"h6")(12,"b"),n(13,"RECEIPT"),e(),t(14,"span",10),n(15,"#345766"),e()(),C(16,"hr"),t(17,"div",7)(18,"div",8)(19,"div",11)(20,"address")(21,"p",12),n(22,"BILL FROM :"),e(),C(23,"img",13),t(24,"p",14),n(25," Aditya University, "),C(26,"br"),n(27," Opp. Town Hall, "),C(28,"br"),n(29," Sardar Patel Road, "),C(30,"br"),n(31," Ahmedabad - 380015 "),e()()(),t(32,"div",15)(33,"address")(34,"p",16),n(35,"BILL TO :"),e(),t(36,"p",17),n(37,"Jayesh Patel"),e(),t(38,"p",18),n(39," 207, Prem Sagar Appt., "),C(40,"br"),n(41," Near Income Tax Office, "),C(42,"br"),n(43," Ashram Road, "),C(44,"br"),n(45," Ahmedabad - 380057 "),e(),t(46,"p",19)(47,"b"),n(48,"Invoice Date :"),e(),C(49,"i",20),n(50," 14th July 2019 "),e(),t(51,"p")(52,"b"),n(53,"Status :"),e(),t(54,"span",21),n(55,"paid"),e()()()()(),t(56,"div",8)(57,"div",22)(58,"table",23)(59,"thead")(60,"tr")(61,"th",24),n(62,"#"),e(),t(63,"th",25),n(64,"Fees Type"),e(),t(65,"th",25),n(66,"Frequency"),e(),t(67,"th",25),n(68,"Date"),e(),t(69,"th",25),n(70,"Invoice number"),e(),t(71,"th",25),n(72,"Amount"),e()()(),t(73,"tbody")(74,"tr")(75,"td",24),n(76,"1"),e(),t(77,"td",25),n(78,"Annual Fees"),e(),t(79,"td",25),n(80,"Yearly"),e(),t(81,"td",25),n(82,"2016-11-19"),e(),t(83,"td",25),n(84,"#IN-345609865"),e(),t(85,"td",25),n(86,"$100"),e()(),t(87,"tr")(88,"td",24),n(89,"2"),e(),t(90,"td",25),n(91,"Tuition Fees"),e(),t(92,"td",25),n(93,"Monthly"),e(),t(94,"td",25),n(95,"2016-11-19"),e(),t(96,"td",25),n(97,"#IN-345604565"),e(),t(98,"td",25),n(99,"$50"),e()()()()()(),t(100,"div",8)(101,"div",26)(102,"p"),n(103,"Sub - Total amount: $150"),e(),t(104,"p"),n(105,"Discount : $10 "),e(),t(106,"p"),n(107,"Tax (10%) : $14 "),e(),C(108,"hr"),t(109,"h6")(110,"b"),n(111,"Total :"),e(),n(112," $164"),e()(),C(113,"div",27)(114,"hr"),t(115,"div",25)(116,"button",28),n(117," Proceed to payment "),e(),t(118,"button",29)(119,"span"),C(120,"i",30),n(121," Print"),e()()()()()()()()()()()()()()),r&2&&(l(2),I(a.breadscrums))},dependencies:[le,D,R],encapsulation:2})}}return o})();var Bt=(()=>{class o{constructor(i){this.httpClient=i,this.API_URL="assets/data/fees-type.json",this.dataChange=new Ge([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllFeesTypes(){return this.httpClient.get(this.API_URL).pipe(Q(i=>(this.dataChange.next(i),i)),W(this.handleError))}addFeesType(i){return this.httpClient.post(this.API_URL,i).pipe(Q(()=>(this.dialogData=i,i)),W(this.handleError))}updateFeesType(i){return this.httpClient.put(`${this.API_URL}`,i).pipe(Q(()=>(this.dialogData=i,i)),W(this.handleError))}deleteFeesType(i){return this.httpClient.delete(`${this.API_URL}`).pipe(Q(()=>i),W(this.handleError))}handleError(i){return console.error("An error occurred:",i.message),He(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(r){return new(r||o)(Qe(oe))}}static{this.\u0275prov=Ue({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Fi=(()=>{class o{constructor(i,r,a){this.dialogRef=i,this.data=r,this.feesTypeService=a}onNoClick(){this.dialogRef.close()}confirmDelete(){this.feesTypeService.deleteFeesType(this.data.feeTypeId).subscribe({next:i=>{this.dialogRef.close(i)},error:i=>{console.error("Delete Error:",i)}})}static{this.\u0275fac=function(r){return new(r||o)(y(de),y(pe),y(Bt))}}static{this.\u0275cmp=M({type:o,selectors:[["app-all-feesTypes-delete"]],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","",1,"formCancelBtn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"h3",1),n(2,"Are you sure?"),e(),t(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),n(8," Fees Type ID: "),e(),n(9),e()(),t(10,"li")(11,"p")(12,"span",4),n(13,"Fees Type: "),e(),n(14),e()(),t(15,"li")(16,"p")(17,"span",4),n(18,"Category: "),e(),n(19),e()()()(),t(20,"div",5)(21,"button",6),h("click",function(){return a.confirmDelete()}),n(22," Delete "),e(),t(23,"button",7),h("click",function(){return a.onNoClick()}),n(24,"Cancel"),e()()()),r&2&&(l(9),F(a.data.feeTypeId),l(5),E("",a.data.feeTypeName," "),l(5),E("",a.data.category," "),l(2),c("mat-dialog-close",1))},dependencies:[It,_e,Vt,D,R,ue],encapsulation:2})}}return o})();var Zt=class{constructor(m={}){this.feeTypeId=m.feeTypeId||this.getRandomID(),this.feeTypeName=m.feeTypeName||"",this.category=m.category||"",this.description=m.description||"",this.amount=m.amount||0,this.applicableClasses=m.applicableClasses||"",this.frequency=m.frequency||"",this.status=m.status||"Active",this.createdBy=m.createdBy||"",this.createdDate=m.createdDate||w(new Date,"yyyy-MM-dd","en"),this.lastUpdated=m.lastUpdated||w(new Date,"yyyy-MM-dd","en")}getRandomID(){return Math.floor(Math.random()*1e6)}};function Bn(o,m){o&1&&(t(0,"mat-error"),n(1," Fee type name is required "),e())}function Ln(o,m){o&1&&(t(0,"mat-error"),n(1,"Category is required"),e())}function jn(o,m){o&1&&(t(0,"mat-error"),n(1,"Category cannot exceed 50 characters"),e())}function On(o,m){o&1&&(t(0,"mat-error"),n(1,"Amount is required"),e())}function Gn(o,m){o&1&&(t(0,"mat-error"),n(1,"Amount must be 0 or greater"),e())}function Hn(o,m){o&1&&(t(0,"mat-error"),n(1,"Amount cannot exceed 100,000"),e())}function Un(o,m){o&1&&(t(0,"mat-error"),n(1,"Frequency is required"),e())}function Qn(o,m){o&1&&(t(0,"mat-error"),n(1,"Status is required"),e())}function Wn(o,m){o&1&&(t(0,"mat-error"),n(1,"Created by cannot exceed 100 characters"),e())}function zn(o,m){o&1&&(t(0,"mat-error"),n(1,"Applicable classes cannot exceed 200 characters"),e())}function Xn(o,m){o&1&&(t(0,"mat-error"),n(1,"Description cannot exceed 500 characters"),e())}var Mi=(()=>{class o{constructor(i,r,a,s){this.dialogRef=i,this.data=r,this.feesTypeService=a,this.fb=s,this.action=r.action,this.dialogTitle=this.action==="edit"?r.feesType.feeTypeName:"New Fee Type",this.feesType=this.action==="edit"?r.feesType:new Zt({}),this.feesTypeForm=this.createFeesTypeForm()}createFeesTypeForm(){return this.fb.group({feeTypeId:[this.feesType.feeTypeId],feeTypeName:[this.feesType.feeTypeName,[v.required,v.maxLength(100)]],category:[this.feesType.category,[v.required,v.maxLength(50)]],description:[this.feesType.description,[v.maxLength(500)]],amount:[this.feesType.amount,[v.required,v.min(0),v.max(1e5)]],applicableClasses:[this.feesType.applicableClasses,[v.maxLength(200)]],frequency:[this.feesType.frequency||"Annually",[v.required,v.maxLength(50)]],status:[this.feesType.status||"Active",[v.required,v.maxLength(50)]],createdBy:[this.feesType.createdBy,[v.maxLength(100)]],createdDate:[w(this.feesType.createdDate,"yyyy-MM-dd HH:mm:ss","en")],lastUpdated:[w(this.feesType.lastUpdated,"yyyy-MM-dd HH:mm:ss","en")]})}getErrorMessage(i){return i.hasError("required")?"Required field":""}submit(){if(this.feesTypeForm.valid){let i=this.feesTypeForm.getRawValue();this.action==="edit"?this.feesTypeService.updateFeesType(i).subscribe({next:r=>{this.dialogRef.close(r)},error:r=>{console.error("Update Error:",r)}}):this.feesTypeService.addFeesType(i).subscribe({next:r=>{this.dialogRef.close(r)},error:r=>{console.error("Add Error:",r)}})}}onNoClick(){this.dialogRef.close()}confirmAdd(){this.submit()}static{this.\u0275fac=function(r){return new(r||o)(y(de),y(pe),y(Bt),y(Ee))}}static{this.\u0275cmp=M({type:o,selectors:[["app-all-feesTypes-form"]],features:[We([{provide:Nt,useValue:"en-GB"}])],decls:131,vars:13,consts:[["createdDatePicker",""],[1,"addContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","mat-dialog-close","","aria-label","Close dialog","type","button",1,"modal-close-button"],["mat-dialog-content",""],[1,"fees-type-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","feeTypeName","required",""],["value","Tuition Fee"],["value","Transport Fee"],["value","Library Fee"],["value","Sports Fee"],["value","Lab Fee"],["value","Examination Fee"],["value","Development Fee"],["value","Hostel Fee"],["value","Maintenance Fee"],["value","Cultural Activities Fee"],["value","Computer Lab Fee"],["value","Workshop Fee"],["value","Medical Fee"],["value","Uniform Fee"],["value","Miscellaneous Fee"],["formControlName","category","required",""],["value","Academic"],["value","Extracurricular"],["value","Miscellaneous"],["matInput","","type","number","formControlName","amount","required","","min","0","max","100000"],["formControlName","frequency","required",""],["value","Monthly"],["value","Quarterly"],["value","Annually"],["value","Per Event"],["value","One-time"],["formControlName","status","required",""],["value","Active"],["value","Inactive"],["matInput","","formControlName","createdBy","maxlength","100"],["matInput","","formControlName","applicableClasses","maxlength","200"],["matInput","","formControlName","createdDate",3,"matDatepicker"],["matSuffix","",3,"for"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","description","rows","3","maxlength","500"],[1,"example-button-row"],["mat-flat-button","","type","submit",1,"formSubmitBtn",3,"disabled"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"formCancelBtn"]],template:function(r,a){if(r&1){let s=S();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),n(4),e()(),t(5,"button",5)(6,"mat-icon"),n(7,"close"),e()()(),t(8,"div",6)(9,"form",7),h("ngSubmit",function(){return u(s),_(a.submit())}),t(10,"div",8)(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),n(14,"Fee Type Name"),e(),t(15,"mat-select",11)(16,"mat-option",12),n(17,"Tuition Fee"),e(),t(18,"mat-option",13),n(19,"Transport Fee"),e(),t(20,"mat-option",14),n(21,"Library Fee"),e(),t(22,"mat-option",15),n(23,"Sports Fee"),e(),t(24,"mat-option",16),n(25,"Lab Fee"),e(),t(26,"mat-option",17),n(27,"Examination Fee"),e(),t(28,"mat-option",18),n(29,"Development Fee"),e(),t(30,"mat-option",19),n(31,"Hostel Fee"),e(),t(32,"mat-option",20),n(33,"Maintenance Fee"),e(),t(34,"mat-option",21),n(35,"Cultural Activities Fee"),e(),t(36,"mat-option",22),n(37,"Computer Lab Fee"),e(),t(38,"mat-option",23),n(39,"Workshop Fee"),e(),t(40,"mat-option",24),n(41,"Medical Fee"),e(),t(42,"mat-option",25),n(43,"Uniform Fee"),e(),t(44,"mat-option",26),n(45,"Miscellaneous Fee"),e()(),d(46,Bn,2,0,"mat-error"),e()(),t(47,"div",9)(48,"mat-form-field",10)(49,"mat-label"),n(50,"Category"),e(),t(51,"mat-select",27)(52,"mat-option",28),n(53,"Academic"),e(),t(54,"mat-option",29),n(55,"Extracurricular"),e(),t(56,"mat-option",30),n(57,"Miscellaneous"),e()(),d(58,Ln,2,0,"mat-error")(59,jn,2,0,"mat-error"),e()()(),t(60,"div",8)(61,"div",9)(62,"mat-form-field",10)(63,"mat-label"),n(64,"Amount"),e(),C(65,"input",31),d(66,On,2,0,"mat-error")(67,Gn,2,0,"mat-error")(68,Hn,2,0,"mat-error"),e()(),t(69,"div",9)(70,"mat-form-field",10)(71,"mat-label"),n(72,"Frequency"),e(),t(73,"mat-select",32)(74,"mat-option",33),n(75,"Monthly"),e(),t(76,"mat-option",34),n(77,"Quarterly"),e(),t(78,"mat-option",35),n(79,"Annually"),e(),t(80,"mat-option",36),n(81,"Per Event"),e(),t(82,"mat-option",37),n(83,"One-time"),e()(),d(84,Un,2,0,"mat-error"),e()()(),t(85,"div",8)(86,"div",9)(87,"mat-form-field",10)(88,"mat-label"),n(89,"Status"),e(),t(90,"mat-select",38)(91,"mat-option",39),n(92,"Active"),e(),t(93,"mat-option",40),n(94,"Inactive"),e()(),d(95,Qn,2,0,"mat-error"),e()(),t(96,"div",9)(97,"mat-form-field",10)(98,"mat-label"),n(99,"Created By"),e(),C(100,"input",41),d(101,Wn,2,0,"mat-error"),e()()(),t(102,"div",8)(103,"div",9)(104,"mat-form-field",10)(105,"mat-label"),n(106,"Applicable Classes"),e(),C(107,"input",42),d(108,zn,2,0,"mat-error"),e()(),t(109,"div",9)(110,"mat-form-field",10)(111,"mat-label"),n(112,"Created Date"),e(),C(113,"input",43)(114,"mat-datepicker-toggle",44)(115,"mat-datepicker",null,0),e()()(),t(117,"div",8)(118,"div",45)(119,"mat-form-field",10)(120,"mat-label"),n(121,"Description"),e(),C(122,"textarea",46),d(123,Xn,2,0,"mat-error"),e()()(),t(124,"div",8)(125,"div",45)(126,"div",47)(127,"button",48),n(128,"Save"),e(),t(129,"button",49),n(130,"Cancel"),e()()()()()()()}if(r&2){let s,f,b,T,J,Z,K,ee,te=g(116);l(4),E(" ",a.dialogTitle," "),l(5),c("formGroup",a.feesTypeForm),l(37),x((s=a.feesTypeForm.get("feeTypeName"))!=null&&s.hasError("required")?46:-1),l(12),x((f=a.feesTypeForm.get("category"))!=null&&f.hasError("required")?58:(f=a.feesTypeForm.get("category"))!=null&&f.hasError("maxlength")?59:-1),l(8),x((b=a.feesTypeForm.get("amount"))!=null&&b.hasError("required")?66:(b=a.feesTypeForm.get("amount"))!=null&&b.hasError("min")?67:(b=a.feesTypeForm.get("amount"))!=null&&b.hasError("max")?68:-1),l(18),x((T=a.feesTypeForm.get("frequency"))!=null&&T.hasError("required")?84:-1),l(11),x((J=a.feesTypeForm.get("status"))!=null&&J.hasError("required")?95:-1),l(6),x((Z=a.feesTypeForm.get("createdBy"))!=null&&Z.hasError("maxlength")?101:-1),l(7),x((K=a.feesTypeForm.get("applicableClasses"))!=null&&K.hasError("maxlength")?108:-1),l(5),c("matDatepicker",te),l(),c("for",te),l(9),x((ee=a.feesTypeForm.get("description"))!=null&&ee.hasError("maxlength")?123:-1),l(4),c("disabled",!a.feesTypeForm.valid)}},dependencies:[D,R,re,L,B,_e,P,ye,xe,Ot,q,ve,ge,Ut,Ht,Gt,$,Se,be,O,Te,Fe,Me,De,H,G,j,U,Ve,Ie,we,ke,Ae,ue],encapsulation:2})}}return o})();var Yn=["filter"],Jn=()=>[5,10,25,100];function Zn(o,m){if(o&1&&(t(0,"div",7),C(1,"app-breadcrumb",50),e()),o&2){let i=m.$implicit;l(),c("title",i.title)("items",i.items)("active_item",i.active)}}function Kn(o,m){if(o&1){let i=S();t(0,"div")(1,"mat-option")(2,"mat-checkbox",51),h("click",function(a){return u(i),_(a.stopPropagation())}),Pe("ngModelChange",function(a){let s=u(i).$implicit;return qe(s.visible,a)||(s.visible=a),_(a)}),n(3),e()()()}if(o&2){let i=m.$implicit;l(2),Re("ngModel",i.visible),l(),E(" ",i.label," ")}}function eo(o,m){if(o&1){let i=S();t(0,"mat-header-cell")(1,"mat-checkbox",52),h("change",function(a){u(i);let s=p();return _(a?s.masterToggle():null)}),e()()}if(o&2){let i=p();l(),c("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())("ngClass","tbl-checkbox")}}function to(o,m){if(o&1){let i=S();t(0,"mat-cell")(1,"mat-checkbox",53),h("click",function(a){return u(i),_(a.stopPropagation())})("change",function(a){let s=u(i).$implicit,f=p();return _(a?f.selection.toggle(s):null)}),e()()}if(o&2){let i=m.$implicit,r=p();l(),c("checked",r.selection.isSelected(i))("ngClass","tbl-checkbox")}}function io(o,m){}function no(o,m){if(o&1&&(t(0,"mat-header-cell",57)(1,"span",58),n(2),e()()),o&2){let i=p(3).$implicit;l(2),F(i.label)}}function oo(o,m){if(o&1){let i=S();t(0,"mat-cell",59),h("contextmenu",function(a){let s=u(i).$implicit,f=p(4);return _(f.onContextMenu(a,s))}),t(1,"span",60),n(2),e(),t(3,"span",58),n(4),Xe(5,"date"),e()()}if(o&2){let i=m.$implicit,r=p(3).$implicit;l(2),E("",r.label,":"),l(2),E(" ",Ye(5,2,i[r.def],"MM/dd/yyyy")," ")}}function ao(o,m){if(o&1&&(V(0,54),d(1,no,3,1,"mat-header-cell",55)(2,oo,6,5,"mat-cell",56),N()),o&2){let i=p(2).$implicit;c("matColumnDef",i.def)}}function ro(o,m){if(o&1&&(t(0,"mat-header-cell",57)(1,"span",58),n(2),e()()),o&2){let i=p(4).$implicit;l(2),F(i.label)}}function lo(o,m){if(o&1&&(t(0,"div")(1,"span",61),n(2),e()()),o&2){let i=p().$implicit;l(2),F(i.status)}}function mo(o,m){if(o&1&&(t(0,"div")(1,"span",62),n(2),e()()),o&2){let i=p().$implicit;l(2),F(i.status)}}function so(o,m){if(o&1){let i=S();t(0,"mat-cell",59),h("contextmenu",function(a){let s=u(i).$implicit,f=p(5);return _(f.onContextMenu(a,s))}),t(1,"span",60),n(2),e(),t(3,"div"),d(4,lo,3,1,"div")(5,mo,3,1,"div"),e()()}if(o&2){let i,r=m.$implicit,a=p(4).$implicit;l(2),E("",a.label,":"),l(2),x((i=r.status)==="Active"?4:i==="Inactive"?5:-1)}}function co(o,m){if(o&1&&(V(0,54),d(1,ro,3,1,"mat-header-cell",55)(2,so,6,2,"mat-cell",56),N()),o&2){let i=p(3).$implicit;c("matColumnDef",i.def)}}function po(o,m){if(o&1&&(t(0,"mat-header-cell",57)(1,"span",58),n(2),e()()),o&2){let i=p(4).$implicit;l(2),F(i.label)}}function uo(o,m){if(o&1){let i=S();t(0,"mat-cell",59),h("contextmenu",function(a){let s=u(i).$implicit,f=p(5);return _(f.onContextMenu(a,s))}),t(1,"span",60),n(2),e(),t(3,"span",58),n(4),e()()}if(o&2){let i=m.$implicit,r=p(4).$implicit;l(2),E("",r.label,":"),l(2),F(i[r.def])}}function _o(o,m){if(o&1&&(V(0,54),d(1,po,3,1,"mat-header-cell",55)(2,uo,5,2,"mat-cell",56),N()),o&2){let i=p(3).$implicit;c("matColumnDef",i.def)}}function fo(o,m){if(o&1&&d(0,co,3,1,"ng-container",54)(1,_o,3,1,"ng-container",54),o&2){let i=p(2).$implicit;x(i.def==="status"?0:1)}}function ho(o,m){if(o&1&&d(0,ao,3,1,"ng-container",54)(1,fo,2,1),o&2){let i=p().$implicit;x(i.type==="date"?0:1)}}function Co(o,m){if(o&1&&d(0,io,0,0)(1,ho,2,1),o&2){let i=m.$implicit;x(i.type==="check"||i.type==="actionBtn"?0:1)}}function xo(o,m){o&1&&(t(0,"mat-header-cell",63),n(1,"Actions"),e())}function vo(o,m){if(o&1){let i=S();t(0,"mat-cell",63)(1,"button",64),h("click",function(a){return u(i),_(a.stopPropagation())})("click",function(){let a=u(i).$implicit,s=p();return _(s.editCall(a))}),C(2,"app-feather-icons",65),e(),t(3,"button",64),h("click",function(a){return u(i),_(a.stopPropagation())})("click",function(){let a=u(i).$implicit,s=p();return _(s.deleteItem(a))}),C(4,"app-feather-icons",65),e()()}o&2&&(l(2),Ne("tbl-fav-edit"),c("icon","edit"),l(2),Ne("tbl-fav-delete"),c("icon","trash-2"))}function yo(o,m){o&1&&C(0,"mat-header-row")}function So(o,m){if(o&1){let i=S();t(0,"mat-row",66),h("click",function(){let a=u(i).$implicit,s=p();return _(s.editCall(a))}),e()}o&2&&(ne("cursor","pointer"),c("@rowsAnimation",void 0))}function bo(o,m){o&1&&(t(0,"div",44),C(1,"mat-progress-spinner",67),e()),o&2&&(l(),c("diameter",40))}function go(o,m){if(o&1){let i=S();t(0,"button",68),h("click",function(){u(i);let a=p();return _(a.addNew())}),t(1,"mat-icon"),n(2,"add_box"),e(),t(3,"span"),n(4,"Add Record"),e()(),t(5,"button",68),h("click",function(){let a=u(i).item,s=p();return _(s.editCall(a))}),t(6,"mat-icon"),n(7,"create"),e(),t(8,"span"),n(9,"Edit Record"),e()(),t(10,"button",68),h("click",function(){let a=u(i).item,s=p();return _(s.deleteItem(a))}),t(11,"mat-icon"),n(12,"delete"),e(),t(13,"span"),n(14,"Delete Record"),e()(),t(15,"button",68),h("click",function(){u(i);let a=p();return _(a.refresh())}),t(16,"mat-icon"),n(17,"refresh"),e(),t(18,"span"),n(19,"Refresh Record"),e()(),t(20,"button",69)(21,"mat-icon"),n(22,"no_encryption"),e(),t(23,"span"),n(24,"Disable"),e()(),t(25,"button",70)(26,"mat-icon"),n(27,"list_alt"),e(),t(28,"span"),n(29," Nested Menu"),e()()}if(o&2){p();let i=g(71);l(25),c("matMenuTriggerFor",i)}}function Eo(o,m){if(o&1&&(t(0,"div",71),n(1," No results "),e()),o&2){let i=p();ne("display",i.dataSource.data.length===0?"":"none")}}var Di=(()=>{class o{constructor(i,r,a,s){this.httpClient=i,this.dialog=r,this.feesTypeService=a,this.snackBar=s,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"feeTypeId",label:"Fee Type ID",type:"number",visible:!1},{def:"feeTypeName",label:"Fee Type Name",type:"text",visible:!0},{def:"category",label:"Category",type:"text",visible:!0},{def:"description",label:"Description",type:"text",visible:!0},{def:"amount",label:"Amount",type:"number",visible:!0},{def:"applicableClasses",label:"Applicable Classes",type:"text",visible:!0},{def:"frequency",label:"Frequency",type:"text",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"createdBy",label:"Created By",type:"text",visible:!0},{def:"createdDate",label:"Created Date",type:"date",visible:!0},{def:"lastUpdated",label:"Last Updated",type:"date",visible:!1},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Dt([]),this.selection=new ot(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0,this.destroy$=new Oe,this.breadscrums=[{title:"Fees Type",items:["Fees"],active:"Fees Type"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(i=>i.visible).map(i=>i.def)}loadData(){this.feesTypeService.getAllFeesTypes().subscribe({next:i=>{this.dataSource.data=i,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(r,a)=>Object.values(r).some(s=>s.toString().toLowerCase().includes(a))},error:i=>console.error(i)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(i){let r=i.target.value.trim().toLowerCase();this.dataSource.filter=r}addNew(){this.openDialog("add")}editCall(i){this.openDialog("edit",i)}openDialog(i,r){let a;localStorage.getItem("isRtl")==="true"?a="rtl":a="ltr",this.dialog.open(Mi,{width:"60vw",maxWidth:"100vw",data:{feesType:r,action:i},direction:a,autoFocus:!1}).afterClosed().subscribe(f=>{f&&(i==="add"?this.dataSource.data=[f,...this.dataSource.data]:this.updateRecord(f),this.refreshTable(),this.showNotification(i==="add"?"snackbar-success":"black",`${i==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(i){let r=this.dataSource.data.findIndex(a=>a.feeTypeId===i.feeTypeId);r!==-1&&(this.dataSource.data[r]=i,this.dataSource._updateChangeSubscription())}deleteItem(i){this.dialog.open(Fi,{data:i}).afterClosed().subscribe(a=>{a&&(this.dataSource.data=this.dataSource.data.filter(s=>s.feeTypeId!==i.feeTypeId),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}showNotification(i,r,a,s){this.snackBar.open(r,"",{duration:2e3,verticalPosition:a,horizontalPosition:s,panelClass:i})}exportExcel(){let i=this.dataSource.filteredData.map(r=>({"Fee Type ID":r.feeTypeId,"Fee Type Name":r.feeTypeName,Category:r.category,Description:r.description,Amount:r.amount,"Applicable Classes":r.applicableClasses,Frequency:r.frequency,Status:r.status,"Created By":r.createdBy,"Created Date":r.createdDate,"Last Updated":r.lastUpdated}));it.exportToExcel(i,"fee_type_export")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(i=>this.selection.select(i))}removeSelectedRows(){let i=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(r=>!this.selection.selected.includes(r)),this.selection.clear(),this.showNotification("snackbar-danger",`${i} Record(s) Deleted Successfully...!!!`,"bottom","center")}onContextMenu(i,r){i.preventDefault(),this.contextMenuPosition={x:`${i.clientX}px`,y:`${i.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:r},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(r){return new(r||o)(y(oe),y(At),y(Bt),y(Pt))}}static{this.\u0275cmp=M({type:o,selectors:[["app-fees-type"]],viewQuery:function(r,a){if(r&1&&(z(ce,5),z(se,5),z(Yn,5),z(ae,5)),r&2){let s;X(s=Y())&&(a.paginator=s.first),X(s=Y())&&(a.sort=s.first),X(s=Y())&&(a.filter=s.first),X(s=Y())&&(a.contextMenu=s.first)}},decls:90,vars:18,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"col-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",3,"click"],[1,"m-l-10",3,"hidden"],["mat-icon-button","","matTooltip","Delete",1,"col-red",3,"click","hidden"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(r,a){if(r&1){let s=S();t(0,"section",5)(1,"div",6),A(2,Zn,2,3,"div",7,k),t(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"ul",13)(10,"li",14)(11,"h2"),n(12,"Fees Type"),e()(),t(13,"li",15)(14,"label",16)(15,"i",17),n(16,"search"),e()(),t(17,"input",18,0),h("keyup",function(b){return u(s),_(a.applyFilter(b))}),e()()()(),t(19,"div",19)(20,"ul",20)(21,"li",21)(22,"div",22)(23,"button",23),h("click",function(){u(s);let b=g(27);return _(b.open())}),t(24,"mat-icon"),n(25,"filter_list"),e(),t(26,"mat-select",24,1),Pe("ngModelChange",function(b){u(s);let T=g(18);return qe(T.value,b)||(T.value=b),_(b)}),t(28,"span",25),n(29,"Show/Hide Column"),e(),A(30,Kn,4,2,"div",null,k),e()()()(),t(32,"li",21)(33,"div",22)(34,"button",26),h("click",function(){return u(s),_(a.addNew())}),t(35,"mat-icon"),n(36,"add_circle_outline"),e()()()(),t(37,"li",21)(38,"div",22)(39,"button",27),h("click",function(){return u(s),_(a.refresh())}),t(40,"mat-icon"),n(41,"refresh"),e()()()(),t(42,"li",21)(43,"div",28)(44,"button",29),h("click",function(){return u(s),_(a.removeSelectedRows())}),t(45,"mat-icon"),n(46,"delete_outline"),e()()()(),t(47,"li")(48,"div",30)(49,"button",31),h("click",function(){return u(s),_(a.exportExcel())}),t(50,"mat-icon",32),n(51,"file_download"),e()()()()()()(),t(52,"div",33)(53,"div",34)(54,"table",35),V(55,36),d(56,eo,2,3,"mat-header-cell",37)(57,to,2,2,"mat-cell",38),N(),A(58,Co,2,1,null,null,k),V(60,39),d(61,xo,2,0,"mat-header-cell",40)(62,vo,5,6,"mat-cell",41),N(),d(63,yo,1,0,"mat-header-row",42)(64,So,1,3,"mat-row",43),e(),d(65,bo,2,1,"div",44),C(66,"div",45),t(67,"mat-menu",null,2),d(69,go,30,1,"ng-template",46),e(),t(70,"mat-menu",null,3)(72,"button",47)(73,"mat-icon"),n(74,"mail_outline"),e(),t(75,"span"),n(76,"Item 1"),e()(),t(77,"button",47)(78,"mat-icon"),n(79,"call"),e(),t(80,"span"),n(81,"Item 2"),e()(),t(82,"button",47)(83,"mat-icon"),n(84,"chat"),e(),t(85,"span"),n(86,"Item 3"),e()()(),d(87,Eo,2,2,"div",48),C(88,"mat-paginator",49,4),e()()()()()()()}if(r&2){let s=g(18),f=g(68);l(2),I(a.breadscrums),l(24),Re("ngModel",s.value),l(4),I(a.columnDefinitions),l(13),c("hidden",!a.selection.hasValue()),l(),c("hidden",!a.selection.hasValue()),l(10),c("dataSource",a.dataSource),l(4),I(a.columnDefinitions),l(5),c("matHeaderRowDef",a.getDisplayedColumns()),l(),c("matRowDefColumns",a.getDisplayedColumns()),l(),x(a.isLoading?65:-1),l(),ne("left",a.contextMenuPosition.x)("top",a.contextMenuPosition.y),c("matMenuTriggerFor",f),l(21),x(a.isLoading?87:-1),l(),c("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",ze(17,Jn))}},dependencies:[le,rt,Ke,Je,Ze,dt,O,U,L,B,D,re,wt,Tt,H,G,j,$,q,P,et,me,ut,pt,Mt,ht,xt,bt,vt,Ct,gt,yt,St,Et,Ft,ft,se,_t,at,tt,qt,Rt,ct,st,lt,mt,ae,kt,ce],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[nt]}})}}return o})();var Lt=(()=>{class o{constructor(i){this.httpClient=i,this.API_URL="assets/data/fees-discount.json",this.dataChange=new Ge([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllFeesDiscounts(){return this.httpClient.get(this.API_URL).pipe(Q(i=>(this.dataChange.next(i),i)),W(this.handleError))}addFeesDiscount(i){return this.httpClient.post(this.API_URL,i).pipe(Q(()=>(this.dialogData=i,i)),W(this.handleError))}updateFeesDiscount(i){return this.httpClient.put(`${this.API_URL}`,i).pipe(Q(()=>(this.dialogData=i,i)),W(this.handleError))}deleteFeesDiscount(i){return this.httpClient.delete(`${this.API_URL}`).pipe(Q(()=>i),W(this.handleError))}handleError(i){return console.error("An error occurred:",i.message),He(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(r){return new(r||o)(Qe(oe))}}static{this.\u0275prov=Ue({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Ti=(()=>{class o{constructor(i,r,a){this.dialogRef=i,this.data=r,this.feesDiscountService=a}onNoClick(){this.dialogRef.close()}confirmDelete(){this.feesDiscountService.deleteFeesDiscount(this.data.discountId).subscribe({next:i=>{this.dialogRef.close(i)},error:i=>{console.error("Delete Error:",i)}})}static{this.\u0275fac=function(r){return new(r||o)(y(de),y(pe),y(Lt))}}static{this.\u0275cmp=M({type:o,selectors:[["app-all-feesDiscounts-delete"]],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","",1,"formCancelBtn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"h3",1),n(2,"Are you sure?"),e(),t(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),n(8," Discount ID: "),e(),n(9),e()(),t(10,"li")(11,"p")(12,"span",4),n(13,"Discount Type: "),e(),n(14),e()(),t(15,"li")(16,"p")(17,"span",4),n(18,"Discount Percetntage: "),e(),n(19),e()()()(),t(20,"div",5)(21,"button",6),h("click",function(){return a.confirmDelete()}),n(22," Delete "),e(),t(23,"button",7),h("click",function(){return a.onNoClick()}),n(24,"Cancel"),e()()()),r&2&&(l(9),F(a.data.discountId),l(5),E("",a.data.discountType," "),l(5),E("",a.data.discountPercentage," "),l(2),c("mat-dialog-close",1))},dependencies:[It,_e,Vt,D,R,ue],encapsulation:2})}}return o})();var Kt=class{constructor(m={}){this.discountId=m.discountId||this.getRandomID(),this.discountType=m.discountType||"",this.discountAmount=m.discountAmount||0,this.discountPercentage=m.discountPercentage||0,this.discountCode=m.discountCode||"",this.startDate=m.startDate||w(new Date,"yyyy-MM-dd","en"),this.endDate=m.endDate||w(new Date,"yyyy-MM-dd","en"),this.appliedDate=m.appliedDate||w(new Date,"yyyy-MM-dd","en"),this.status=m.status||"Active",this.remarks=m.remarks||""}getRandomID(){return Math.floor(Math.random()*1e6)}};function Fo(o,m){o&1&&(t(0,"mat-error"),n(1," Discount type is required "),e())}function Mo(o,m){o&1&&(t(0,"mat-error"),n(1," Discount amount is required "),e())}function Do(o,m){o&1&&(t(0,"mat-error"),n(1," Amount must be 0 or greater "),e())}function To(o,m){o&1&&(t(0,"mat-error"),n(1," Amount cannot exceed 10,000 "),e())}function wo(o,m){o&1&&(t(0,"mat-error"),n(1," Discount percentage is required "),e())}function ko(o,m){o&1&&(t(0,"mat-error"),n(1," Percentage must be 0 or greater "),e())}function Ao(o,m){o&1&&(t(0,"mat-error"),n(1," Percentage cannot exceed 100 "),e())}function Io(o,m){o&1&&(t(0,"mat-error"),n(1," Discount code is required "),e())}function Vo(o,m){o&1&&(t(0,"mat-error"),n(1," Discount code cannot exceed 20 characters "),e())}function No(o,m){o&1&&(t(0,"mat-error"),n(1," Start date is required "),e())}function Ro(o,m){o&1&&(t(0,"mat-error"),n(1," End date is required "),e())}function qo(o,m){o&1&&(t(0,"mat-error"),n(1," Status is required "),e())}function Po(o,m){o&1&&(t(0,"mat-error"),n(1," Remarks cannot exceed 500 characters "),e())}var wi=(()=>{class o{constructor(i,r,a,s){this.dialogRef=i,this.data=r,this.feesDiscountService=a,this.fb=s,this.action=r.action,this.dialogTitle=this.action==="edit"?r.feesDiscount.discountType:"New Fee Discount",this.feesDiscount=this.action==="edit"?r.feesDiscount:new Kt({}),this.feesDiscountForm=this.createFeesDiscountForm()}createFeesDiscountForm(){return this.fb.group({discountId:[this.feesDiscount.discountId],discountType:[this.feesDiscount.discountType,[v.required,v.maxLength(50)]],discountAmount:[this.feesDiscount.discountAmount,[v.min(0),v.max(1e4)]],discountPercentage:[this.feesDiscount.discountPercentage,[v.min(0),v.max(100)]],discountCode:[this.feesDiscount.discountCode,[v.required,v.maxLength(20)]],startDate:[w(this.feesDiscount.startDate,"yyyy-MM-dd","en"),[v.required]],endDate:[w(this.feesDiscount.endDate,"yyyy-MM-dd","en"),[v.required]],appliedDate:[w(this.feesDiscount.appliedDate,"yyyy-MM-dd","en")],status:[this.feesDiscount.status||"Active",[v.required,v.maxLength(50)]],remarks:[this.feesDiscount.remarks,[v.maxLength(500)]]})}getErrorMessage(i){return i.hasError("required")?"Required field":""}submit(){if(this.feesDiscountForm.valid){let i=this.feesDiscountForm.getRawValue();this.action==="edit"?this.feesDiscountService.updateFeesDiscount(i).subscribe({next:r=>{this.dialogRef.close(r)},error:r=>{console.error("Update Error:",r)}}):this.feesDiscountService.addFeesDiscount(i).subscribe({next:r=>{this.dialogRef.close(r)},error:r=>{console.error("Add Error:",r)}})}}onNoClick(){this.dialogRef.close()}confirmAdd(){this.submit()}static{this.\u0275fac=function(r){return new(r||o)(y(de),y(pe),y(Lt),y(Ee))}}static{this.\u0275cmp=M({type:o,selectors:[["app-all-feesDiscounts-form"]],features:[We([{provide:Nt,useValue:"en-GB"}])],decls:123,vars:22,consts:[["startDatePicker",""],["endDatePicker",""],["appliedDatePicker",""],[1,"addContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","mat-dialog-close","","aria-label","Close dialog","type","button",1,"modal-close-button"],["mat-dialog-content",""],[1,"fees-type-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","discountType","required",""],["value","Handicapped Discount"],["value","Sibling Discount"],["value","Merit-Based Discount"],["value","Financial Aid Discount"],["value","Early Payment Discount"],["value","Scholarship Discount"],["value","Staff Discount"],["value","Sports Discount"],["value","Extracurricular Discount"],["value","Alumni Discount"],["value","Government Subsidy Discount"],["value","Referral Discount"],["value","Festival Discount"],["value","Single Payment Discount"],["value","First-Time Enrollment Discount"],["matInput","","type","number","formControlName","discountAmount","required","","min","0","max","10000"],["matInput","","type","number","formControlName","discountPercentage","required","","min","0","max","100"],["matInput","","formControlName","discountCode","required","","maxlength","20"],["matInput","","formControlName","startDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","endDate","required","",3,"matDatepicker"],["matInput","","formControlName","appliedDate",3,"matDatepicker"],["formControlName","status","required",""],["value","Active"],["value","Inactive"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","remarks","rows","3","maxlength","500"],[1,"example-button-row"],["mat-flat-button","","type","submit",1,"formSubmitBtn",3,"disabled"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"formCancelBtn"]],template:function(r,a){if(r&1){let s=S();t(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),n(4),e()(),t(5,"button",7)(6,"mat-icon"),n(7,"close"),e()()(),t(8,"div",8)(9,"form",9),h("ngSubmit",function(){return u(s),_(a.submit())}),t(10,"div",10)(11,"div",11)(12,"mat-form-field",12)(13,"mat-label"),n(14,"Discount Type"),e(),t(15,"mat-select",13)(16,"mat-option",14),n(17,"Handicapped Discount"),e(),t(18,"mat-option",15),n(19,"Sibling Discount"),e(),t(20,"mat-option",16),n(21,"Merit-Based Discount"),e(),t(22,"mat-option",17),n(23,"Financial Aid Discount"),e(),t(24,"mat-option",18),n(25,"Early Payment Discount"),e(),t(26,"mat-option",19),n(27,"Scholarship Discount"),e(),t(28,"mat-option",20),n(29,"Staff Discount"),e(),t(30,"mat-option",21),n(31,"Sports Discount"),e(),t(32,"mat-option",22),n(33,"Extracurricular Discount"),e(),t(34,"mat-option",23),n(35,"Alumni Discount"),e(),t(36,"mat-option",24),n(37,"Government Subsidy Discount"),e(),t(38,"mat-option",25),n(39,"Referral Discount"),e(),t(40,"mat-option",26),n(41,"Festival Discount"),e(),t(42,"mat-option",27),n(43,"Single Payment Discount"),e(),t(44,"mat-option",28),n(45,"First-Time Enrollment Discount"),e()(),d(46,Fo,2,0,"mat-error"),e()(),t(47,"div",11)(48,"mat-form-field",12)(49,"mat-label"),n(50,"Discount Amount"),e(),C(51,"input",29),d(52,Mo,2,0,"mat-error")(53,Do,2,0,"mat-error")(54,To,2,0,"mat-error"),e()()(),t(55,"div",10)(56,"div",11)(57,"mat-form-field",12)(58,"mat-label"),n(59,"Discount Percentage"),e(),C(60,"input",30),d(61,wo,2,0,"mat-error")(62,ko,2,0,"mat-error")(63,Ao,2,0,"mat-error"),e()(),t(64,"div",11)(65,"mat-form-field",12)(66,"mat-label"),n(67,"Discount Code"),e(),C(68,"input",31),d(69,Io,2,0,"mat-error")(70,Vo,2,0,"mat-error"),e()()(),t(71,"div",10)(72,"div",11)(73,"mat-form-field",12)(74,"mat-label"),n(75,"Start Date"),e(),C(76,"input",32)(77,"mat-datepicker-toggle",33)(78,"mat-datepicker",null,0),d(80,No,2,0,"mat-error"),e()(),t(81,"div",11)(82,"mat-form-field",12)(83,"mat-label"),n(84,"End Date"),e(),C(85,"input",34)(86,"mat-datepicker-toggle",33)(87,"mat-datepicker",null,1),d(89,Ro,2,0,"mat-error"),e()()(),t(90,"div",10)(91,"div",11)(92,"mat-form-field",12)(93,"mat-label"),n(94,"Applied Date"),e(),C(95,"input",35)(96,"mat-datepicker-toggle",33)(97,"mat-datepicker",null,2),e()(),t(99,"div",11)(100,"mat-form-field",12)(101,"mat-label"),n(102,"Status"),e(),t(103,"mat-select",36)(104,"mat-option",37),n(105,"Active"),e(),t(106,"mat-option",38),n(107,"Inactive"),e()(),d(108,qo,2,0,"mat-error"),e()()(),t(109,"div",10)(110,"div",39)(111,"mat-form-field",12)(112,"mat-label"),n(113,"Remarks"),e(),C(114,"textarea",40),d(115,Po,2,0,"mat-error"),e()()(),t(116,"div",10)(117,"div",39)(118,"div",41)(119,"button",42),n(120,"Save"),e(),t(121,"button",43),n(122,"Cancel"),e()()()()()()()}if(r&2){let s,f,b,T,J,Z,K,ee,te,fe,he,ni,oi,ai=g(79),ri=g(88),li=g(98);l(4),E(" ",a.dialogTitle," "),l(5),c("formGroup",a.feesDiscountForm),l(37),x((s=a.feesDiscountForm.get("discountType"))!=null&&s.hasError("required")?46:-1),l(6),x((f=a.feesDiscountForm.get("discountAmount"))!=null&&f.hasError("required")?52:-1),l(),x((b=a.feesDiscountForm.get("discountAmount"))!=null&&b.hasError("min")?53:-1),l(),x((T=a.feesDiscountForm.get("discountAmount"))!=null&&T.hasError("max")?54:-1),l(7),x((J=a.feesDiscountForm.get("discountPercentage"))!=null&&J.hasError("required")?61:-1),l(),x((Z=a.feesDiscountForm.get("discountPercentage"))!=null&&Z.hasError("min")?62:-1),l(),x((K=a.feesDiscountForm.get("discountPercentage"))!=null&&K.hasError("max")?63:-1),l(6),x((ee=a.feesDiscountForm.get("discountCode"))!=null&&ee.hasError("required")?69:-1),l(),x((te=a.feesDiscountForm.get("discountCode"))!=null&&te.hasError("maxlength")?70:-1),l(6),c("matDatepicker",ai),l(),c("for",ai),l(3),x((fe=a.feesDiscountForm.get("startDate"))!=null&&fe.hasError("required")?80:-1),l(5),c("matDatepicker",ri),l(),c("for",ri),l(3),x((he=a.feesDiscountForm.get("endDate"))!=null&&he.hasError("required")?89:-1),l(6),c("matDatepicker",li),l(),c("for",li),l(12),x((ni=a.feesDiscountForm.get("status"))!=null&&ni.hasError("required")?108:-1),l(7),x((oi=a.feesDiscountForm.get("remarks"))!=null&&oi.hasError("maxlength")?115:-1),l(4),c("disabled",!a.feesDiscountForm.valid)}},dependencies:[D,R,re,L,B,_e,P,ye,xe,Ot,q,ve,ge,Ut,Ht,Gt,$,Se,be,O,Te,Fe,Me,De,H,G,j,U,Ve,Ie,we,ke,Ae,ue],encapsulation:2})}}return o})();var $o=["filter"],Bo=()=>[5,10,25,100];function Lo(o,m){if(o&1&&(t(0,"div",7),C(1,"app-breadcrumb",50),e()),o&2){let i=m.$implicit;l(),c("title",i.title)("items",i.items)("active_item",i.active)}}function jo(o,m){if(o&1){let i=S();t(0,"div")(1,"mat-option")(2,"mat-checkbox",51),h("click",function(a){return u(i),_(a.stopPropagation())}),Pe("ngModelChange",function(a){let s=u(i).$implicit;return qe(s.visible,a)||(s.visible=a),_(a)}),n(3),e()()()}if(o&2){let i=m.$implicit;l(2),Re("ngModel",i.visible),l(),E(" ",i.label," ")}}function Oo(o,m){if(o&1){let i=S();t(0,"mat-header-cell")(1,"mat-checkbox",52),h("change",function(a){u(i);let s=p();return _(a?s.masterToggle():null)}),e()()}if(o&2){let i=p();l(),c("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())("ngClass","tbl-checkbox")}}function Go(o,m){if(o&1){let i=S();t(0,"mat-cell")(1,"mat-checkbox",53),h("click",function(a){return u(i),_(a.stopPropagation())})("change",function(a){let s=u(i).$implicit,f=p();return _(a?f.selection.toggle(s):null)}),e()()}if(o&2){let i=m.$implicit,r=p();l(),c("checked",r.selection.isSelected(i))("ngClass","tbl-checkbox")}}function Ho(o,m){}function Uo(o,m){if(o&1&&(t(0,"mat-header-cell",57)(1,"span",58),n(2),e()()),o&2){let i=p(3).$implicit;l(2),F(i.label)}}function Qo(o,m){if(o&1){let i=S();t(0,"mat-cell",59),h("contextmenu",function(a){let s=u(i).$implicit,f=p(4);return _(f.onContextMenu(a,s))}),t(1,"span",60),n(2),e(),t(3,"span",58),n(4),Xe(5,"date"),e()()}if(o&2){let i=m.$implicit,r=p(3).$implicit;l(2),E("",r.label,":"),l(2),E(" ",Ye(5,2,i[r.def],"MM/dd/yyyy")," ")}}function Wo(o,m){if(o&1&&(V(0,54),d(1,Uo,3,1,"mat-header-cell",55)(2,Qo,6,5,"mat-cell",56),N()),o&2){let i=p(2).$implicit;c("matColumnDef",i.def)}}function zo(o,m){if(o&1&&(t(0,"mat-header-cell",57)(1,"span",58),n(2),e()()),o&2){let i=p(4).$implicit;l(2),F(i.label)}}function Xo(o,m){if(o&1&&(t(0,"div")(1,"span",61),n(2),e()()),o&2){let i=p().$implicit;l(2),F(i.status)}}function Yo(o,m){if(o&1&&(t(0,"div")(1,"span",62),n(2),e()()),o&2){let i=p().$implicit;l(2),F(i.status)}}function Jo(o,m){if(o&1){let i=S();t(0,"mat-cell",59),h("contextmenu",function(a){let s=u(i).$implicit,f=p(5);return _(f.onContextMenu(a,s))}),t(1,"span",60),n(2),e(),t(3,"div"),d(4,Xo,3,1,"div")(5,Yo,3,1,"div"),e()()}if(o&2){let i,r=m.$implicit,a=p(4).$implicit;l(2),E("",a.label,":"),l(2),x((i=r.status)==="Active"?4:i==="Inactive"?5:-1)}}function Zo(o,m){if(o&1&&(V(0,54),d(1,zo,3,1,"mat-header-cell",55)(2,Jo,6,2,"mat-cell",56),N()),o&2){let i=p(3).$implicit;c("matColumnDef",i.def)}}function Ko(o,m){if(o&1&&(t(0,"mat-header-cell",57)(1,"span",58),n(2),e()()),o&2){let i=p(4).$implicit;l(2),F(i.label)}}function ea(o,m){if(o&1){let i=S();t(0,"mat-cell",59),h("contextmenu",function(a){let s=u(i).$implicit,f=p(5);return _(f.onContextMenu(a,s))}),t(1,"span",60),n(2),e(),t(3,"span",58),n(4),e()()}if(o&2){let i=m.$implicit,r=p(4).$implicit;l(2),E("",r.label,":"),l(2),F(i[r.def])}}function ta(o,m){if(o&1&&(V(0,54),d(1,Ko,3,1,"mat-header-cell",55)(2,ea,5,2,"mat-cell",56),N()),o&2){let i=p(3).$implicit;c("matColumnDef",i.def)}}function ia(o,m){if(o&1&&d(0,Zo,3,1,"ng-container",54)(1,ta,3,1,"ng-container",54),o&2){let i=p(2).$implicit;x(i.def==="status"?0:1)}}function na(o,m){if(o&1&&d(0,Wo,3,1,"ng-container",54)(1,ia,2,1),o&2){let i=p().$implicit;x(i.type==="date"?0:1)}}function oa(o,m){if(o&1&&d(0,Ho,0,0)(1,na,2,1),o&2){let i=m.$implicit;x(i.type==="check"||i.type==="actionBtn"?0:1)}}function aa(o,m){o&1&&(t(0,"mat-header-cell",63),n(1,"Actions"),e())}function ra(o,m){if(o&1){let i=S();t(0,"mat-cell",63)(1,"button",64),h("click",function(a){return u(i),_(a.stopPropagation())})("click",function(){let a=u(i).$implicit,s=p();return _(s.editCall(a))}),C(2,"app-feather-icons",65),e(),t(3,"button",64),h("click",function(a){return u(i),_(a.stopPropagation())})("click",function(){let a=u(i).$implicit,s=p();return _(s.deleteItem(a))}),C(4,"app-feather-icons",65),e()()}o&2&&(l(2),Ne("tbl-fav-edit"),c("icon","edit"),l(2),Ne("tbl-fav-delete"),c("icon","trash-2"))}function la(o,m){o&1&&C(0,"mat-header-row")}function ma(o,m){if(o&1){let i=S();t(0,"mat-row",66),h("click",function(){let a=u(i).$implicit,s=p();return _(s.editCall(a))}),e()}o&2&&(ne("cursor","pointer"),c("@rowsAnimation",void 0))}function sa(o,m){o&1&&(t(0,"div",44),C(1,"mat-progress-spinner",67),e()),o&2&&(l(),c("diameter",40))}function ca(o,m){if(o&1){let i=S();t(0,"button",68),h("click",function(){u(i);let a=p();return _(a.addNew())}),t(1,"mat-icon"),n(2,"add_box"),e(),t(3,"span"),n(4,"Add Record"),e()(),t(5,"button",68),h("click",function(){let a=u(i).item,s=p();return _(s.editCall(a))}),t(6,"mat-icon"),n(7,"create"),e(),t(8,"span"),n(9,"Edit Record"),e()(),t(10,"button",68),h("click",function(){let a=u(i).item,s=p();return _(s.deleteItem(a))}),t(11,"mat-icon"),n(12,"delete"),e(),t(13,"span"),n(14,"Delete Record"),e()(),t(15,"button",68),h("click",function(){u(i);let a=p();return _(a.refresh())}),t(16,"mat-icon"),n(17,"refresh"),e(),t(18,"span"),n(19,"Refresh Record"),e()(),t(20,"button",69)(21,"mat-icon"),n(22,"no_encryption"),e(),t(23,"span"),n(24,"Disable"),e()(),t(25,"button",70)(26,"mat-icon"),n(27,"list_alt"),e(),t(28,"span"),n(29," Nested Menu"),e()()}if(o&2){p();let i=g(71);l(25),c("matMenuTriggerFor",i)}}function da(o,m){if(o&1&&(t(0,"div",71),n(1," No results "),e()),o&2){let i=p();ne("display",i.dataSource.data.length===0?"":"none")}}var ki=(()=>{class o{constructor(i,r,a,s){this.httpClient=i,this.dialog=r,this.feesDiscountService=a,this.snackBar=s,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"discountId",label:"Discount ID",type:"number",visible:!1},{def:"discountType",label:"Discount Type",type:"text",visible:!0},{def:"discountAmount",label:"Amount",type:"number",visible:!0},{def:"discountPercentage",label:"Percentage",type:"number",visible:!0},{def:"discountCode",label:"Discount Code",type:"text",visible:!0},{def:"startDate",label:"Start Date",type:"date",visible:!0},{def:"endDate",label:"End Date",type:"date",visible:!0},{def:"appliedDate",label:"Applied Date",type:"date",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"remarks",label:"Remarks",type:"text",visible:!1},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Dt([]),this.selection=new ot(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0,this.destroy$=new Oe,this.breadscrums=[{title:"Fees Discount",items:["Fees"],active:"Fees Discount"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(i=>i.visible).map(i=>i.def)}loadData(){this.feesDiscountService.getAllFeesDiscounts().subscribe({next:i=>{this.dataSource.data=i,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(r,a)=>Object.values(r).some(s=>s.toString().toLowerCase().includes(a))},error:i=>console.error(i)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(i){let r=i.target.value.trim().toLowerCase();this.dataSource.filter=r}addNew(){this.openDialog("add")}editCall(i){this.openDialog("edit",i)}openDialog(i,r){let a;localStorage.getItem("isRtl")==="true"?a="rtl":a="ltr",this.dialog.open(wi,{width:"60vw",maxWidth:"100vw",data:{feesDiscount:r,action:i},direction:a,autoFocus:!1}).afterClosed().subscribe(f=>{f&&(i==="add"?this.dataSource.data=[f,...this.dataSource.data]:this.updateRecord(f),this.refreshTable(),this.showNotification(i==="add"?"snackbar-success":"black",`${i==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(i){let r=this.dataSource.data.findIndex(a=>a.discountId===i.discountId);r!==-1&&(this.dataSource.data[r]=i,this.dataSource._updateChangeSubscription())}deleteItem(i){this.dialog.open(Ti,{data:i}).afterClosed().subscribe(a=>{a&&(this.dataSource.data=this.dataSource.data.filter(s=>s.discountId!==i.discountId),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}showNotification(i,r,a,s){this.snackBar.open(r,"",{duration:2e3,verticalPosition:a,horizontalPosition:s,panelClass:i})}exportExcel(){let i=this.dataSource.filteredData.map(r=>({"Discount ID":r.discountId,"Discount Type":r.discountType,"Discount Amount":r.discountAmount,"Discount Percentage":r.discountPercentage,"Discount Code":r.discountCode,"Start Date":r.startDate,"End Date":r.endDate,"Applied Date":r.appliedDate,Status:r.status,Remarks:r.remarks}));it.exportToExcel(i,"fee_type_export")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(i=>this.selection.select(i))}removeSelectedRows(){let i=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(r=>!this.selection.selected.includes(r)),this.selection.clear(),this.showNotification("snackbar-danger",`${i} Record(s) Deleted Successfully...!!!`,"bottom","center")}onContextMenu(i,r){i.preventDefault(),this.contextMenuPosition={x:`${i.clientX}px`,y:`${i.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:r},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(r){return new(r||o)(y(oe),y(At),y(Lt),y(Pt))}}static{this.\u0275cmp=M({type:o,selectors:[["app-fees-discount"]],viewQuery:function(r,a){if(r&1&&(z(ce,5),z(se,5),z($o,5),z(ae,5)),r&2){let s;X(s=Y())&&(a.paginator=s.first),X(s=Y())&&(a.sort=s.first),X(s=Y())&&(a.filter=s.first),X(s=Y())&&(a.contextMenu=s.first)}},decls:90,vars:18,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"col-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",3,"click"],[1,"m-l-10",3,"hidden"],["mat-icon-button","","matTooltip","Delete",1,"col-red",3,"click","hidden"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(r,a){if(r&1){let s=S();t(0,"section",5)(1,"div",6),A(2,Lo,2,3,"div",7,k),t(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"ul",13)(10,"li",14)(11,"h2"),n(12,"Fees Discount"),e()(),t(13,"li",15)(14,"label",16)(15,"i",17),n(16,"search"),e()(),t(17,"input",18,0),h("keyup",function(b){return u(s),_(a.applyFilter(b))}),e()()()(),t(19,"div",19)(20,"ul",20)(21,"li",21)(22,"div",22)(23,"button",23),h("click",function(){u(s);let b=g(27);return _(b.open())}),t(24,"mat-icon"),n(25,"filter_list"),e(),t(26,"mat-select",24,1),Pe("ngModelChange",function(b){u(s);let T=g(18);return qe(T.value,b)||(T.value=b),_(b)}),t(28,"span",25),n(29,"Show/Hide Column"),e(),A(30,jo,4,2,"div",null,k),e()()()(),t(32,"li",21)(33,"div",22)(34,"button",26),h("click",function(){return u(s),_(a.addNew())}),t(35,"mat-icon"),n(36,"add_circle_outline"),e()()()(),t(37,"li",21)(38,"div",22)(39,"button",27),h("click",function(){return u(s),_(a.refresh())}),t(40,"mat-icon"),n(41,"refresh"),e()()()(),t(42,"li",21)(43,"div",28)(44,"button",29),h("click",function(){return u(s),_(a.removeSelectedRows())}),t(45,"mat-icon"),n(46,"delete_outline"),e()()()(),t(47,"li")(48,"div",30)(49,"button",31),h("click",function(){return u(s),_(a.exportExcel())}),t(50,"mat-icon",32),n(51,"file_download"),e()()()()()()(),t(52,"div",33)(53,"div",34)(54,"table",35),V(55,36),d(56,Oo,2,3,"mat-header-cell",37)(57,Go,2,2,"mat-cell",38),N(),A(58,oa,2,1,null,null,k),V(60,39),d(61,aa,2,0,"mat-header-cell",40)(62,ra,5,6,"mat-cell",41),N(),d(63,la,1,0,"mat-header-row",42)(64,ma,1,3,"mat-row",43),e(),d(65,sa,2,1,"div",44),C(66,"div",45),t(67,"mat-menu",null,2),d(69,ca,30,1,"ng-template",46),e(),t(70,"mat-menu",null,3)(72,"button",47)(73,"mat-icon"),n(74,"mail_outline"),e(),t(75,"span"),n(76,"Item 1"),e()(),t(77,"button",47)(78,"mat-icon"),n(79,"call"),e(),t(80,"span"),n(81,"Item 2"),e()(),t(82,"button",47)(83,"mat-icon"),n(84,"chat"),e(),t(85,"span"),n(86,"Item 3"),e()()(),d(87,da,2,2,"div",48),C(88,"mat-paginator",49,4),e()()()()()()()}if(r&2){let s=g(18),f=g(68);l(2),I(a.breadscrums),l(24),Re("ngModel",s.value),l(4),I(a.columnDefinitions),l(13),c("hidden",!a.selection.hasValue()),l(),c("hidden",!a.selection.hasValue()),l(10),c("dataSource",a.dataSource),l(4),I(a.columnDefinitions),l(5),c("matHeaderRowDef",a.getDisplayedColumns()),l(),c("matRowDefColumns",a.getDisplayedColumns()),l(),x(a.isLoading?65:-1),l(),ne("left",a.contextMenuPosition.x)("top",a.contextMenuPosition.y),c("matMenuTriggerFor",f),l(21),x(a.isLoading?87:-1),l(),c("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",ze(17,Bo))}},dependencies:[le,rt,Ke,Je,Ze,dt,O,U,L,B,D,re,wt,Tt,H,G,j,$,q,P,et,me,ut,pt,Mt,ht,xt,bt,vt,Ct,gt,yt,St,Et,Ft,ft,se,_t,at,tt,qt,Rt,ct,st,lt,mt,ae,kt,ce],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[nt]}})}}return o})();var Cm=[{path:"all-fees",component:Si},{path:"add-fees",component:bi},{path:"edit-fees",component:gi},{path:"fees-type",component:Di},{path:"fees-discount",component:ki},{path:"fee-receipt",component:Ei},{path:"**",component:mi}];export{Cm as FEES_ROUTE};
