import{a as Ke,b as Ze}from"./chunk-N55DMV3I.js";import{d as ue,e as pe,f as Je,g as _e,h as Vt,i as fe,j as At}from"./chunk-KVJ5Q3UF.js";import{a as Pt}from"./chunk-TJZYC5O6.js";import"./chunk-7RWCIHFI.js";import{a as Q,b as Ye}from"./chunk-4FD62OOA.js";import{a as we}from"./chunk-CZUERSYV.js";import"./chunk-CHSPAKSZ.js";import{a as Yt}from"./chunk-F72FGXC3.js";import"./chunk-LVQM6GG7.js";import"./chunk-JV7SLFHR.js";import"./chunk-ANFOLHGO.js";import{a as O,b as Ve,c as Ae}from"./chunk-TQU2UBQK.js";import{c as Xt,i as Le}from"./chunk-X6QLLQDI.js";import"./chunk-F5X5MWHG.js";import{a as Pe,b as Ne,c as je,d as $e,e as Be,f as He,g as Oe,h as Qe,i as Ue,j as We,k as Ge,l as ze}from"./chunk-YDSWDV3X.js";import{a as Tt,b as Rt}from"./chunk-LSQBH2JY.js";import{a as Ie,b as Fe}from"./chunk-XDXHSCD2.js";import"./chunk-Q4CSNEBG.js";import{a as St}from"./chunk-ZXUU43VT.js";import{a as gt,b as Mt,c as yt,d as ce,e as Et}from"./chunk-MDUUZCSZ.js";import{a as De}from"./chunk-VUESK5K3.js";import"./chunk-GGQ7LRWG.js";import"./chunk-27NP7QR4.js";import{a as J,b as K}from"./chunk-THTDHIFX.js";import{a as qt,b as kt,c as It,d as Ft}from"./chunk-23CSEWDN.js";import{b as Xe,c as ne}from"./chunk-FT7UUPRB.js";import{a as Lt}from"./chunk-7N6UEJOM.js";import{a as qe,b as wt,e as Dt,h as ke,i as ee,j as te,l as ie}from"./chunk-EQRAW3XU.js";import{a as se}from"./chunk-EOJYWBBO.js";import"./chunk-ZFE2N5VZ.js";import"./chunk-46G2PC7Y.js";import{B as Z,H as de,g as Te}from"./chunk-NBYG35BV.js";import"./chunk-TV35Y5MN.js";import"./chunk-T676XBAK.js";import{a as zt}from"./chunk-36HZU4TF.js";import{S as pt,U as w,X as G,Y as _t,ba as ye,ca as ft,da as ht,f as st,fa as vt,g as dt,ga as Ct,hb as Ee,jb as Re,lb as X,ma as xt,mb as Y,o as W,pa as bt,qa as z,ra as me,rb as T,s as ut,z as H}from"./chunk-3JLYLHZD.js";import{Bc as ct,Cc as Me,F as L,Fb as _,Hc as $,Jc as B,Nb as s,Ob as U,Qb as ge,Sb as C,Tb as k,Ub as I,Vb as F,Wb as n,Xb as i,Yb as v,Zb as V,_b as A,ac as g,ca as be,f as ve,fc as h,g as Ce,ha as Se,hc as d,lb as l,mc as P,nc as N,oc as j,p as xe,rb as x,s as R,sa as u,sc as E,ta as p,tc as r,uc as M,vc as b,xc as oe,yc as re,zb as D,zc as le}from"./chunk-6V7EBWWQ.js";import"./chunk-WWX6BADO.js";var Jt=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/examSchedule.json",this.dataChange=new Ce([])}getAllExamSchedules(){return this.httpClient.get(this.API_URL).pipe(R(e=>(this.dataChange.next(e),e)),L(this.handleError))}addExamSchedule(e){return this.httpClient.post(this.API_URL,e).pipe(R(a=>e),L(this.handleError))}updateExamSchedule(e){return this.httpClient.put(`${this.API_URL}`,e).pipe(R(a=>e),L(this.handleError))}deleteExamSchedule(e){return this.httpClient.delete(`${this.API_URL}`).pipe(R(()=>e),L(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),xe(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||t)(Se(H))}}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var pi=["filter"],_i=()=>[5,10,25,100];function fi(t,m){if(t&1&&(n(0,"div",5),v(1,"app-breadcrumb",36),i()),t&2){let e=m.$implicit;l(),s("title",e.title)("items",e.items)("active_item",e.active)}}function hi(t,m){if(t&1){let e=g();n(0,"div")(1,"mat-option")(2,"mat-checkbox",37),h("click",function(o){return u(e),p(o.stopPropagation())}),le("ngModelChange",function(o){let c=u(e).$implicit;return re(c.visible,o)||(c.visible=o),p(o)}),r(3),i()()()}if(t&2){let e=m.$implicit;l(2),oe("ngModel",e.visible),l(),b(" ",e.label," ")}}function vi(t,m){if(t&1&&(n(0,"mat-header-cell",40)(1,"span",41),r(2),i()()),t&2){let e=d().$implicit;l(2),M(e.label)}}function Ci(t,m){if(t&1&&(n(0,"mat-cell")(1,"span",42),r(2),i(),n(3,"span",41),r(4),i()()),t&2){let e=m.$implicit,a=d().$implicit;l(2),b("",a.label,":"),l(2),M(e[a.def])}}function xi(t,m){if(t&1&&(V(0,30),_(1,vi,3,1,"mat-header-cell",38)(2,Ci,5,2,"mat-cell",39),A()),t&2){let e=m.$implicit;s("matColumnDef",e.def)}}function bi(t,m){t&1&&v(0,"mat-header-row")}function Si(t,m){t&1&&v(0,"mat-row",43),t&2&&(U("cursor","pointer"),s("@rowsAnimation",void 0))}function gi(t,m){t&1&&(n(0,"div",33),v(1,"mat-progress-spinner",44),i()),t&2&&(l(),s("diameter",40))}function Mi(t,m){if(t&1&&(n(0,"div",45),r(1," No results "),i()),t&2){let e=d();U("display",e.dataSource.data.length===0?"":"none")}}var ai=(()=>{class t{constructor(e,a,o){this.httpClient=e,this.dialog=a,this.examScheduleService=o,this.columnDefinitions=[{def:"id",label:"ID",type:"text",visible:!1},{def:"subject",label:"Subject",type:"text",visible:!0},{def:"class",label:"Class",type:"text",visible:!0},{def:"date",label:"Date",type:"text",visible:!0},{def:"time",label:"Time",type:"text",visible:!0},{def:"duration",label:"Duration",type:"text",visible:!0},{def:"roomNo",label:"Room No",type:"text",visible:!0},{def:"totalMarks",label:"Total Marks",type:"text",visible:!0},{def:"reqMarks",label:"Required Marks",type:"text",visible:!0}],this.dataSource=new ze([]),this.selection=new Te(!0,[]),this.isLoading=!0,this.destroy$=new ve,this.breadscrums=[{title:"Schedule",items:["Teacher"],active:"Exam Schedule"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}loadData(){this.examScheduleService.getAllExamSchedules().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,o)=>Object.values(a).some(c=>c.toString().toLowerCase().includes(o))},error:e=>console.error(e)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}exportExcel(){let e=this.dataSource.filteredData.map(a=>({ID:a.id,Subject:a.subject,Class:a.class,Date:a.date,Time:a.time,Duration:a.duration,"Room No":a.roomNo,"Total Marks":a.totalMarks,"Required Marks":a.reqMarks}));we.exportToExcel(e,"exam_schedule_export")}static{this.\u0275fac=function(a){return new(a||t)(x(H),x(Je),x(Jt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-exam-schedule"]],viewQuery:function(a,o){if(a&1&&(P(Q,5),P(O,5),P(pi,5)),a&2){let c;N(c=j())&&(o.paginator=c.first),N(c=j())&&(o.sort=c.first),N(c=j())&&(o.filter=c.first)}},decls:48,vars:11,consts:[["filter",""],["select",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],[3,"matColumnDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[1,"mobile-label"],["matRipple",""],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(a,o){if(a&1){let c=g();n(0,"section",3)(1,"div",4),I(2,fi,2,3,"div",5,k),n(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),r(12,"Exam Schedule"),i()(),n(13,"li",13)(14,"label",14)(15,"i",15),r(16,"search"),i()(),n(17,"input",16,0),h("keyup",function(S){return u(c),p(o.applyFilter(S))}),i()()()(),n(19,"div",17)(20,"ul",18)(21,"li",19)(22,"div",20)(23,"button",21),h("click",function(){u(c);let S=E(27);return p(S.open())}),n(24,"mat-icon"),r(25,"filter_list"),i(),n(26,"mat-select",22,1),le("ngModelChange",function(S){u(c);let q=E(18);return re(q.value,S)||(q.value=S),p(S)}),n(28,"span",23),r(29,"Show/Hide Column"),i(),I(30,hi,4,2,"div",null,k),i()()()(),n(32,"li")(33,"div",24)(34,"button",25),h("click",function(){return u(c),p(o.exportExcel())}),n(35,"mat-icon",26),r(36,"file_download"),i()()()()()()(),n(37,"div",27)(38,"div",28)(39,"table",29),I(40,xi,3,1,"ng-container",30,k),_(42,bi,1,0,"mat-header-row",31)(43,Si,1,3,"mat-row",32),i(),_(44,gi,2,1,"div",33)(45,Mi,2,2,"div",34),v(46,"mat-paginator",35,2),i()()()()()()()}if(a&2){let c=E(18);l(2),F(o.breadscrums),l(24),oe("ngModel",c.value),l(4),F(o.columnDefinitions),l(9),s("dataSource",o.dataSource),l(),F(o.columnDefinitions),l(2),s("matHeaderRowDef",o.getDisplayedColumns()),l(),s("matRowDefColumns",o.getDisplayedColumns()),l(),C(o.isLoading?44:-1),l(),C(o.isLoading?45:-1),l(),s("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Me(10,_i))}},dependencies:[se,Ge,Pe,je,Oe,$e,Ne,Qe,Be,He,Ue,We,Ae,O,Ve,Re,Ee,K,J,T,X,ie,te,Z,z,G,ye,Fe,Ie,Ze,Ke,Ye,Q],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[De]}})}}return t})();var $t=class{constructor(m){this.id=m.id||this.getRandomID(),this.subjectName=m.subjectName||"",this.class=m.class||"",this.date=m.date||"",this.time=m.time||"",this.status=m.status||"",this.teacher_id=m.teacher_id||"",this.subject_id=m.subject_id||"",this.student_group=m.student_group||"",this.duration=m.duration||60,this.location=m.location||"",this.attendance_count=m.attendance_count||0,this.created_at=m.created_at||new Date().toISOString(),this.updated_at=m.updated_at||new Date().toISOString(),this.reason_for_cancellation=m.reason_for_cancellation||""}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m().toString()+m().toString()}};var tt=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/lectures.json",this.dataChange=new Ce([])}getAllLectures(){return this.httpClient.get(this.API_URL).pipe(R(e=>(this.dataChange.next(e),e)),L(this.handleError))}addLectures(e){return this.httpClient.post(this.API_URL,e).pipe(R(a=>e),L(this.handleError))}updateLectures(e){return this.httpClient.put(`${this.API_URL}`,e).pipe(R(a=>e),L(this.handleError))}deleteLectures(e){return this.httpClient.delete(`${this.API_URL}`).pipe(R(()=>e),L(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),xe(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||t)(Se(H))}}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ei(t,m){t&1&&(n(0,"mat-error"),r(1,"Select Any Subject"),i())}function wi(t,m){t&1&&(n(0,"mat-error"),r(1,"Class name required"),i())}function Di(t,m){t&1&&(n(0,"mat-error"),r(1,"Please select date"),i())}function Ti(t,m){t&1&&(n(0,"mat-error"),r(1,"Please enter a valid time"),i())}function Ri(t,m){t&1&&(n(0,"mat-error"),r(1,"Select Status"),i())}function Li(t,m){t&1&&(n(0,"mat-error"),r(1,"Teacher ID required"),i())}function qi(t,m){t&1&&(n(0,"mat-error"),r(1,"Subject ID required"),i())}function ki(t,m){t&1&&(n(0,"mat-error"),r(1,"Student group required"),i())}function Ii(t,m){t&1&&(n(0,"mat-error"),r(1,"Duration required"),i())}function Fi(t,m){t&1&&(n(0,"mat-error"),r(1,"Location required"),i())}function Vi(t,m){t&1&&(n(0,"mat-error"),r(1,"Attendance count required"),i())}var ri=(()=>{class t{constructor(e,a,o,c){this.dialogRef=e,this.data=a,this.lecturesService=o,this.fb=c,this.action=a.action,this.dialogTitle=this.action==="edit"?a.lectures.subjectName:"New Lecture",this.lectures=this.action==="edit"?a.lectures:new $t({}),this.lecturesForm=this.createLecturesForm()}createLecturesForm(){return this.fb.group({id:[this.lectures.id],subjectName:[this.lectures.subjectName,[w.required]],class:[this.lectures.class,[w.required]],date:[this.lectures.date,[w.required]],time:[this.lectures.time,[w.required]],status:[this.lectures.status,[w.required]],teacher_id:[this.lectures.teacher_id,[w.required]],subject_id:[this.lectures.subject_id,[w.required]],student_group:[this.lectures.student_group,[w.required]],duration:[this.lectures.duration,[w.required]],location:[this.lectures.location,[w.required]],attendance_count:[this.lectures.attendance_count,[w.required]],created_at:[this.lectures.created_at],updated_at:[this.lectures.updated_at],reason_for_cancellation:[this.lectures.reason_for_cancellation]})}getErrorMessage(e){return e.hasError("required")?"Required field":""}submit(){if(this.lecturesForm.valid){let e=this.lecturesForm.getRawValue();this.action==="edit"?this.lecturesService.updateLectures(e).subscribe({next:a=>{this.dialogRef.close(a)},error:a=>{console.error("Update Error:",a)}}):this.lecturesService.addLectures(e).subscribe({next:a=>{this.dialogRef.close(a)},error:a=>{console.error("Add Error:",a)}})}}onNoClick(){this.dialogRef.close()}confirmAdd(){this.submit()}static{this.\u0275fac=function(a){return new(a||t)(x(ue),x(pe),x(tt),x(bt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-lecture-form"]],features:[ct([{provide:Lt,useValue:"en-GB"}])],decls:113,vars:22,consts:[["picker",""],[1,"addContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","mat-dialog-close","","aria-label","Close dialog","type","button",1,"modal-close-button"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","subjectName","required",""],[3,"value"],["matInput","","formControlName","class","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","time","required",""],["formControlName","status","required",""],["matInput","","formControlName","teacher_id","required",""],["matInput","","formControlName","subject_id","required",""],["matInput","","formControlName","student_group","required",""],["matInput","","type","number","formControlName","duration","required",""],["matInput","","formControlName","location","required",""],["matInput","","type","number","formControlName","attendance_count","required",""],["matInput","","formControlName","reason_for_cancellation"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"example-button-row"],["mat-flat-button","","type","submit",1,"formSubmitBtn",3,"disabled"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"formCancelBtn"]],template:function(a,o){if(a&1){let c=g();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),r(4),i()(),n(5,"button",5)(6,"mat-icon"),r(7,"close"),i()()(),n(8,"div",6)(9,"form",7),h("ngSubmit",function(){return u(c),p(o.submit())}),n(10,"div",8)(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),r(14,"Subject Name"),i(),n(15,"mat-select",11)(16,"mat-option",12),r(17,"Mathematics"),i(),n(18,"mat-option",12),r(19,"Chemistry"),i(),n(20,"mat-option",12),r(21,"Physics"),i(),n(22,"mat-option",12),r(23,"Biology"),i()(),_(24,Ei,2,0,"mat-error"),i()(),n(25,"div",9)(26,"mat-form-field",10)(27,"mat-label"),r(28,"Class Name"),i(),v(29,"input",13),n(30,"mat-icon",14),r(31,"person"),i(),_(32,wi,2,0,"mat-error"),i()()(),n(33,"div",8)(34,"div",9)(35,"mat-form-field",15)(36,"mat-label"),r(37,"Choose a date"),i(),v(38,"input",16)(39,"mat-datepicker-toggle",17)(40,"mat-datepicker",null,0),_(42,Di,2,0,"mat-error"),i()(),n(43,"div",9)(44,"mat-form-field",10)(45,"mat-label"),r(46,"Time"),i(),v(47,"input",18),n(48,"mat-icon",14),r(49,"schedule"),i(),_(50,Ti,2,0,"mat-error"),i()()(),n(51,"div",8)(52,"div",9)(53,"mat-form-field",10)(54,"mat-label"),r(55,"Status"),i(),n(56,"mat-select",19)(57,"mat-option",12),r(58,"Confirm"),i(),n(59,"mat-option",12),r(60,"Cancelled"),i()(),_(61,Ri,2,0,"mat-error"),i()(),n(62,"div",9)(63,"mat-form-field",10)(64,"mat-label"),r(65,"Teacher ID"),i(),v(66,"input",20),_(67,Li,2,0,"mat-error"),i()()(),n(68,"div",8)(69,"div",9)(70,"mat-form-field",10)(71,"mat-label"),r(72,"Subject ID"),i(),v(73,"input",21),_(74,qi,2,0,"mat-error"),i()(),n(75,"div",9)(76,"mat-form-field",10)(77,"mat-label"),r(78,"Student Group"),i(),v(79,"input",22),_(80,ki,2,0,"mat-error"),i()()(),n(81,"div",8)(82,"div",9)(83,"mat-form-field",10)(84,"mat-label"),r(85,"Duration (min)"),i(),v(86,"input",23),_(87,Ii,2,0,"mat-error"),i()(),n(88,"div",9)(89,"mat-form-field",10)(90,"mat-label"),r(91,"Location"),i(),v(92,"input",24),_(93,Fi,2,0,"mat-error"),i()()(),n(94,"div",8)(95,"div",9)(96,"mat-form-field",10)(97,"mat-label"),r(98,"Attendance Count"),i(),v(99,"input",25),_(100,Vi,2,0,"mat-error"),i()(),n(101,"div",9)(102,"mat-form-field",10)(103,"mat-label"),r(104,"Reason for Cancellation"),i(),v(105,"input",26),i()()(),n(106,"div",8)(107,"div",27)(108,"div",28)(109,"button",29),r(110,"Save"),i(),n(111,"button",30),r(112,"Cancel"),i()()()()()()()}if(a&2){let c,f,S,q,nt,at,ot,rt,y,Ut,Wt,Gt=E(41);l(4),b(" ",o.dialogTitle," "),l(5),s("formGroup",o.lecturesForm),l(7),s("value","Mathematics"),l(2),s("value","Chemistry"),l(2),s("value","Physics"),l(2),s("value","Biology"),l(2),C((c=o.lecturesForm.get("subjectName"))!=null&&c.hasError("required")?24:-1),l(8),C((f=o.lecturesForm.get("class"))!=null&&f.hasError("required")?32:-1),l(6),s("matDatepicker",Gt),l(),s("for",Gt),l(3),C((S=o.lecturesForm.get("date"))!=null&&S.hasError("required")?42:-1),l(8),C((q=o.lecturesForm.get("time"))!=null&&q.hasError("required")?50:-1),l(7),s("value","Confirm"),l(2),s("value","Cancelled"),l(2),C((nt=o.lecturesForm.get("status"))!=null&&nt.hasError("required")?61:-1),l(6),C((at=o.lecturesForm.get("teacher_id"))!=null&&at.hasError("required")?67:-1),l(7),C((ot=o.lecturesForm.get("subject_id"))!=null&&ot.hasError("required")?74:-1),l(6),C((rt=o.lecturesForm.get("student_group"))!=null&&rt.hasError("required")?80:-1),l(7),C((y=o.lecturesForm.get("duration"))!=null&&y.hasError("required")?87:-1),l(6),C((Ut=o.lecturesForm.get("location"))!=null&&Ut.hasError("required")?93:-1),l(7),C((Wt=o.lecturesForm.get("attendance_count"))!=null&&Wt.hasError("required")?100:-1),l(9),s("disabled",!o.lecturesForm.valid)}},dependencies:[T,Y,X,K,J,fe,z,ft,pt,ht,G,_t,xt,me,vt,Ct,ee,ke,qe,wt,Dt,ie,te,Z,de,ne,Xe,Ft,qt,kt,It,_e],encapsulation:2})}}return t})();var li=(()=>{class t{constructor(e,a,o){this.dialogRef=e,this.data=a,this.lecturesService=o}confirmDelete(){this.lecturesService.deleteLectures(this.data.id).subscribe({next:e=>{this.dialogRef.close(e)},error:e=>{console.error("Delete Error:",e)}})}static{this.\u0275fac=function(a){return new(a||t)(x(ue),x(pe),x(tt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-lecture-delete"]],decls:26,vars:7,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","",1,"formCancelBtn",3,"click","mat-dialog-close"],["mat-flat-button","","mat-dialog-close","","color","accent","tabindex","-1"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),i(),n(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8," Subject Name: "),i(),r(9),i()(),n(10,"li")(11,"p")(12,"span",4),r(13," Class: "),i(),r(14),i()(),n(15,"li")(16,"p")(17,"span",4),r(18,"Date: "),i(),r(19),$(20,"date"),i()()()(),n(21,"div",5)(22,"button",6),h("click",function(){return o.confirmDelete()}),r(23," Delete "),i(),n(24,"button",7),r(25,"Cancel"),i()()()),a&2&&(l(9),M(o.data.sName),l(5),M(o.data.class),l(5),b("",B(20,4,o.data.date,"MM/dd/yyyy")," "),l(3),s("mat-dialog-close",1))},dependencies:[Vt,fe,At,T,Y,_e,W],encapsulation:2})}}return t})();var $i=["filter"],Bi=()=>[5,10,25,100];function Hi(t,m){if(t&1&&(n(0,"div",7),v(1,"app-breadcrumb",50),i()),t&2){let e=m.$implicit;l(),s("title",e.title)("items",e.items)("active_item",e.active)}}function Oi(t,m){if(t&1){let e=g();n(0,"div")(1,"mat-option")(2,"mat-checkbox",51),h("click",function(o){return u(e),p(o.stopPropagation())}),le("ngModelChange",function(o){let c=u(e).$implicit;return re(c.visible,o)||(c.visible=o),p(o)}),r(3),i()()()}if(t&2){let e=m.$implicit;l(2),oe("ngModel",e.visible),l(),b(" ",e.label," ")}}function Qi(t,m){if(t&1){let e=g();n(0,"mat-header-cell")(1,"mat-checkbox",52),h("change",function(o){u(e);let c=d();return p(o?c.masterToggle():null)}),i()()}if(t&2){let e=d();l(),s("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function Ui(t,m){if(t&1){let e=g();n(0,"mat-cell")(1,"mat-checkbox",53),h("click",function(o){return u(e),p(o.stopPropagation())})("change",function(o){let c=u(e).$implicit,f=d();return p(o?f.selection.toggle(c):null)}),i()()}if(t&2){let e=m.$implicit,a=d();l(),s("checked",a.selection.isSelected(e))("ngClass","tbl-checkbox")}}function Wi(t,m){}function Gi(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),r(2),i()()),t&2){let e=d(3).$implicit;l(2),M(e.label)}}function zi(t,m){if(t&1){let e=g();n(0,"mat-cell",59),h("contextmenu",function(o){let c=u(e).$implicit,f=d(4);return p(f.onContextMenu(o,c))}),n(1,"span",60),r(2),i(),n(3,"span",58),r(4),$(5,"date"),i()()}if(t&2){let e=m.$implicit,a=d(3).$implicit;l(2),b("",a.label,":"),l(2),b(" ",B(5,2,e[a.def],"MM/dd/yyyy")," ")}}function Xi(t,m){if(t&1&&(V(0,54),_(1,Gi,3,1,"mat-header-cell",55)(2,zi,6,5,"mat-cell",56),A()),t&2){let e=d(2).$implicit;s("matColumnDef",e.def)}}function Yi(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),r(2),i()()),t&2){let e=d(4).$implicit;l(2),M(e.label)}}function Ji(t,m){if(t&1&&(n(0,"div")(1,"span",61),r(2),i()()),t&2){let e=d().$implicit;l(2),M(e.status)}}function Ki(t,m){if(t&1&&(n(0,"div")(1,"span",62),r(2),i()()),t&2){let e=d().$implicit;l(2),M(e.status)}}function Zi(t,m){if(t&1){let e=g();n(0,"mat-cell",59),h("contextmenu",function(o){let c=u(e).$implicit,f=d(5);return p(f.onContextMenu(o,c))}),n(1,"span",60),r(2),i(),n(3,"div"),_(4,Ji,3,1,"div")(5,Ki,3,1,"div"),i()()}if(t&2){let e,a=m.$implicit,o=d(4).$implicit;l(2),b("",o.label,":"),l(2),C((e=a.status)==="Confirm"?4:e==="Cancelled"?5:-1)}}function en(t,m){if(t&1&&(V(0,54),_(1,Yi,3,1,"mat-header-cell",55)(2,Zi,6,2,"mat-cell",56),A()),t&2){let e=d(3).$implicit;s("matColumnDef",e.def)}}function tn(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),r(2),i()()),t&2){let e=d(4).$implicit;l(2),M(e.label)}}function nn(t,m){if(t&1){let e=g();n(0,"mat-cell",59),h("contextmenu",function(o){let c=u(e).$implicit,f=d(5);return p(f.onContextMenu(o,c))}),n(1,"span",60),r(2),i(),n(3,"span",58),r(4),i()()}if(t&2){let e=m.$implicit,a=d(4).$implicit;l(2),b("",a.label,":"),l(2),M(e[a.def])}}function an(t,m){if(t&1&&(V(0,54),_(1,tn,3,1,"mat-header-cell",55)(2,nn,5,2,"mat-cell",56),A()),t&2){let e=d(3).$implicit;s("matColumnDef",e.def)}}function on(t,m){if(t&1&&_(0,en,3,1,"ng-container",54)(1,an,3,1,"ng-container",54),t&2){let e=d(2).$implicit;C(e.def==="status"?0:1)}}function rn(t,m){if(t&1&&_(0,Xi,3,1,"ng-container",54)(1,on,2,1),t&2){let e=d().$implicit;C(e.type==="date"?0:1)}}function ln(t,m){if(t&1&&_(0,Wi,0,0)(1,rn,2,1),t&2){let e=m.$implicit;C(e.type==="check"||e.type==="actionBtn"?0:1)}}function mn(t,m){t&1&&(n(0,"mat-header-cell",63),r(1,"Actions"),i())}function cn(t,m){if(t&1){let e=g();n(0,"mat-cell",63)(1,"button",64),h("click",function(o){return u(e),p(o.stopPropagation())})("click",function(){let o=u(e).$implicit,c=d();return p(c.editCall(o))}),v(2,"app-feather-icons",65),i(),n(3,"button",64),h("click",function(o){return u(e),p(o.stopPropagation())})("click",function(){let o=u(e).$implicit,c=d();return p(c.deleteItem(o))}),v(4,"app-feather-icons",65),i()()}t&2&&(l(2),ge("tbl-fav-edit"),s("icon","edit"),l(2),ge("tbl-fav-delete"),s("icon","trash-2"))}function sn(t,m){t&1&&v(0,"mat-header-row")}function dn(t,m){if(t&1){let e=g();n(0,"mat-row",66),h("click",function(){let o=u(e).$implicit,c=d();return p(c.editCall(o))}),i()}t&2&&(U("cursor","pointer"),s("@rowsAnimation",void 0))}function un(t,m){t&1&&(n(0,"div",44),v(1,"mat-progress-spinner",67),i()),t&2&&(l(),s("diameter",40))}function pn(t,m){if(t&1){let e=g();n(0,"button",68),h("click",function(){u(e);let o=d();return p(o.addNew())}),n(1,"mat-icon"),r(2,"add_box"),i(),n(3,"span"),r(4,"Add Record"),i()(),n(5,"button",68),h("click",function(){let o=u(e).item,c=d();return p(c.editCall(o))}),n(6,"mat-icon"),r(7,"create"),i(),n(8,"span"),r(9,"Edit Record"),i()(),n(10,"button",68),h("click",function(){let o=u(e).item,c=d();return p(c.deleteItem(o))}),n(11,"mat-icon"),r(12,"delete"),i(),n(13,"span"),r(14,"Delete Record"),i()(),n(15,"button",68),h("click",function(){u(e);let o=d();return p(o.refresh())}),n(16,"mat-icon"),r(17,"refresh"),i(),n(18,"span"),r(19,"Refresh Record"),i()(),n(20,"button",69)(21,"mat-icon"),r(22,"no_encryption"),i(),n(23,"span"),r(24,"Disable"),i()(),n(25,"button",70)(26,"mat-icon"),r(27,"list_alt"),i(),n(28,"span"),r(29," Nested Menu"),i()()}if(t&2){d();let e=E(71);l(25),s("matMenuTriggerFor",e)}}function _n(t,m){if(t&1&&(n(0,"div",71),r(1," No results "),i()),t&2){let e=d();U("display",e.dataSource.data.length===0?"":"none")}}var mi=(()=>{class t{constructor(e,a,o,c){this.httpClient=e,this.dialog=a,this.lecturesService=o,this.snackBar=c,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"id",label:"ID",type:"text",visible:!1},{def:"subjectName",label:"Subject Name",type:"text",visible:!0},{def:"class",label:"Class",type:"text",visible:!0},{def:"date",label:"Date",type:"text",visible:!0},{def:"time",label:"Time",type:"text",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"teacher_id",label:"Teacher ID",type:"text",visible:!1},{def:"subject_id",label:"Subject ID",type:"text",visible:!1},{def:"student_group",label:"Student Group",type:"text",visible:!0},{def:"duration",label:"Duration (Minutes)",type:"text",visible:!0},{def:"location",label:"Location",type:"text",visible:!0},{def:"attendance_count",label:"Attendance Count",type:"text",visible:!0},{def:"created_at",label:"Created At",type:"text",visible:!1},{def:"updated_at",label:"Updated At",type:"text",visible:!1},{def:"reason_for_cancellation",label:"Reason for Cancellation",type:"text",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new ze([]),this.selection=new Te(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0,this.destroy$=new ve,this.breadscrums=[{title:"Lecture",items:["Teacher"],active:"Lecture"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}loadData(){this.lecturesService.getAllLectures().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,o)=>Object.values(a).some(c=>c.toString().toLowerCase().includes(o))},error:e=>console.error(e)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}addNew(){this.openDialog("add")}editCall(e){this.openDialog("edit",e)}openDialog(e,a){let o;localStorage.getItem("isRtl")==="true"?o="rtl":o="ltr",this.dialog.open(ri,{width:"60vw",maxWidth:"100vw",data:{lectures:a,action:e},direction:o,autoFocus:!1}).afterClosed().subscribe(f=>{f&&(e==="add"?this.dataSource.data=[f,...this.dataSource.data]:this.updateRecord(f),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let a=this.dataSource.data.findIndex(o=>o.id===e.id);a!==-1&&(this.dataSource.data[a]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(li,{data:e}).afterClosed().subscribe(o=>{o&&(this.dataSource.data=this.dataSource.data.filter(c=>c.id!==e.id),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}showNotification(e,a,o,c){this.snackBar.open(a,"",{duration:2e3,verticalPosition:o,horizontalPosition:c,panelClass:e})}exportExcel(){let e=this.dataSource.filteredData.map(a=>({ID:a.id,"Subject Name":a.subjectName,Class:a.class,Date:a.date,Time:a.time,Status:a.status,"Teacher ID":a.teacher_id,"Subject ID":a.subject_id,"Student Group":a.student_group,"Duration (Minutes)":a.duration,Location:a.location,"Attendance Count":a.attendance_count,"Created At":a.created_at,"Updated At":a.updated_at,"Reason for Cancellation":a.reason_for_cancellation}));we.exportToExcel(e,"class_session_export")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(a=>!this.selection.selected.includes(a)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}onContextMenu(e,a){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(a){return new(a||t)(x(H),x(Je),x(tt),x(Pt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-lectures"]],viewQuery:function(a,o){if(a&1&&(P(Q,5),P(O,5),P($i,5),P(ce,5)),a&2){let c;N(c=j())&&(o.paginator=c.first),N(c=j())&&(o.sort=c.first),N(c=j())&&(o.filter=c.first),N(c=j())&&(o.contextMenu=c.first)}},decls:90,vars:18,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"col-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",3,"click"],[1,"m-l-10",3,"hidden"],["mat-icon-button","","matTooltip","Delete",1,"col-red",3,"click","hidden"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-red"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(a,o){if(a&1){let c=g();n(0,"section",5)(1,"div",6),I(2,Hi,2,3,"div",7,k),n(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"ul",13)(10,"li",14)(11,"h2"),r(12,"Lecture"),i()(),n(13,"li",15)(14,"label",16)(15,"i",17),r(16,"search"),i()(),n(17,"input",18,0),h("keyup",function(S){return u(c),p(o.applyFilter(S))}),i()()()(),n(19,"div",19)(20,"ul",20)(21,"li",21)(22,"div",22)(23,"button",23),h("click",function(){u(c);let S=E(27);return p(S.open())}),n(24,"mat-icon"),r(25,"filter_list"),i(),n(26,"mat-select",24,1),le("ngModelChange",function(S){u(c);let q=E(18);return re(q.value,S)||(q.value=S),p(S)}),n(28,"span",25),r(29,"Show/Hide Column"),i(),I(30,Oi,4,2,"div",null,k),i()()()(),n(32,"li",21)(33,"div",22)(34,"button",26),h("click",function(){return u(c),p(o.addNew())}),n(35,"mat-icon"),r(36,"add_circle_outline"),i()()()(),n(37,"li",21)(38,"div",22)(39,"button",27),h("click",function(){return u(c),p(o.refresh())}),n(40,"mat-icon"),r(41,"refresh"),i()()()(),n(42,"li",21)(43,"div",28)(44,"button",29),h("click",function(){return u(c),p(o.removeSelectedRows())}),n(45,"mat-icon"),r(46,"delete_outline"),i()()()(),n(47,"li")(48,"div",30)(49,"button",31),h("click",function(){return u(c),p(o.exportExcel())}),n(50,"mat-icon",32),r(51,"file_download"),i()()()()()()(),n(52,"div",33)(53,"div",34)(54,"table",35),V(55,36),_(56,Qi,2,3,"mat-header-cell",37)(57,Ui,2,2,"mat-cell",38),A(),I(58,ln,2,1,null,null,k),V(60,39),_(61,mn,2,0,"mat-header-cell",40)(62,cn,5,6,"mat-cell",41),A(),_(63,sn,1,0,"mat-header-row",42)(64,dn,1,3,"mat-row",43),i(),_(65,un,2,1,"div",44),v(66,"div",45),n(67,"mat-menu",null,2),_(69,pn,30,1,"ng-template",46),i(),n(70,"mat-menu",null,3)(72,"button",47)(73,"mat-icon"),r(74,"mail_outline"),i(),n(75,"span"),r(76,"Item 1"),i()(),n(77,"button",47)(78,"mat-icon"),r(79,"call"),i(),n(80,"span"),r(81,"Item 2"),i()(),n(82,"button",47)(83,"mat-icon"),r(84,"chat"),i(),n(85,"span"),r(86,"Item 3"),i()()(),_(87,_n,2,2,"div",48),v(88,"mat-paginator",49,4),i()()()()()()()}if(a&2){let c=E(18),f=E(68);l(2),F(o.breadscrums),l(24),oe("ngModel",c.value),l(4),F(o.columnDefinitions),l(13),s("hidden",!o.selection.hasValue()),l(),s("hidden",!o.selection.hasValue()),l(10),s("dataSource",o.dataSource),l(4),F(o.columnDefinitions),l(5),s("matHeaderRowDef",o.getDisplayedColumns()),l(),s("matRowDefColumns",o.getDisplayedColumns()),l(),C(o.isLoading?65:-1),l(),U("left",o.contextMenuPosition.x)("top",o.contextMenuPosition.y),s("matMenuTriggerFor",f),l(21),C(o.isLoading?87:-1),l(),s("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Me(17,Bi))}},dependencies:[se,St,ut,dt,W,Le,ee,ne,K,J,T,X,Rt,Tt,ie,te,Z,me,G,z,ye,de,Fe,Ie,Ge,Pe,je,Oe,$e,Ne,Qe,Be,He,Ue,We,Ae,O,Ve,Re,Ee,Ze,Ke,Et,yt,gt,Mt,ce,Ye,Q],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[De]}})}}return t})();var Bt=class{constructor(m){this.leaveId=m.leaveId||this.getRandomID(),this.leaveType=m.leaveType||"",this.startDate=m.startDate||st(new Date,"yyyy-MM-dd","en"),this.endDate=m.endDate||st(new Date,"yyyy-MM-dd","en"),this.totalDays=m.totalDays||0,this.status=m.status||"",this.dateSubmitted=m.dateSubmitted||st(new Date,"yyyy-MM-dd","en"),this.reasonForLeave=m.reasonForLeave||"",this.approver=m.approver||"",this.comments=m.comments||""}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m()+m()}};var it=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/teacher-leave.json",this.dataChange=new Ce([])}getAllLeaveRequests(){return this.httpClient.get(this.API_URL).pipe(R(e=>(this.dataChange.next(e),e)),L(this.handleError))}addLeaveRequest(e){return this.httpClient.post(this.API_URL,e).pipe(R(a=>e),L(this.handleError))}updateLeaveRequest(e){return this.httpClient.put(`${this.API_URL}`,e).pipe(R(a=>e),L(this.handleError))}deleteLeaveRequest(e){return this.httpClient.delete(`${this.API_URL}`).pipe(R(()=>e),L(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),xe(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||t)(Se(H))}}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fn(t,m){t&1&&(n(0,"mat-error"),r(1,"Leave type required"),i())}function hn(t,m){t&1&&(n(0,"mat-error"),r(1,"Start date required"),i())}function vn(t,m){t&1&&(n(0,"mat-error"),r(1,"End date required"),i())}function Cn(t,m){t&1&&(n(0,"mat-error"),r(1,"Total days required"),i())}function xn(t,m){t&1&&(n(0,"mat-error"),r(1,"Select status"),i())}function bn(t,m){t&1&&(n(0,"mat-error"),r(1,"Date submitted required"),i())}function Sn(t,m){t&1&&(n(0,"mat-error"),r(1,"Reason for leave required"),i())}function gn(t,m){t&1&&(n(0,"mat-error"),r(1,"Approver required"),i())}function Mn(t,m){if(t&1){let e=g();n(0,"div",5)(1,"div",6)(2,"div",7),r(3),i()(),n(4,"button",8)(5,"mat-icon"),r(6,"close"),i()()(),n(7,"div",9)(8,"form",10),h("ngSubmit",function(){u(e);let o=d();return p(o.submit())}),n(9,"div",11)(10,"div",12)(11,"mat-form-field",13)(12,"mat-label"),r(13,"Leave Type"),i(),v(14,"input",14),_(15,fn,2,0,"mat-error"),i()(),n(16,"div",12)(17,"mat-form-field",13)(18,"mat-label"),r(19,"Start Date"),i(),v(20,"input",15)(21,"mat-datepicker-toggle",16)(22,"mat-datepicker",null,0),_(24,hn,2,0,"mat-error"),i()()(),n(25,"div",11)(26,"div",12)(27,"mat-form-field",13)(28,"mat-label"),r(29,"End Date"),i(),v(30,"input",17)(31,"mat-datepicker-toggle",16)(32,"mat-datepicker",null,1),_(34,vn,2,0,"mat-error"),i()(),n(35,"div",12)(36,"mat-form-field",13)(37,"mat-label"),r(38,"Total Days"),i(),v(39,"input",18),_(40,Cn,2,0,"mat-error"),i()()(),n(41,"div",11)(42,"div",12)(43,"mat-form-field",13)(44,"mat-label"),r(45,"Status"),i(),n(46,"mat-select",19)(47,"mat-option",20),r(48,"Approved"),i(),n(49,"mat-option",20),r(50,"Pending"),i(),n(51,"mat-option",20),r(52,"Rejected"),i()(),_(53,xn,2,0,"mat-error"),i()(),n(54,"div",12)(55,"mat-form-field",13)(56,"mat-label"),r(57,"Date Submitted"),i(),v(58,"input",21)(59,"mat-datepicker-toggle",16)(60,"mat-datepicker",null,2),_(62,bn,2,0,"mat-error"),i()()(),n(63,"div",11)(64,"div",12)(65,"mat-form-field",13)(66,"mat-label"),r(67,"Reason for Leave"),i(),v(68,"input",22),_(69,Sn,2,0,"mat-error"),i()(),n(70,"div",12)(71,"mat-form-field",13)(72,"mat-label"),r(73,"Approver"),i(),v(74,"input",23),_(75,gn,2,0,"mat-error"),i()()(),n(76,"div",11)(77,"div",24)(78,"mat-form-field",13)(79,"mat-label"),r(80,"Comments"),i(),v(81,"textarea",25),i()()(),n(82,"div",11)(83,"div",24)(84,"div",26)(85,"button",27),r(86,"Save"),i(),n(87,"button",28),r(88,"Cancel"),i()()()()()()}if(t&2){let e,a,o,c,f,S,q,nt,at=E(23),ot=E(33),rt=E(61),y=d();l(3),b(" ",y.dialogTitle," "),l(5),s("formGroup",y.leaveRequestForm),l(7),C(!(y.leaveRequestForm==null||(e=y.leaveRequestForm.get("leaveType"))==null)&&e.hasError("required")?15:-1),l(5),s("matDatepicker",at),l(),s("for",at),l(3),C(!(y.leaveRequestForm==null||(a=y.leaveRequestForm.get("startDate"))==null)&&a.hasError("required")?24:-1),l(6),s("matDatepicker",ot),l(),s("for",ot),l(3),C(!(y.leaveRequestForm==null||(o=y.leaveRequestForm.get("endDate"))==null)&&o.hasError("required")?34:-1),l(6),C(!(y.leaveRequestForm==null||(c=y.leaveRequestForm.get("totalDays"))==null)&&c.hasError("required")?40:-1),l(7),s("value","Approved"),l(2),s("value","Pending"),l(2),s("value","Rejected"),l(2),C(!(y.leaveRequestForm==null||(f=y.leaveRequestForm.get("status"))==null)&&f.hasError("required")?53:-1),l(5),s("matDatepicker",rt),l(),s("for",rt),l(3),C(!(y.leaveRequestForm==null||(S=y.leaveRequestForm.get("dateSubmitted"))==null)&&S.hasError("required")?62:-1),l(7),C(!(y.leaveRequestForm==null||(q=y.leaveRequestForm.get("reasonForLeave"))==null)&&q.hasError("required")?69:-1),l(6),C(!(y.leaveRequestForm==null||(nt=y.leaveRequestForm.get("approver"))==null)&&nt.hasError("required")?75:-1),l(10),s("disabled",!y.leaveRequestForm.valid)}}function yn(t,m){if(t&1&&(n(0,"div")(1,"span",38),r(2),i()()),t&2){let e=d(2);l(2),M(e.leaveRequest.status)}}function En(t,m){if(t&1&&(n(0,"div")(1,"span",39),r(2),i()()),t&2){let e=d(2);l(2),M(e.leaveRequest.status)}}function wn(t,m){if(t&1&&(n(0,"div")(1,"span",40),r(2),i()()),t&2){let e=d(2);l(2),M(e.leaveRequest.status)}}function Dn(t,m){if(t&1&&(n(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",29),r(5),i()()(),n(6,"button",8)(7,"mat-icon"),r(8,"close"),i()()(),n(9,"div",9)(10,"mat-card-content")(11,"div",30)(12,"div",31),r(13," Leave Type: "),i(),n(14,"div",32),r(15),i()(),n(16,"div",30)(17,"div",31),r(18,"Start Date: "),i(),n(19,"div",33)(20,"mat-icon",34),r(21,"calendar_month"),i(),r(22),$(23,"date"),i()(),n(24,"div",30)(25,"div",31),r(26,"End Date: "),i(),n(27,"div",33)(28,"mat-icon",34),r(29,"calendar_month"),i(),r(30),$(31,"date"),i()(),n(32,"div",30)(33,"div",31),r(34,"Total Days: "),i(),n(35,"div",32),r(36),i()(),n(37,"div",35)(38,"div",31),r(39,"Status: "),i(),n(40,"div",32),_(41,yn,3,1,"div")(42,En,3,1,"div")(43,wn,3,1,"div"),i()(),n(44,"div",30)(45,"div",31),r(46,"Date Submitted: "),i(),n(47,"div",33)(48,"mat-icon",34),r(49,"calendar_month"),i(),r(50),$(51,"date"),i()(),n(52,"div",30)(53,"div",31),r(54,"Reason For Leave: "),i(),n(55,"div",32),r(56),i()(),n(57,"div",30)(58,"div",31),r(59,"Approver: "),i(),n(60,"div",33)(61,"mat-icon",36),r(62,"person_3"),i(),r(63),i()(),n(64,"div",30)(65,"div",31),r(66,"Comments: "),i(),n(67,"div",33)(68,"mat-icon",37),r(69,"notes"),i(),r(70),i()()()()()),t&2){let e,a=d();l(5),M(a.leaveRequest.leaveType),l(10),b(" ",a.leaveRequest.leaveType," "),l(7),b(" ",B(23,10,a.leaveRequest.startDate,"MMMM d, yyyy")," "),l(8),b(" ",B(31,13,a.leaveRequest.endDate,"MMMM d, yyyy")," "),l(6),b(" ",a.leaveRequest.totalDays," "),l(5),C((e=a.leaveRequest.status)==="Approved"?41:e==="Pending"?42:e==="Rejected"?43:-1),l(9),b(" ",B(51,16,a.leaveRequest.dateSubmitted,"MMMM d, yyyy")," "),l(6),b(" ",a.leaveRequest.reasonForLeave," "),l(7),b(" ",a.leaveRequest.approver," "),l(7),b(" ",a.leaveRequest.comments," ")}}var Qt=(()=>{class t{constructor(e,a,o,c){if(this.dialogRef=e,this.data=a,this.leaveRequestService=o,this.fb=c,this.isDetails=!1,this.action=a.action,this.action==="edit")this.isDetails=!1,this.dialogTitle=a.leaveRequest.leaveType,this.leaveRequest=a.leaveRequest,this.leaveRequestForm=this.createLeaveRequestsForm();else if(this.action==="details")this.leaveRequest=a.leaveRequest,this.isDetails=!0;else{this.isDetails=!1,this.dialogTitle="New Leave Request";let f={};this.leaveRequest=new Bt(f),this.leaveRequestForm=this.createLeaveRequestsForm()}}createLeaveRequestsForm(){return this.fb.group({leaveId:[this.leaveRequest.leaveId],leaveType:[this.leaveRequest.leaveType,[w.required]],startDate:[this.leaveRequest.startDate,[w.required]],endDate:[this.leaveRequest.endDate,[w.required]],totalDays:[this.leaveRequest.totalDays,[w.required]],status:[this.leaveRequest.status,[w.required]],dateSubmitted:[this.leaveRequest.dateSubmitted,[w.required]],reasonForLeave:[this.leaveRequest.reasonForLeave,[w.required]],approver:[this.leaveRequest.approver,[w.required]],comments:[this.leaveRequest.comments,[w.required]]})}getErrorMessage(e){return e.hasError("required")?"Required field":""}submit(){if(this.leaveRequestForm?.valid){let e=this.leaveRequestForm?.getRawValue();this.action==="edit"?this.leaveRequestService.updateLeaveRequest(e).subscribe({next:a=>{this.dialogRef.close(a)},error:a=>{console.error("Update Error:",a)}}):this.leaveRequestService.addLeaveRequest(e).subscribe({next:a=>{this.dialogRef.close(a)},error:a=>{console.error("Add Error:",a)}})}}onNoClick(){this.dialogRef.close()}confirmAdd(){this.submit()}static{this.\u0275fac=function(a){return new(a||t)(x(ue),x(pe),x(it),x(bt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-teacher-leave-request-form"]],features:[ct([{provide:Lt,useValue:"en-GB"}])],decls:3,vars:2,consts:[["startPicker",""],["endPicker",""],["submittedPicker",""],[1,"addContainer"],[1,"contact-details"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","mat-dialog-close","","aria-label","Close dialog","type","button",1,"modal-close-button"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","leaveType","required",""],["matInput","","formControlName","startDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","endDate","required","",3,"matDatepicker"],["matInput","","type","number","formControlName","totalDays","required",""],["formControlName","status","required",""],[3,"value"],["matInput","","formControlName","dateSubmitted","required","",3,"matDatepicker"],["matInput","","formControlName","reasonForLeave","required",""],["matInput","","formControlName","approver","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","comments"],[1,"example-button-row"],["mat-flat-button","","type","submit",1,"formSubmitBtn",3,"disabled"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"formCancelBtn"],[1,"contact-details-name"],[1,"d-flex","m-b-20"],[1,"font-b-500"],[1,"m-l-10","m-r-10"],[1,"m-l-10","m-r-10","d-flex"],[1,"tbl-icon","material-icons-outlined","col-green"],[1,"d-flex","m-b-20",2,"align-items","center"],[1,"tbl-icon","material-icons-outlined","col-blue"],[1,"tbl-icon","material-icons-outlined","col-brown"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-purple"],[1,"badge","badge-solid-orange"]],template:function(a,o){a&1&&(n(0,"div",3),_(1,Mn,89,20)(2,Dn,71,19,"div",4),i()),a&2&&(l(),C(o.isDetails?-1:1),l(),C(o.isDetails?2:-1))},dependencies:[T,Y,X,K,J,fe,z,ft,pt,ht,G,_t,xt,me,vt,Ct,ee,ke,qe,wt,Dt,ie,te,Z,de,ne,Xe,Ft,qt,kt,It,_e,Le,Xt,W],encapsulation:2})}}return t})();var ci=(()=>{class t{constructor(e,a,o){this.dialogRef=e,this.data=a,this.leaveRequestService=o}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leaveRequestService.deleteLeaveRequest(this.data.id)}static{this.\u0275fac=function(a){return new(a||t)(x(ue),x(pe),x(it))}}static{this.\u0275cmp=D({type:t,selectors:[["app-teacher-leave-request-delete"]],decls:26,vars:7,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","",1,"formCancelBtn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),i(),n(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8," Class: "),i(),r(9),i()(),n(10,"li")(11,"p")(12,"span",4),r(13," Section: "),i(),r(14),i()(),n(15,"li")(16,"p")(17,"span",4),r(18,"Apply Date: "),i(),r(19),$(20,"date"),i()()()(),n(21,"div",5)(22,"button",6),h("click",function(){return o.confirmDelete()}),r(23," Delete "),i(),n(24,"button",7),h("click",function(){return o.onNoClick()}),r(25,"Cancel"),i()()()),a&2&&(l(9),M(o.data.class),l(5),M(o.data.section),l(5),b("",B(20,4,o.data.applyDate,"MM/dd/yyyy")," "),l(3),s("mat-dialog-close",1))},dependencies:[Vt,fe,At,T,Y,_e,W],encapsulation:2})}}return t})();var Tn=["filter"],Rn=()=>[5,10,25,100];function Ln(t,m){if(t&1&&(n(0,"div",7),v(1,"app-breadcrumb",50),i()),t&2){let e=m.$implicit;l(),s("title",e.title)("items",e.items)("active_item",e.active)}}function qn(t,m){if(t&1){let e=g();n(0,"div")(1,"mat-option")(2,"mat-checkbox",51),h("click",function(o){return u(e),p(o.stopPropagation())}),le("ngModelChange",function(o){let c=u(e).$implicit;return re(c.visible,o)||(c.visible=o),p(o)}),r(3),i()()()}if(t&2){let e=m.$implicit;l(2),oe("ngModel",e.visible),l(),b(" ",e.label," ")}}function kn(t,m){if(t&1){let e=g();n(0,"mat-header-cell")(1,"mat-checkbox",52),h("change",function(o){u(e);let c=d();return p(o?c.masterToggle():null)}),i()()}if(t&2){let e=d();l(),s("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function In(t,m){if(t&1){let e=g();n(0,"mat-cell")(1,"mat-checkbox",53),h("click",function(o){return u(e),p(o.stopPropagation())})("change",function(o){let c=u(e).$implicit,f=d();return p(o?f.selection.toggle(c):null)}),i()()}if(t&2){let e=m.$implicit,a=d();l(),s("checked",a.selection.isSelected(e))("ngClass","tbl-checkbox")}}function Fn(t,m){}function Vn(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),r(2),i()()),t&2){let e=d(3).$implicit;l(2),M(e.label)}}function An(t,m){if(t&1){let e=g();n(0,"mat-cell",59),h("contextmenu",function(o){let c=u(e).$implicit,f=d(4);return p(f.onContextMenu(o,c))}),n(1,"span",60),r(2),i(),n(3,"span",58),r(4),$(5,"date"),i()()}if(t&2){let e=m.$implicit,a=d(3).$implicit;l(2),b("",a.label,":"),l(2),b(" ",B(5,2,e[a.def],"MM/dd/yyyy")," ")}}function Pn(t,m){if(t&1&&(V(0,54),_(1,Vn,3,1,"mat-header-cell",55)(2,An,6,5,"mat-cell",56),A()),t&2){let e=d(2).$implicit;s("matColumnDef",e.def)}}function Nn(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),r(2),i()()),t&2){let e=d(4).$implicit;l(2),M(e.label)}}function jn(t,m){if(t&1&&(n(0,"div")(1,"span",61),r(2),i()()),t&2){let e=d().$implicit;l(2),M(e.status)}}function $n(t,m){if(t&1&&(n(0,"div")(1,"span",62),r(2),i()()),t&2){let e=d().$implicit;l(2),M(e.status)}}function Bn(t,m){if(t&1&&(n(0,"div")(1,"span",63),r(2),i()()),t&2){let e=d().$implicit;l(2),M(e.status)}}function Hn(t,m){if(t&1){let e=g();n(0,"mat-cell",59),h("contextmenu",function(o){let c=u(e).$implicit,f=d(5);return p(f.onContextMenu(o,c))}),n(1,"span",60),r(2),i(),n(3,"div"),_(4,jn,3,1,"div")(5,$n,3,1,"div")(6,Bn,3,1,"div"),i()()}if(t&2){let e,a=m.$implicit,o=d(4).$implicit;l(2),b("",o.label,":"),l(2),C((e=a.status)==="Approved"?4:e==="Pending"?5:e==="Rejected"?6:-1)}}function On(t,m){if(t&1&&(V(0,54),_(1,Nn,3,1,"mat-header-cell",55)(2,Hn,7,2,"mat-cell",56),A()),t&2){let e=d(3).$implicit;s("matColumnDef",e.def)}}function Qn(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),r(2),i()()),t&2){let e=d(4).$implicit;l(2),M(e.label)}}function Un(t,m){if(t&1){let e=g();n(0,"mat-cell",59),h("contextmenu",function(o){let c=u(e).$implicit,f=d(5);return p(f.onContextMenu(o,c))}),n(1,"span",60),r(2),i(),n(3,"span",58),r(4),i()()}if(t&2){let e=m.$implicit,a=d(4).$implicit;l(2),b("",a.label,":"),l(2),M(e[a.def])}}function Wn(t,m){if(t&1&&(V(0,54),_(1,Qn,3,1,"mat-header-cell",55)(2,Un,5,2,"mat-cell",56),A()),t&2){let e=d(3).$implicit;s("matColumnDef",e.def)}}function Gn(t,m){if(t&1&&_(0,On,3,1,"ng-container",54)(1,Wn,3,1,"ng-container",54),t&2){let e=d(2).$implicit;C(e.def==="status"?0:1)}}function zn(t,m){if(t&1&&_(0,Pn,3,1,"ng-container",54)(1,Gn,2,1),t&2){let e=d().$implicit;C(e.type==="date"?0:1)}}function Xn(t,m){if(t&1&&_(0,Fn,0,0)(1,zn,2,1),t&2){let e=m.$implicit;C(e.type==="check"||e.type==="actionBtn"?0:1)}}function Yn(t,m){t&1&&(n(0,"mat-header-cell",64),r(1,"Actions"),i())}function Jn(t,m){if(t&1){let e=g();n(0,"mat-cell",64)(1,"button",65),h("click",function(o){return u(e),p(o.stopPropagation())})("click",function(){let o=u(e).$implicit,c=d();return p(c.editCall(o))}),v(2,"app-feather-icons",66),i(),n(3,"button",65),h("click",function(o){return u(e),p(o.stopPropagation())})("click",function(){let o=u(e).$implicit,c=d();return p(c.deleteItem(o))}),v(4,"app-feather-icons",66),i()()}t&2&&(l(2),ge("tbl-fav-edit"),s("icon","edit"),l(2),ge("tbl-fav-delete"),s("icon","trash-2"))}function Kn(t,m){t&1&&v(0,"mat-header-row")}function Zn(t,m){if(t&1){let e=g();n(0,"mat-row",67),h("click",function(){let o=u(e).$implicit,c=d();return p(c.detailsCall(o))}),i()}t&2&&(U("cursor","pointer"),s("@rowsAnimation",void 0))}function ea(t,m){t&1&&(n(0,"div",44),v(1,"mat-progress-spinner",68),i()),t&2&&(l(),s("diameter",40))}function ta(t,m){if(t&1){let e=g();n(0,"button",69),h("click",function(){u(e);let o=d();return p(o.addNew())}),n(1,"mat-icon"),r(2,"add_box"),i(),n(3,"span"),r(4,"Add Record"),i()(),n(5,"button",69),h("click",function(){let o=u(e).item,c=d();return p(c.editCall(o))}),n(6,"mat-icon"),r(7,"create"),i(),n(8,"span"),r(9,"Edit Record"),i()(),n(10,"button",69),h("click",function(){let o=u(e).item,c=d();return p(c.deleteItem(o))}),n(11,"mat-icon"),r(12,"delete"),i(),n(13,"span"),r(14,"Delete Record"),i()(),n(15,"button",69),h("click",function(){u(e);let o=d();return p(o.refresh())}),n(16,"mat-icon"),r(17,"refresh"),i(),n(18,"span"),r(19,"Refresh Record"),i()(),n(20,"button",70)(21,"mat-icon"),r(22,"no_encryption"),i(),n(23,"span"),r(24,"Disable"),i()(),n(25,"button",71)(26,"mat-icon"),r(27,"list_alt"),i(),n(28,"span"),r(29," Nested Menu"),i()()}if(t&2){d();let e=E(71);l(25),s("matMenuTriggerFor",e)}}function ia(t,m){if(t&1&&(n(0,"div",72),r(1," No results "),i()),t&2){let e=d();U("display",e.dataSource.data.length===0?"":"none")}}var si=(()=>{class t{constructor(e,a,o,c){this.httpClient=e,this.dialog=a,this.leaveRequestService=o,this.snackBar=c,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"leaveId",label:"Leave ID",type:"text",visible:!1},{def:"leaveType",label:"Leave Type",type:"text",visible:!0},{def:"startDate",label:"Start Date",type:"text",visible:!0},{def:"endDate",label:"End Date",type:"text",visible:!0},{def:"totalDays",label:"Total Days",type:"text",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"dateSubmitted",label:"Date Submitted",type:"text",visible:!0},{def:"reasonForLeave",label:"Reason for Leave",type:"text",visible:!0},{def:"approver",label:"Approver",type:"text",visible:!0},{def:"comments",label:"Comments",type:"text",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new ze([]),this.selection=new Te(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0,this.destroy$=new ve,this.breadscrums=[{title:"All LeaveRequest",items:["LeaveRequest"],active:"All"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}loadData(){this.leaveRequestService.getAllLeaveRequests().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,o)=>Object.values(a).some(c=>c.toString().toLowerCase().includes(o))},error:e=>console.error(e)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}addNew(){this.openDialog("add")}editCall(e){this.openDialog("edit",e)}detailsCall(e){let a;localStorage.getItem("isRtl")==="true"?a="rtl":a="ltr",this.dialog.open(Qt,{data:{leaveRequest:e,action:"details"},width:"60vw",maxWidth:"100vw"})}openDialog(e,a){let o;localStorage.getItem("isRtl")==="true"?o="rtl":o="ltr",this.dialog.open(Qt,{width:"60vw",maxWidth:"100vw",data:{leaveRequest:a,action:e},direction:o,autoFocus:!1}).afterClosed().subscribe(f=>{f&&(e==="add"?this.dataSource.data=[f,...this.dataSource.data]:this.updateRecord(f),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let a=this.dataSource.data.findIndex(o=>o.leaveId===e.leaveId);a!==-1&&(this.dataSource.data[a]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(ci,{data:e}).afterClosed().subscribe(o=>{o&&(this.dataSource.data=this.dataSource.data.filter(c=>c.leaveId!==e.leaveId),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}showNotification(e,a,o,c){this.snackBar.open(a,"",{duration:2e3,verticalPosition:o,horizontalPosition:c,panelClass:e})}exportExcel(){let e=this.dataSource.filteredData.map(a=>({"Leave ID":a.leaveId,"Leave Type":a.leaveType,"Start Date":a.startDate,"End Date":a.endDate,"Total Days":a.totalDays,Status:a.status,"Date Submitted":a.dateSubmitted,"Reason for Leave":a.reasonForLeave,Approver:a.approver,Comments:a.comments}));we.exportToExcel(e,"leave_requests_export")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(a=>!this.selection.selected.includes(a)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}onContextMenu(e,a){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(a){return new(a||t)(x(H),x(Je),x(it),x(Pt))}}static{this.\u0275cmp=D({type:t,selectors:[["app-leave-request"]],viewQuery:function(a,o){if(a&1&&(P(Q,5),P(O,5),P(Tn,5),P(ce,5)),a&2){let c;N(c=j())&&(o.paginator=c.first),N(c=j())&&(o.sort=c.first),N(c=j())&&(o.filter=c.first),N(c=j())&&(o.contextMenu=c.first)}},decls:90,vars:18,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"col-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",3,"click"],[1,"m-l-10",3,"hidden"],["mat-icon-button","","matTooltip","Delete",1,"col-red",3,"click","hidden"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-purple"],[1,"badge","badge-solid-orange"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(a,o){if(a&1){let c=g();n(0,"section",5)(1,"div",6),I(2,Ln,2,3,"div",7,k),n(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"ul",13)(10,"li",14)(11,"h2"),r(12,"Leave Request"),i()(),n(13,"li",15)(14,"label",16)(15,"i",17),r(16,"search"),i()(),n(17,"input",18,0),h("keyup",function(S){return u(c),p(o.applyFilter(S))}),i()()()(),n(19,"div",19)(20,"ul",20)(21,"li",21)(22,"div",22)(23,"button",23),h("click",function(){u(c);let S=E(27);return p(S.open())}),n(24,"mat-icon"),r(25,"filter_list"),i(),n(26,"mat-select",24,1),le("ngModelChange",function(S){u(c);let q=E(18);return re(q.value,S)||(q.value=S),p(S)}),n(28,"span",25),r(29,"Show/Hide Column"),i(),I(30,qn,4,2,"div",null,k),i()()()(),n(32,"li",21)(33,"div",22)(34,"button",26),h("click",function(){return u(c),p(o.addNew())}),n(35,"mat-icon"),r(36,"add_circle_outline"),i()()()(),n(37,"li",21)(38,"div",22)(39,"button",27),h("click",function(){return u(c),p(o.refresh())}),n(40,"mat-icon"),r(41,"refresh"),i()()()(),n(42,"li",21)(43,"div",28)(44,"button",29),h("click",function(){return u(c),p(o.removeSelectedRows())}),n(45,"mat-icon"),r(46,"delete_outline"),i()()()(),n(47,"li")(48,"div",30)(49,"button",31),h("click",function(){return u(c),p(o.exportExcel())}),n(50,"mat-icon",32),r(51,"file_download"),i()()()()()()(),n(52,"div",33)(53,"div",34)(54,"table",35),V(55,36),_(56,kn,2,3,"mat-header-cell",37)(57,In,2,2,"mat-cell",38),A(),I(58,Xn,2,1,null,null,k),V(60,39),_(61,Yn,2,0,"mat-header-cell",40)(62,Jn,5,6,"mat-cell",41),A(),_(63,Kn,1,0,"mat-header-row",42)(64,Zn,1,3,"mat-row",43),i(),_(65,ea,2,1,"div",44),v(66,"div",45),n(67,"mat-menu",null,2),_(69,ta,30,1,"ng-template",46),i(),n(70,"mat-menu",null,3)(72,"button",47)(73,"mat-icon"),r(74,"mail_outline"),i(),n(75,"span"),r(76,"Item 1"),i()(),n(77,"button",47)(78,"mat-icon"),r(79,"call"),i(),n(80,"span"),r(81,"Item 2"),i()(),n(82,"button",47)(83,"mat-icon"),r(84,"chat"),i(),n(85,"span"),r(86,"Item 3"),i()()(),_(87,ia,2,2,"div",48),v(88,"mat-paginator",49,4),i()()()()()()()}if(a&2){let c=E(18),f=E(68);l(2),F(o.breadscrums),l(24),oe("ngModel",c.value),l(4),F(o.columnDefinitions),l(13),s("hidden",!o.selection.hasValue()),l(),s("hidden",!o.selection.hasValue()),l(10),s("dataSource",o.dataSource),l(4),F(o.columnDefinitions),l(5),s("matHeaderRowDef",o.getDisplayedColumns()),l(),s("matRowDefColumns",o.getDisplayedColumns()),l(),C(o.isLoading?65:-1),l(),U("left",o.contextMenuPosition.x)("top",o.contextMenuPosition.y),s("matMenuTriggerFor",f),l(21),C(o.isLoading?87:-1),l(),s("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Me(17,Rn))}},dependencies:[se,St,ut,dt,W,Le,ee,ne,K,J,T,X,Rt,Tt,ie,te,Z,me,G,z,ye,de,Fe,Ie,Ge,Pe,je,Oe,$e,Ne,Qe,Be,He,Ue,We,Ae,O,Ve,Re,Ee,Ze,Ke,Et,yt,gt,Mt,ce,Ye,Q],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[De]}})}}return t})();function na(t,m){if(t&1&&(n(0,"div",2),v(1,"app-breadcrumb",16),i()),t&2){let e=m.$implicit;l(),s("title",e.title)("items",e.items)("active_item",e.active)}}var di=(()=>{class t{constructor(){this.breadscrums=[{title:"Settings",items:["Teacher"],active:"Settings"}]}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=D({type:t,selectors:[["app-settings"]],decls:69,vars:0,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"card"],[1,"header"],[1,"body"],[1,"example-container"],["appearance","outline",1,"example-full-width"],["matInput",""],["matInput","","type","password"],["mat-raised-button","","color","primary"],[1,"row","clearfix"],[1,"col-lg-6","col-md-12"],[1,"form-group"],[1,"col-lg-4","col-md-12"],[1,"col-md-12"],[3,"title","items","active_item"]],template:function(a,o){a&1&&(n(0,"section",0)(1,"div",1),I(2,na,2,3,"div",2,k),n(4,"div",3)(5,"div",4)(6,"h2"),r(7,"Security Settings"),i()(),n(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),r(12,"Username"),i(),v(13,"input",8),i(),n(14,"mat-form-field",7)(15,"mat-label"),r(16,"Current Password"),i(),v(17,"input",9),i(),n(18,"mat-form-field",7)(19,"mat-label"),r(20,"New Password"),i(),v(21,"input",9),i()(),n(22,"button",10),r(23,"Save"),i()()(),n(24,"div",3)(25,"div",4)(26,"h2"),r(27,"Account Settings"),i()(),n(28,"div",5)(29,"div",11)(30,"div",12)(31,"div",13)(32,"mat-form-field",7)(33,"mat-label"),r(34,"First Name"),i(),v(35,"input",8),i()()(),n(36,"div",12)(37,"div",13)(38,"mat-form-field",7)(39,"mat-label"),r(40,"Last Name"),i(),v(41,"input",8),i()()(),n(42,"div",14)(43,"div",13)(44,"mat-form-field",7)(45,"mat-label"),r(46,"City"),i(),v(47,"input",8),i()()(),n(48,"div",14)(49,"div",13)(50,"mat-form-field",7)(51,"mat-label"),r(52,"Email"),i(),v(53,"input",8),i()()(),n(54,"div",14)(55,"div",13)(56,"mat-form-field",7)(57,"mat-label"),r(58,"Country"),i(),v(59,"input",8),i()()(),n(60,"div",15)(61,"div",13)(62,"mat-form-field",7)(63,"mat-label"),r(64,"Address"),i(),v(65,"textarea",8),i()()(),n(66,"div",15)(67,"button",10),r(68,"Save Changes"),i()()()()()()()),a&2&&(l(2),F(o.breadscrums))},dependencies:[se,ee,ke,qe,ne,Xe,T,Y],encapsulation:2})}}return t})();var vr=[{path:"dashboard",component:Yt},{path:"lectures",component:mi},{path:"leave-request",component:si},{path:"exam-schedule",component:ai},{path:"settings",component:di},{path:"**",component:zt}];export{vr as TEACHER_ROUTE};
