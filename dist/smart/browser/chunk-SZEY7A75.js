import{a as D,b as y,d as F,e as Ee,f as I,g as Ce}from"./chunk-6ENBFJWC.js";import{a as xe,b as Me,c as De,d as ye}from"./chunk-63WGAKG3.js";import{b as ge,c as Se}from"./chunk-VFXFXXAL.js";import{a as fe,b as pe,c as ce,f as ue,g as he,h as _e,i as be}from"./chunk-S4YCFCSJ.js";import{a as de,b as se}from"./chunk-2ZSEACBW.js";import{I as ve}from"./chunk-25GGLQV3.js";import{R as X,T as s,V as Y,W as Z,aa as ee,ba as te,ca as ie,db as me,eb as x,f as g,fa as re,hb as M,ja as ae,la as ne,ma as oe,na as le,y as W}from"./chunk-KASS764W.js";import{Cb as f,E as S,Kb as p,Pb as c,Tb as i,Ub as e,Vb as d,Zb as Q,aa as H,cc as v,eb as K,fa as $,g as U,ib as m,o as O,ob as u,pc as N,qa as z,qc as t,r as b,ra as J,rc as T,sc as C,wb as E}from"./chunk-QQAMBVBH.js";var A=(()=>{class r{constructor(n){this.httpClient=n,this.API_URL="assets/data/staff.json",this.dataChange=new U([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllStaff(){return this.httpClient.get(this.API_URL).pipe(S(this.handleError))}addStaff(n){return this.httpClient.post(this.API_URL,n).pipe(b(()=>n),S(this.handleError))}updateStaff(n){return this.httpClient.put(`${this.API_URL}`,n).pipe(b(()=>n),S(this.handleError))}deleteStaff(n){return this.httpClient.delete(`${this.API_URL}`).pipe(b(()=>n),S(this.handleError))}handleError(n){return console.error("An error occurred:",n.message),O(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(o){return new(o||r)($(W))}}static{this.\u0275prov=H({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var $e=(()=>{class r{constructor(n,o,l){this.dialogRef=n,this.data=o,this.staffService=l}onNoClick(){this.dialogRef.close()}confirmDelete(){this.staffService.deleteStaff(this.data.id)}static{this.\u0275fac=function(o){return new(o||r)(u(D),u(y),u(A))}}static{this.\u0275cmp=E({type:r,selectors:[["app-all-staff-delete"]],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","",1,"formCancelBtn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(o,l){o&1&&(i(0,"div",0)(1,"h3",1),t(2,"Are you sure?"),e(),i(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),t(8," Name: "),e(),t(9),e()(),i(10,"li")(11,"p")(12,"span",4),t(13," Designation: "),e(),t(14),e()(),i(15,"li")(16,"p")(17,"span",4),t(18,"Mobile: "),e(),t(19),e()()()(),i(20,"div",5)(21,"button",6),v("click",function(){return l.confirmDelete()}),t(22," Delete "),e(),i(23,"button",7),v("click",function(){return l.onNoClick()}),t(24,"Cancel"),e()()()),o&2&&(m(9),T(l.data.name),m(5),T(l.data.designation),m(5),C("",l.data.mobile," "),m(2),p("mat-dialog-close",1))},dependencies:[Ee,I,Ce,M,x,F],encapsulation:2})}}return r})();var q=class{constructor(a){this.id=a.id||this.getRandomID(),this.img=a.img||"assets/images/user/user1.jpg",this.name=a.name||"",this.email=a.email||"",this.address=a.address||"",this.mobile=a.mobile||"",this.department=a.department||"",this.status=a.status||"Active",this.joining_date=a.joining_date||g(new Date,"yyyy-MM-dd","en"),this.salary=a.salary||"0",this.experience=a.experience||"0 years",this.role=a.role||"",this.date_of_birth=a.date_of_birth||g(new Date,"yyyy-MM-dd","en"),this.gender=a.gender||""}getRandomID(){let a=()=>(1+Math.random())*65536|0;return a().toString()+a().toString()}};function ke(r,a){r&1&&(i(0,"mat-error"),t(1,"Name is required"),e())}function Ne(r,a){r&1&&(i(0,"mat-error"),t(1,"Role is required"),e())}function Te(r,a){r&1&&(i(0,"mat-error"),t(1,"Mobile is required"),e())}function je(r,a){r&1&&(i(0,"mat-error"),t(1,"Please enter a valid email address"),e())}function we(r,a){r&1&&(i(0,"mat-error"),t(1,"Please select date"),e())}function Re(r,a){r&1&&(i(0,"mat-error"),t(1,"Please select date"),e())}function Be(r,a){r&1&&(i(0,"mat-error"),t(1,"Department is required"),e())}function Pe(r,a){r&1&&(i(0,"mat-error"),t(1,"Salary is required"),e())}function Le(r,a){r&1&&(i(0,"mat-error"),t(1,"Gender is required"),e())}var st=(()=>{class r{constructor(n,o,l,h){this.dialogRef=n,this.data=o,this.staffService=l,this.fb=h,this.action=o.action,this.dialogTitle=this.action==="edit"?o.staff.name:"New Staff",this.staff=this.action==="edit"?o.staff:new q({}),this.staffForm=this.createStaffForm()}createStaffForm(){return this.fb.group({id:[this.staff.id],img:[this.staff.img],name:[this.staff.name,[s.required]],email:[this.staff.email,[s.required,s.email,s.minLength(5)]],department:[this.staff.department,[s.required]],status:[this.staff.status,[s.required]],joining_date:[g(this.staff.joining_date,"yyyy-MM-dd","en"),[s.required]],salary:[this.staff.salary],experience:[this.staff.experience],role:[this.staff.role],date_of_birth:[g(this.staff.date_of_birth,"yyyy-MM-dd","en"),[s.required]],gender:[this.staff.gender,[s.required]],address:[this.staff.address],mobile:[this.staff.mobile,[s.required]]})}getErrorMessage(n){return n.hasError("required")?"Required field":n.hasError("email")?"Not a valid email":""}submit(){if(this.staffForm.valid){let n=this.staffForm.getRawValue();this.action==="edit"?this.staffService.updateStaff(n).subscribe({next:o=>{this.dialogRef.close(o)},error:o=>{console.error("Update Error:",o)}}):this.staffService.addStaff(n).subscribe({next:o=>{this.dialogRef.close(o)},error:o=>{console.error("Add Error:",o)}})}}onNoClick(){this.dialogRef.close()}confirmAdd(){this.submit()}static{this.\u0275fac=function(o){return new(o||r)(u(D),u(y),u(A),u(ne))}}static{this.\u0275cmp=E({type:r,selectors:[["app-all-staff-form"]],decls:109,vars:17,consts:[["picker",""],["dobPicker",""],[1,"addContainer"],[1,"modalHeader"],[1,"avatarDetails"],["for","tableFileInput",1,"hoverable"],["alt","avatar",3,"src"],[1,"modalTitle"],["mat-icon-button","","mat-dialog-close","","aria-label","Close dialog","type","button",1,"modal-close-button"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","name","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","role","required",""],["matInput","","formControlName","mobile","type","number","required",""],["matInput","","formControlName","email","required",""],["matInput","","formControlName","joining_date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","date_of_birth","required","",3,"matDatepicker"],["matInput","","formControlName","department","required",""],["matInput","","formControlName","salary","type","number","required",""],["matInput","","formControlName","experience"],["formControlName","gender","required",""],["value","Male"],["value","Female"],["value","Other"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","address"],[1,"example-button-row"],["mat-flat-button","","type","submit",1,"formSubmitBtn",3,"disabled"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"formCancelBtn"]],template:function(o,l){if(o&1){let h=Q();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),d(4,"img",6),e(),i(5,"div",7),t(6),e()(),i(7,"button",8)(8,"mat-icon"),t(9,"close"),e()()(),i(10,"div",9)(11,"form",10),v("ngSubmit",function(){return z(h),J(l.submit())}),i(12,"div",11)(13,"div",12)(14,"mat-form-field",13)(15,"mat-label"),t(16,"Name"),e(),d(17,"input",14),i(18,"mat-icon",15),t(19,"face"),e(),f(20,ke,2,0,"mat-error"),e()(),i(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),t(24,"Designation"),e(),d(25,"input",16),i(26,"mat-icon",15),t(27,"business_center"),e(),f(28,Ne,2,0,"mat-error"),e()()(),i(29,"div",11)(30,"div",12)(31,"mat-form-field",13)(32,"mat-label"),t(33,"Mobile"),e(),d(34,"input",17),i(35,"mat-icon",15),t(36,"phone"),e(),f(37,Te,2,0,"mat-error"),e()(),i(38,"div",12)(39,"mat-form-field",13)(40,"mat-label"),t(41,"Email"),e(),d(42,"input",18),i(43,"mat-icon",15),t(44,"email"),e(),f(45,je,2,0,"mat-error"),e()()(),i(46,"div",11)(47,"div",12)(48,"mat-form-field",13)(49,"mat-label"),t(50,"Joining Date"),e(),d(51,"input",19)(52,"mat-datepicker-toggle",20)(53,"mat-datepicker",null,0),f(55,we,2,0,"mat-error"),e()(),i(56,"div",12)(57,"mat-form-field",13)(58,"mat-label"),t(59,"Date of Birth"),e(),d(60,"input",21)(61,"mat-datepicker-toggle",20)(62,"mat-datepicker",null,1),f(64,Re,2,0,"mat-error"),e()()(),i(65,"div",11)(66,"div",12)(67,"mat-form-field",13)(68,"mat-label"),t(69,"Department"),e(),d(70,"input",22),f(71,Be,2,0,"mat-error"),e()(),i(72,"div",12)(73,"mat-form-field",13)(74,"mat-label"),t(75,"Salary"),e(),d(76,"input",23),f(77,Pe,2,0,"mat-error"),e()()(),i(78,"div",11)(79,"div",12)(80,"mat-form-field",13)(81,"mat-label"),t(82,"Experience"),e(),d(83,"input",24),e()(),i(84,"div",12)(85,"mat-form-field",13)(86,"mat-label"),t(87,"Gender"),e(),i(88,"mat-select",25)(89,"mat-option",26),t(90,"Male"),e(),i(91,"mat-option",27),t(92,"Female"),e(),i(93,"mat-option",28),t(94,"Other"),e()(),f(95,Le,2,0,"mat-error"),e()()(),i(96,"div",11)(97,"div",29)(98,"mat-form-field",13)(99,"mat-label"),t(100,"Address"),e(),d(101,"textarea",30),e()()(),i(102,"div",11)(103,"div",29)(104,"div",31)(105,"button",32),t(106,"Save"),e(),i(107,"button",33),t(108,"Cancel"),e()()()()()()()}if(o&2){let h,k,j,_,w,R,B,P,L,V=N(54),G=N(63);m(4),p("src",l.staff.img,K),m(2),C(" ",l.dialogTitle," "),m(5),p("formGroup",l.staffForm),m(9),c((h=l.staffForm.get("name"))!=null&&h.hasError("required")?20:-1),m(8),c((k=l.staffForm.get("role"))!=null&&k.hasError("required")?28:-1),m(9),c((j=l.staffForm.get("mobile"))!=null&&j.hasError("required")?37:-1),m(8),c((_=l.staffForm.get("email"))!=null&&_.hasError("required")||(_=l.staffForm.get("email"))!=null&&_.touched?45:-1),m(6),p("matDatepicker",V),m(),p("for",V),m(3),c((w=l.staffForm.get("joining_date"))!=null&&w.hasError("required")?55:-1),m(5),p("matDatepicker",G),m(),p("for",G),m(3),c((R=l.staffForm.get("date_of_birth"))!=null&&R.hasError("required")?64:-1),m(7),c((B=l.staffForm.get("department"))!=null&&B.hasError("required")?71:-1),m(6),c((P=l.staffForm.get("salary"))!=null&&P.hasError("required")?77:-1),m(18),c((L=l.staffForm.get("gender"))!=null&&L.hasError("required")?95:-1),m(10),p("disabled",!l.staffForm.valid)}},dependencies:[M,x,me,se,de,I,oe,ee,X,te,Y,Z,ae,le,ie,re,he,ue,fe,pe,ce,Se,ge,be,_e,ve,ye,xe,Me,De,F],encapsulation:2})}}return r})();export{A as a,$e as b,st as c};
