import{a as ni}from"./chunk-S23HYO5E.js";import"./chunk-3IPUEOUK.js";import{a as ti,b as ii}from"./chunk-YZRTQ5CM.js";import{a as Xt}from"./chunk-JVE5URZM.js";import{a as W,b as je,c as Be}from"./chunk-TLM4YDUJ.js";import{a as Pe,b as Ne}from"./chunk-7UFG26IM.js";import{d as ue,e as _e,f as Ze,g as fe,h as qt,i as he,j as It}from"./chunk-MRTQER45.js";import{a as Kt,b as Zt,c as Tt,f as ei,i as pe}from"./chunk-A6Y3GC6F.js";import{a as Nt}from"./chunk-4IWXOJ4M.js";import"./chunk-7RWCIHFI.js";import"./chunk-F5X5MWHG.js";import{a as Fe,b as Ve}from"./chunk-GMGOADNA.js";import{a as Q,b as Ae}from"./chunk-H4BR7UCD.js";import{a as $e,b as Oe,c as He,d as Qe,e as We,f as Ue,g as Ge,h as ze,i as Xe,j as Je,k as Ye,l as Ke}from"./chunk-5I3P47CT.js";import{a as Lt,b as kt}from"./chunk-35XKNFLM.js";import{a as Ft,b as Vt,c as At,d as Pt}from"./chunk-4N6KA3IH.js";import{a as St}from"./chunk-DLOBW3BM.js";import{a as gt,b as Mt,c as yt,d as ce,e as Et}from"./chunk-6OEP7T4G.js";import{a as De,b as Te}from"./chunk-64TSLJHE.js";import"./chunk-CHSPAKSZ.js";import"./chunk-GGQ7LRWG.js";import"./chunk-27NP7QR4.js";import{a as Rt}from"./chunk-3HPIEIVK.js";import"./chunk-ZFE2N5VZ.js";import"./chunk-46G2PC7Y.js";import{a as ke,b as wt,e as Dt,h as qe,i as ee,k as Ie,l as te,m as ae,o as oe}from"./chunk-AODBK4U2.js";import{a as ie}from"./chunk-DWO3B36K.js";import{a as K,b as Z}from"./chunk-5JXFOFXK.js";import{D as ne,H as de,g as Re}from"./chunk-JF5G2NOR.js";import"./chunk-H5FNO34R.js";import"./chunk-V4PRT4X2.js";import{a as Yt}from"./chunk-2URJZXQ2.js";import{S as ut,U as w,X,Y as _t,ba as Ee,ca as ft,da as ht,f as ct,fa as vt,g as dt,gb as we,ia as Ct,ib as Le,kb as Y,lb as H,ma as xt,mb as Jt,o as z,oa as bt,pa as J,qa as se,qb as T,s as pt,z as O}from"./chunk-PX7JZDFI.js";import{Bc as st,Cc as ye,F as A,Fb as v,Hc as B,Jc as $,Nb as c,Ob as U,Qb as Me,Sb as C,Tb as R,Ub as L,Vb as k,Wb as i,Xb as t,Yb as p,Zb as N,_b as j,ac as g,ca as Se,f as Ce,fc as h,g as xe,ha as ge,hc as d,lb as l,mc as q,nc as I,oc as F,p as be,rb as x,s as V,sa as u,sc as E,ta as _,tc as o,uc as M,vc as b,xc as re,yc as le,zb as D,zc as me}from"./chunk-6V7EBWWQ.js";import"./chunk-WWX6BADO.js";var ai=(()=>{class n{constructor(e){this.httpClient=e,this.API_URL="assets/data/examSchedule.json",this.dataChange=new xe([])}getAllExamSchedules(){return this.httpClient.get(this.API_URL).pipe(V(e=>(this.dataChange.next(e),e)),A(this.handleError))}addExamSchedule(e){return this.httpClient.post(this.API_URL,e).pipe(V(a=>e),A(this.handleError))}updateExamSchedule(e){return this.httpClient.put(`${this.API_URL}`,e).pipe(V(a=>e),A(this.handleError))}deleteExamSchedule(e){return this.httpClient.delete(`${this.API_URL}`).pipe(V(()=>e),A(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),be(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||n)(ge(O))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Si=["filter"],gi=()=>[5,10,25,100];function Mi(n,m){if(n&1&&(i(0,"div",5),p(1,"app-breadcrumb",36),t()),n&2){let e=m.$implicit;l(),c("title",e.title)("items",e.items)("active_item",e.active)}}function yi(n,m){if(n&1){let e=g();i(0,"div")(1,"mat-option")(2,"mat-checkbox",37),h("click",function(r){return u(e),_(r.stopPropagation())}),me("ngModelChange",function(r){let s=u(e).$implicit;return le(s.visible,r)||(s.visible=r),_(r)}),o(3),t()()()}if(n&2){let e=m.$implicit;l(2),re("ngModel",e.visible),l(),b(" ",e.label," ")}}function Ei(n,m){if(n&1&&(i(0,"mat-header-cell",40)(1,"span",41),o(2),t()()),n&2){let e=d().$implicit;l(2),M(e.label)}}function wi(n,m){if(n&1&&(i(0,"mat-cell")(1,"span",42),o(2),t(),i(3,"span",41),o(4),t()()),n&2){let e=m.$implicit,a=d().$implicit;l(2),b("",a.label,":"),l(2),M(e[a.def])}}function Di(n,m){if(n&1&&(N(0,30),v(1,Ei,3,1,"mat-header-cell",38)(2,wi,5,2,"mat-cell",39),j()),n&2){let e=m.$implicit;c("matColumnDef",e.def)}}function Ti(n,m){n&1&&p(0,"mat-header-row")}function Ri(n,m){n&1&&p(0,"mat-row",43),n&2&&(U("cursor","pointer"),c("@rowsAnimation",void 0))}function Li(n,m){n&1&&(i(0,"div",33),p(1,"mat-progress-spinner",44),t()),n&2&&(l(),c("diameter",40))}function ki(n,m){if(n&1&&(i(0,"div",45),o(1," No results "),t()),n&2){let e=d();U("display",e.dataSource.data.length===0?"":"none")}}var di=(()=>{class n{constructor(e,a,r){this.httpClient=e,this.dialog=a,this.examScheduleService=r,this.columnDefinitions=[{def:"id",label:"ID",type:"text",visible:!1},{def:"subject",label:"Subject",type:"text",visible:!0},{def:"class",label:"Class",type:"text",visible:!0},{def:"date",label:"Date",type:"text",visible:!0},{def:"time",label:"Time",type:"text",visible:!0},{def:"duration",label:"Duration",type:"text",visible:!0},{def:"roomNo",label:"Room No",type:"text",visible:!0},{def:"totalMarks",label:"Total Marks",type:"text",visible:!0},{def:"reqMarks",label:"Required Marks",type:"text",visible:!0}],this.dataSource=new Ke([]),this.selection=new Re(!0,[]),this.isLoading=!0,this.destroy$=new Ce,this.breadscrums=[{title:"Schedule",items:["Teacher"],active:"Exam Schedule"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}loadData(){this.examScheduleService.getAllExamSchedules().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,r)=>Object.values(a).some(s=>s.toString().toLowerCase().includes(r))},error:e=>console.error(e)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}exportExcel(){let e=this.dataSource.filteredData.map(a=>({ID:a.id,Subject:a.subject,Class:a.class,Date:a.date,Time:a.time,Duration:a.duration,"Room No":a.roomNo,"Total Marks":a.totalMarks,"Required Marks":a.reqMarks}));De.exportToExcel(e,"exam_schedule_export")}static{this.\u0275fac=function(a){return new(a||n)(x(O),x(Ze),x(ai))}}static{this.\u0275cmp=D({type:n,selectors:[["app-exam-schedule"]],viewQuery:function(a,r){if(a&1&&(q(Q,5),q(W,5),q(Si,5)),a&2){let s;I(s=F())&&(r.paginator=s.first),I(s=F())&&(r.sort=s.first),I(s=F())&&(r.filter=s.first)}},decls:48,vars:11,consts:[["filter",""],["select",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],[3,"matColumnDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[1,"mobile-label"],["matRipple",""],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(a,r){if(a&1){let s=g();i(0,"section",3)(1,"div",4),L(2,Mi,2,3,"div",5,R),i(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),o(12,"Exam Schedule"),t()(),i(13,"li",13)(14,"label",14)(15,"i",15),o(16,"search"),t()(),i(17,"input",16,0),h("keyup",function(S){return u(s),_(r.applyFilter(S))}),t()()()(),i(19,"div",17)(20,"ul",18)(21,"li",19)(22,"div",20)(23,"button",21),h("click",function(){u(s);let S=E(27);return _(S.open())}),i(24,"mat-icon"),o(25,"filter_list"),t(),i(26,"mat-select",22,1),me("ngModelChange",function(S){u(s);let P=E(18);return le(P.value,S)||(P.value=S),_(S)}),i(28,"span",23),o(29,"Show/Hide Column"),t(),L(30,yi,4,2,"div",null,R),t()()()(),i(32,"li")(33,"div",24)(34,"button",25),h("click",function(){return u(s),_(r.exportExcel())}),i(35,"mat-icon",26),o(36,"file_download"),t()()()()()()(),i(37,"div",27)(38,"div",28)(39,"table",29),L(40,Di,3,1,"ng-container",30,R),v(42,Ti,1,0,"mat-header-row",31)(43,Ri,1,3,"mat-row",32),t(),v(44,Li,2,1,"div",33)(45,ki,2,2,"div",34),p(46,"mat-paginator",35,2),t()()()()()()()}if(a&2){let s=E(18);l(2),k(r.breadscrums),l(24),re("ngModel",s.value),l(4),k(r.columnDefinitions),l(9),c("dataSource",r.dataSource),l(),k(r.columnDefinitions),l(2),c("matHeaderRowDef",r.getDisplayedColumns()),l(),c("matRowDefColumns",r.getDisplayedColumns()),l(),C(r.isLoading?44:-1),l(),C(r.isLoading?45:-1),l(),c("length",r.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",ye(10,gi))}},dependencies:[ie,Ye,$e,He,Ge,Qe,Oe,ze,We,Ue,Xe,Je,Be,W,je,Le,we,Z,K,T,Y,oe,ae,ne,J,X,Ee,Ve,Fe,Ne,Pe,Ae,Q],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[Te]}})}}return n})();var $t=class{constructor(m){this.id=m.id||this.getRandomID(),this.subjectName=m.subjectName||"",this.class=m.class||"",this.date=m.date||"",this.time=m.time||"",this.status=m.status||"",this.teacher_id=m.teacher_id||"",this.subject_id=m.subject_id||"",this.student_group=m.student_group||"",this.duration=m.duration||60,this.location=m.location||"",this.attendance_count=m.attendance_count||0,this.created_at=m.created_at||new Date().toISOString(),this.updated_at=m.updated_at||new Date().toISOString(),this.reason_for_cancellation=m.reason_for_cancellation||""}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m().toString()+m().toString()}};var tt=(()=>{class n{constructor(e){this.httpClient=e,this.API_URL="assets/data/lectures.json",this.dataChange=new xe([])}getAllLectures(){return this.httpClient.get(this.API_URL).pipe(V(e=>(this.dataChange.next(e),e)),A(this.handleError))}addLectures(e){return this.httpClient.post(this.API_URL,e).pipe(V(a=>e),A(this.handleError))}updateLectures(e){return this.httpClient.put(`${this.API_URL}`,e).pipe(V(a=>e),A(this.handleError))}deleteLectures(e){return this.httpClient.delete(`${this.API_URL}`).pipe(V(()=>e),A(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),be(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||n)(ge(O))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ii(n,m){n&1&&(i(0,"mat-error"),o(1,"Select Any Subject"),t())}function Fi(n,m){n&1&&(i(0,"mat-error"),o(1,"Class name required"),t())}function Vi(n,m){n&1&&(i(0,"mat-error"),o(1,"Please select date"),t())}function Ai(n,m){n&1&&(i(0,"mat-error"),o(1,"Please enter a valid time"),t())}function Pi(n,m){n&1&&(i(0,"mat-error"),o(1,"Select Status"),t())}function Ni(n,m){n&1&&(i(0,"mat-error"),o(1,"Teacher ID required"),t())}function ji(n,m){n&1&&(i(0,"mat-error"),o(1,"Subject ID required"),t())}function Bi(n,m){n&1&&(i(0,"mat-error"),o(1,"Student group required"),t())}function $i(n,m){n&1&&(i(0,"mat-error"),o(1,"Duration required"),t())}function Oi(n,m){n&1&&(i(0,"mat-error"),o(1,"Location required"),t())}function Hi(n,m){n&1&&(i(0,"mat-error"),o(1,"Attendance count required"),t())}var ui=(()=>{class n{constructor(e,a,r,s){this.dialogRef=e,this.data=a,this.lecturesService=r,this.fb=s,this.action=a.action,this.dialogTitle=this.action==="edit"?a.lectures.subjectName:"New Lecture",this.lectures=this.action==="edit"?a.lectures:new $t({}),this.lecturesForm=this.createLecturesForm()}createLecturesForm(){return this.fb.group({id:[this.lectures.id],subjectName:[this.lectures.subjectName,[w.required]],class:[this.lectures.class,[w.required]],date:[this.lectures.date,[w.required]],time:[this.lectures.time,[w.required]],status:[this.lectures.status,[w.required]],teacher_id:[this.lectures.teacher_id,[w.required]],subject_id:[this.lectures.subject_id,[w.required]],student_group:[this.lectures.student_group,[w.required]],duration:[this.lectures.duration,[w.required]],location:[this.lectures.location,[w.required]],attendance_count:[this.lectures.attendance_count,[w.required]],created_at:[this.lectures.created_at],updated_at:[this.lectures.updated_at],reason_for_cancellation:[this.lectures.reason_for_cancellation]})}getErrorMessage(e){return e.hasError("required")?"Required field":""}submit(){if(this.lecturesForm.valid){let e=this.lecturesForm.getRawValue();this.action==="edit"?this.lecturesService.updateLectures(e).subscribe({next:a=>{this.dialogRef.close(a)},error:a=>{console.error("Update Error:",a)}}):this.lecturesService.addLectures(e).subscribe({next:a=>{this.dialogRef.close(a)},error:a=>{console.error("Add Error:",a)}})}}onNoClick(){this.dialogRef.close()}confirmAdd(){this.submit()}static{this.\u0275fac=function(a){return new(a||n)(x(ue),x(_e),x(tt),x(bt))}}static{this.\u0275cmp=D({type:n,selectors:[["app-lecture-form"]],features:[st([{provide:Rt,useValue:"en-GB"}])],decls:113,vars:22,consts:[["picker",""],[1,"addContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","mat-dialog-close","","aria-label","Close dialog","type","button",1,"modal-close-button"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["formControlName","subjectName","required",""],[3,"value"],["matInput","","formControlName","class","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","time","required",""],["formControlName","status","required",""],["matInput","","formControlName","teacher_id","required",""],["matInput","","formControlName","subject_id","required",""],["matInput","","formControlName","student_group","required",""],["matInput","","type","number","formControlName","duration","required",""],["matInput","","formControlName","location","required",""],["matInput","","type","number","formControlName","attendance_count","required",""],["matInput","","formControlName","reason_for_cancellation"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"example-button-row"],["mat-flat-button","","type","submit",1,"formSubmitBtn",3,"disabled"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"formCancelBtn"]],template:function(a,r){if(a&1){let s=g();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),o(4),t()(),i(5,"button",5)(6,"mat-icon"),o(7,"close"),t()()(),i(8,"div",6)(9,"form",7),h("ngSubmit",function(){return u(s),_(r.submit())}),i(10,"div",8)(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),o(14,"Subject Name"),t(),i(15,"mat-select",11)(16,"mat-option",12),o(17,"Mathematics"),t(),i(18,"mat-option",12),o(19,"Chemistry"),t(),i(20,"mat-option",12),o(21,"Physics"),t(),i(22,"mat-option",12),o(23,"Biology"),t()(),v(24,Ii,2,0,"mat-error"),t()(),i(25,"div",9)(26,"mat-form-field",10)(27,"mat-label"),o(28,"Class Name"),t(),p(29,"input",13),i(30,"mat-icon",14),o(31,"person"),t(),v(32,Fi,2,0,"mat-error"),t()()(),i(33,"div",8)(34,"div",9)(35,"mat-form-field",15)(36,"mat-label"),o(37,"Choose a date"),t(),p(38,"input",16)(39,"mat-datepicker-toggle",17)(40,"mat-datepicker",null,0),v(42,Vi,2,0,"mat-error"),t()(),i(43,"div",9)(44,"mat-form-field",10)(45,"mat-label"),o(46,"Time"),t(),p(47,"input",18),i(48,"mat-icon",14),o(49,"schedule"),t(),v(50,Ai,2,0,"mat-error"),t()()(),i(51,"div",8)(52,"div",9)(53,"mat-form-field",10)(54,"mat-label"),o(55,"Status"),t(),i(56,"mat-select",19)(57,"mat-option",12),o(58,"Confirm"),t(),i(59,"mat-option",12),o(60,"Cancelled"),t()(),v(61,Pi,2,0,"mat-error"),t()(),i(62,"div",9)(63,"mat-form-field",10)(64,"mat-label"),o(65,"Teacher ID"),t(),p(66,"input",20),v(67,Ni,2,0,"mat-error"),t()()(),i(68,"div",8)(69,"div",9)(70,"mat-form-field",10)(71,"mat-label"),o(72,"Subject ID"),t(),p(73,"input",21),v(74,ji,2,0,"mat-error"),t()(),i(75,"div",9)(76,"mat-form-field",10)(77,"mat-label"),o(78,"Student Group"),t(),p(79,"input",22),v(80,Bi,2,0,"mat-error"),t()()(),i(81,"div",8)(82,"div",9)(83,"mat-form-field",10)(84,"mat-label"),o(85,"Duration (min)"),t(),p(86,"input",23),v(87,$i,2,0,"mat-error"),t()(),i(88,"div",9)(89,"mat-form-field",10)(90,"mat-label"),o(91,"Location"),t(),p(92,"input",24),v(93,Oi,2,0,"mat-error"),t()()(),i(94,"div",8)(95,"div",9)(96,"mat-form-field",10)(97,"mat-label"),o(98,"Attendance Count"),t(),p(99,"input",25),v(100,Hi,2,0,"mat-error"),t()(),i(101,"div",9)(102,"mat-form-field",10)(103,"mat-label"),o(104,"Reason for Cancellation"),t(),p(105,"input",26),t()()(),i(106,"div",8)(107,"div",27)(108,"div",28)(109,"button",29),o(110,"Save"),t(),i(111,"button",30),o(112,"Cancel"),t()()()()()()()}if(a&2){let s,f,S,P,nt,at,ot,rt,y,Ut,Gt,zt=E(41);l(4),b(" ",r.dialogTitle," "),l(5),c("formGroup",r.lecturesForm),l(7),c("value","Mathematics"),l(2),c("value","Chemistry"),l(2),c("value","Physics"),l(2),c("value","Biology"),l(2),C((s=r.lecturesForm.get("subjectName"))!=null&&s.hasError("required")?24:-1),l(8),C((f=r.lecturesForm.get("class"))!=null&&f.hasError("required")?32:-1),l(6),c("matDatepicker",zt),l(),c("for",zt),l(3),C((S=r.lecturesForm.get("date"))!=null&&S.hasError("required")?42:-1),l(8),C((P=r.lecturesForm.get("time"))!=null&&P.hasError("required")?50:-1),l(7),c("value","Confirm"),l(2),c("value","Cancelled"),l(2),C((nt=r.lecturesForm.get("status"))!=null&&nt.hasError("required")?61:-1),l(6),C((at=r.lecturesForm.get("teacher_id"))!=null&&at.hasError("required")?67:-1),l(7),C((ot=r.lecturesForm.get("subject_id"))!=null&&ot.hasError("required")?74:-1),l(6),C((rt=r.lecturesForm.get("student_group"))!=null&&rt.hasError("required")?80:-1),l(7),C((y=r.lecturesForm.get("duration"))!=null&&y.hasError("required")?87:-1),l(6),C((Ut=r.lecturesForm.get("location"))!=null&&Ut.hasError("required")?93:-1),l(7),C((Gt=r.lecturesForm.get("attendance_count"))!=null&&Gt.hasError("required")?100:-1),l(9),c("disabled",!r.lecturesForm.valid)}},dependencies:[T,H,Y,Z,K,he,J,ft,ut,ht,X,_t,xt,se,vt,Ct,ee,qe,ke,wt,Dt,oe,ae,ne,de,te,Ie,Pt,Ft,Vt,At,fe],encapsulation:2})}}return n})();var _i=(()=>{class n{constructor(e,a,r){this.dialogRef=e,this.data=a,this.lecturesService=r}confirmDelete(){this.lecturesService.deleteLectures(this.data.id).subscribe({next:e=>{this.dialogRef.close(e)},error:e=>{console.error("Delete Error:",e)}})}static{this.\u0275fac=function(a){return new(a||n)(x(ue),x(_e),x(tt))}}static{this.\u0275cmp=D({type:n,selectors:[["app-lecture-delete"]],decls:26,vars:7,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","",1,"formCancelBtn",3,"click","mat-dialog-close"],["mat-flat-button","","mat-dialog-close","","color","accent","tabindex","-1"]],template:function(a,r){a&1&&(i(0,"div",0)(1,"h3",1),o(2,"Are you sure?"),t(),i(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),o(8," Subject Name: "),t(),o(9),t()(),i(10,"li")(11,"p")(12,"span",4),o(13," Class: "),t(),o(14),t()(),i(15,"li")(16,"p")(17,"span",4),o(18,"Date: "),t(),o(19),B(20,"date"),t()()()(),i(21,"div",5)(22,"button",6),h("click",function(){return r.confirmDelete()}),o(23," Delete "),t(),i(24,"button",7),o(25,"Cancel"),t()()()),a&2&&(l(9),M(r.data.sName),l(5),M(r.data.class),l(5),b("",$(20,4,r.data.date,"MM/dd/yyyy")," "),l(3),c("mat-dialog-close",1))},dependencies:[qt,he,It,T,H,fe,z],encapsulation:2})}}return n})();var zi=["filter"],Xi=()=>[5,10,25,100];function Ji(n,m){if(n&1&&(i(0,"div",7),p(1,"app-breadcrumb",50),t()),n&2){let e=m.$implicit;l(),c("title",e.title)("items",e.items)("active_item",e.active)}}function Yi(n,m){if(n&1){let e=g();i(0,"div")(1,"mat-option")(2,"mat-checkbox",51),h("click",function(r){return u(e),_(r.stopPropagation())}),me("ngModelChange",function(r){let s=u(e).$implicit;return le(s.visible,r)||(s.visible=r),_(r)}),o(3),t()()()}if(n&2){let e=m.$implicit;l(2),re("ngModel",e.visible),l(),b(" ",e.label," ")}}function Ki(n,m){if(n&1){let e=g();i(0,"mat-header-cell")(1,"mat-checkbox",52),h("change",function(r){u(e);let s=d();return _(r?s.masterToggle():null)}),t()()}if(n&2){let e=d();l(),c("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function Zi(n,m){if(n&1){let e=g();i(0,"mat-cell")(1,"mat-checkbox",53),h("click",function(r){return u(e),_(r.stopPropagation())})("change",function(r){let s=u(e).$implicit,f=d();return _(r?f.selection.toggle(s):null)}),t()()}if(n&2){let e=m.$implicit,a=d();l(),c("checked",a.selection.isSelected(e))("ngClass","tbl-checkbox")}}function en(n,m){}function tn(n,m){if(n&1&&(i(0,"mat-header-cell",57)(1,"span",58),o(2),t()()),n&2){let e=d(3).$implicit;l(2),M(e.label)}}function nn(n,m){if(n&1){let e=g();i(0,"mat-cell",59),h("contextmenu",function(r){let s=u(e).$implicit,f=d(4);return _(f.onContextMenu(r,s))}),i(1,"span",60),o(2),t(),i(3,"span",58),o(4),B(5,"date"),t()()}if(n&2){let e=m.$implicit,a=d(3).$implicit;l(2),b("",a.label,":"),l(2),b(" ",$(5,2,e[a.def],"MM/dd/yyyy")," ")}}function an(n,m){if(n&1&&(N(0,54),v(1,tn,3,1,"mat-header-cell",55)(2,nn,6,5,"mat-cell",56),j()),n&2){let e=d(2).$implicit;c("matColumnDef",e.def)}}function on(n,m){if(n&1&&(i(0,"mat-header-cell",57)(1,"span",58),o(2),t()()),n&2){let e=d(4).$implicit;l(2),M(e.label)}}function rn(n,m){if(n&1&&(i(0,"div")(1,"span",61),o(2),t()()),n&2){let e=d().$implicit;l(2),M(e.status)}}function ln(n,m){if(n&1&&(i(0,"div")(1,"span",62),o(2),t()()),n&2){let e=d().$implicit;l(2),M(e.status)}}function mn(n,m){if(n&1){let e=g();i(0,"mat-cell",59),h("contextmenu",function(r){let s=u(e).$implicit,f=d(5);return _(f.onContextMenu(r,s))}),i(1,"span",60),o(2),t(),i(3,"div"),v(4,rn,3,1,"div")(5,ln,3,1,"div"),t()()}if(n&2){let e,a=m.$implicit,r=d(4).$implicit;l(2),b("",r.label,":"),l(2),C((e=a.status)==="Confirm"?4:e==="Cancelled"?5:-1)}}function sn(n,m){if(n&1&&(N(0,54),v(1,on,3,1,"mat-header-cell",55)(2,mn,6,2,"mat-cell",56),j()),n&2){let e=d(3).$implicit;c("matColumnDef",e.def)}}function cn(n,m){if(n&1&&(i(0,"mat-header-cell",57)(1,"span",58),o(2),t()()),n&2){let e=d(4).$implicit;l(2),M(e.label)}}function dn(n,m){if(n&1){let e=g();i(0,"mat-cell",59),h("contextmenu",function(r){let s=u(e).$implicit,f=d(5);return _(f.onContextMenu(r,s))}),i(1,"span",60),o(2),t(),i(3,"span",58),o(4),t()()}if(n&2){let e=m.$implicit,a=d(4).$implicit;l(2),b("",a.label,":"),l(2),M(e[a.def])}}function pn(n,m){if(n&1&&(N(0,54),v(1,cn,3,1,"mat-header-cell",55)(2,dn,5,2,"mat-cell",56),j()),n&2){let e=d(3).$implicit;c("matColumnDef",e.def)}}function un(n,m){if(n&1&&v(0,sn,3,1,"ng-container",54)(1,pn,3,1,"ng-container",54),n&2){let e=d(2).$implicit;C(e.def==="status"?0:1)}}function _n(n,m){if(n&1&&v(0,an,3,1,"ng-container",54)(1,un,2,1),n&2){let e=d().$implicit;C(e.type==="date"?0:1)}}function fn(n,m){if(n&1&&v(0,en,0,0)(1,_n,2,1),n&2){let e=m.$implicit;C(e.type==="check"||e.type==="actionBtn"?0:1)}}function hn(n,m){n&1&&(i(0,"mat-header-cell",63),o(1,"Actions"),t())}function vn(n,m){if(n&1){let e=g();i(0,"mat-cell",63)(1,"button",64),h("click",function(r){return u(e),_(r.stopPropagation())})("click",function(){let r=u(e).$implicit,s=d();return _(s.editCall(r))}),p(2,"app-feather-icons",65),t(),i(3,"button",64),h("click",function(r){return u(e),_(r.stopPropagation())})("click",function(){let r=u(e).$implicit,s=d();return _(s.deleteItem(r))}),p(4,"app-feather-icons",65),t()()}n&2&&(l(2),Me("tbl-fav-edit"),c("icon","edit"),l(2),Me("tbl-fav-delete"),c("icon","trash-2"))}function Cn(n,m){n&1&&p(0,"mat-header-row")}function xn(n,m){if(n&1){let e=g();i(0,"mat-row",66),h("click",function(){let r=u(e).$implicit,s=d();return _(s.editCall(r))}),t()}n&2&&(U("cursor","pointer"),c("@rowsAnimation",void 0))}function bn(n,m){n&1&&(i(0,"div",44),p(1,"mat-progress-spinner",67),t()),n&2&&(l(),c("diameter",40))}function Sn(n,m){if(n&1){let e=g();i(0,"button",68),h("click",function(){u(e);let r=d();return _(r.addNew())}),i(1,"mat-icon"),o(2,"add_box"),t(),i(3,"span"),o(4,"Add Record"),t()(),i(5,"button",68),h("click",function(){let r=u(e).item,s=d();return _(s.editCall(r))}),i(6,"mat-icon"),o(7,"create"),t(),i(8,"span"),o(9,"Edit Record"),t()(),i(10,"button",68),h("click",function(){let r=u(e).item,s=d();return _(s.deleteItem(r))}),i(11,"mat-icon"),o(12,"delete"),t(),i(13,"span"),o(14,"Delete Record"),t()(),i(15,"button",68),h("click",function(){u(e);let r=d();return _(r.refresh())}),i(16,"mat-icon"),o(17,"refresh"),t(),i(18,"span"),o(19,"Refresh Record"),t()(),i(20,"button",69)(21,"mat-icon"),o(22,"no_encryption"),t(),i(23,"span"),o(24,"Disable"),t()(),i(25,"button",70)(26,"mat-icon"),o(27,"list_alt"),t(),i(28,"span"),o(29," Nested Menu"),t()()}if(n&2){d();let e=E(71);l(25),c("matMenuTriggerFor",e)}}function gn(n,m){if(n&1&&(i(0,"div",71),o(1," No results "),t()),n&2){let e=d();U("display",e.dataSource.data.length===0?"":"none")}}var fi=(()=>{class n{constructor(e,a,r,s){this.httpClient=e,this.dialog=a,this.lecturesService=r,this.snackBar=s,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"id",label:"ID",type:"text",visible:!1},{def:"subjectName",label:"Subject Name",type:"text",visible:!0},{def:"class",label:"Class",type:"text",visible:!0},{def:"date",label:"Date",type:"text",visible:!0},{def:"time",label:"Time",type:"text",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"teacher_id",label:"Teacher ID",type:"text",visible:!1},{def:"subject_id",label:"Subject ID",type:"text",visible:!1},{def:"student_group",label:"Student Group",type:"text",visible:!0},{def:"duration",label:"Duration (Minutes)",type:"text",visible:!0},{def:"location",label:"Location",type:"text",visible:!0},{def:"attendance_count",label:"Attendance Count",type:"text",visible:!0},{def:"created_at",label:"Created At",type:"text",visible:!1},{def:"updated_at",label:"Updated At",type:"text",visible:!1},{def:"reason_for_cancellation",label:"Reason for Cancellation",type:"text",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Ke([]),this.selection=new Re(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0,this.destroy$=new Ce,this.breadscrums=[{title:"Lecture",items:["Teacher"],active:"Lecture"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}loadData(){this.lecturesService.getAllLectures().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,r)=>Object.values(a).some(s=>s.toString().toLowerCase().includes(r))},error:e=>console.error(e)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}addNew(){this.openDialog("add")}editCall(e){this.openDialog("edit",e)}openDialog(e,a){let r;localStorage.getItem("isRtl")==="true"?r="rtl":r="ltr",this.dialog.open(ui,{width:"60vw",maxWidth:"100vw",data:{lectures:a,action:e},direction:r,autoFocus:!1}).afterClosed().subscribe(f=>{f&&(e==="add"?this.dataSource.data=[f,...this.dataSource.data]:this.updateRecord(f),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let a=this.dataSource.data.findIndex(r=>r.id===e.id);a!==-1&&(this.dataSource.data[a]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(_i,{data:e}).afterClosed().subscribe(r=>{r&&(this.dataSource.data=this.dataSource.data.filter(s=>s.id!==e.id),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}showNotification(e,a,r,s){this.snackBar.open(a,"",{duration:2e3,verticalPosition:r,horizontalPosition:s,panelClass:e})}exportExcel(){let e=this.dataSource.filteredData.map(a=>({ID:a.id,"Subject Name":a.subjectName,Class:a.class,Date:a.date,Time:a.time,Status:a.status,"Teacher ID":a.teacher_id,"Subject ID":a.subject_id,"Student Group":a.student_group,"Duration (Minutes)":a.duration,Location:a.location,"Attendance Count":a.attendance_count,"Created At":a.created_at,"Updated At":a.updated_at,"Reason for Cancellation":a.reason_for_cancellation}));De.exportToExcel(e,"class_session_export")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(a=>!this.selection.selected.includes(a)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}onContextMenu(e,a){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(a){return new(a||n)(x(O),x(Ze),x(tt),x(Nt))}}static{this.\u0275cmp=D({type:n,selectors:[["app-lectures"]],viewQuery:function(a,r){if(a&1&&(q(Q,5),q(W,5),q(zi,5),q(ce,5)),a&2){let s;I(s=F())&&(r.paginator=s.first),I(s=F())&&(r.sort=s.first),I(s=F())&&(r.filter=s.first),I(s=F())&&(r.contextMenu=s.first)}},decls:90,vars:18,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"col-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",3,"click"],[1,"m-l-10",3,"hidden"],["mat-icon-button","","matTooltip","Delete",1,"col-red",3,"click","hidden"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-red"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(a,r){if(a&1){let s=g();i(0,"section",5)(1,"div",6),L(2,Ji,2,3,"div",7,R),i(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"ul",13)(10,"li",14)(11,"h2"),o(12,"Lecture"),t()(),i(13,"li",15)(14,"label",16)(15,"i",17),o(16,"search"),t()(),i(17,"input",18,0),h("keyup",function(S){return u(s),_(r.applyFilter(S))}),t()()()(),i(19,"div",19)(20,"ul",20)(21,"li",21)(22,"div",22)(23,"button",23),h("click",function(){u(s);let S=E(27);return _(S.open())}),i(24,"mat-icon"),o(25,"filter_list"),t(),i(26,"mat-select",24,1),me("ngModelChange",function(S){u(s);let P=E(18);return le(P.value,S)||(P.value=S),_(S)}),i(28,"span",25),o(29,"Show/Hide Column"),t(),L(30,Yi,4,2,"div",null,R),t()()()(),i(32,"li",21)(33,"div",22)(34,"button",26),h("click",function(){return u(s),_(r.addNew())}),i(35,"mat-icon"),o(36,"add_circle_outline"),t()()()(),i(37,"li",21)(38,"div",22)(39,"button",27),h("click",function(){return u(s),_(r.refresh())}),i(40,"mat-icon"),o(41,"refresh"),t()()()(),i(42,"li",21)(43,"div",28)(44,"button",29),h("click",function(){return u(s),_(r.removeSelectedRows())}),i(45,"mat-icon"),o(46,"delete_outline"),t()()()(),i(47,"li")(48,"div",30)(49,"button",31),h("click",function(){return u(s),_(r.exportExcel())}),i(50,"mat-icon",32),o(51,"file_download"),t()()()()()()(),i(52,"div",33)(53,"div",34)(54,"table",35),N(55,36),v(56,Ki,2,3,"mat-header-cell",37)(57,Zi,2,2,"mat-cell",38),j(),L(58,fn,2,1,null,null,R),N(60,39),v(61,hn,2,0,"mat-header-cell",40)(62,vn,5,6,"mat-cell",41),j(),v(63,Cn,1,0,"mat-header-row",42)(64,xn,1,3,"mat-row",43),t(),v(65,bn,2,1,"div",44),p(66,"div",45),i(67,"mat-menu",null,2),v(69,Sn,30,1,"ng-template",46),t(),i(70,"mat-menu",null,3)(72,"button",47)(73,"mat-icon"),o(74,"mail_outline"),t(),i(75,"span"),o(76,"Item 1"),t()(),i(77,"button",47)(78,"mat-icon"),o(79,"call"),t(),i(80,"span"),o(81,"Item 2"),t()(),i(82,"button",47)(83,"mat-icon"),o(84,"chat"),t(),i(85,"span"),o(86,"Item 3"),t()()(),v(87,gn,2,2,"div",48),p(88,"mat-paginator",49,4),t()()()()()()()}if(a&2){let s=E(18),f=E(68);l(2),k(r.breadscrums),l(24),re("ngModel",s.value),l(4),k(r.columnDefinitions),l(13),c("hidden",!r.selection.hasValue()),l(),c("hidden",!r.selection.hasValue()),l(10),c("dataSource",r.dataSource),l(4),k(r.columnDefinitions),l(5),c("matHeaderRowDef",r.getDisplayedColumns()),l(),c("matRowDefColumns",r.getDisplayedColumns()),l(),C(r.isLoading?65:-1),l(),U("left",r.contextMenuPosition.x)("top",r.contextMenuPosition.y),c("matMenuTriggerFor",f),l(21),C(r.isLoading?87:-1),l(),c("length",r.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",ye(17,Xi))}},dependencies:[ie,St,pt,dt,z,pe,ee,te,Z,K,T,Y,kt,Lt,oe,ae,ne,se,X,J,Ee,de,Ve,Fe,Ye,$e,He,Ge,Qe,Oe,ze,We,Ue,Xe,Je,Be,W,je,Le,we,Ne,Pe,Et,yt,gt,Mt,ce,Ae,Q],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[Te]}})}}return n})();var yn=["chart"];function En(n,m){if(n&1&&(i(0,"div",2),p(1,"app-breadcrumb",48),t()),n&2){let e=m.$implicit;l(),c("title",e.title)("items",e.items)("active_item",e.active)}}var hi=(()=>{class n{constructor(){this.breadscrums=[{title:"Dashboard",items:["Teacher"],active:"Dashboard"}],this.lectureColumnDefinitions=[{def:"subjectName",label:"Subject Name",type:"text"},{def:"standard",label:"Standard",type:"text"},{def:"time",label:"Time",type:"text"},{def:"duration",label:"Duration",type:"text"},{def:"details",label:"Details",type:"file"},{def:"actions",label:"Actions",type:"actionBtn"}],this.lectureData=[{index:1,subjectName:"Business studies",standard:"Standard 12",time:"10:30 AM",duration:"45 Min",details:"file url"},{index:2,subjectName:"Chemistry",standard:"Standard 11",time:"11:15 AM",duration:"30 Min",details:"file url"},{index:3,subjectName:"Biology",standard:"Standard 12",time:"12:00 AM",duration:"35 Min",details:"file url"},{index:4,subjectName:"Physics",standard:"Standard 11",time:"12:45 AM",duration:"30 Min",details:"file url"},{index:5,subjectName:"Music",standard:"Standard 8",time:"02:00 AM",duration:"45 Min",details:"file url"},{index:6,subjectName:"Computer studies",standard:"Standard 10",time:"03:30 AM",duration:"35 Min",details:"file url"},{index:7,subjectName:"Mathematics",standard:"Standard 9",time:"09:00 AM",duration:"40 Min",details:"file url"},{index:8,subjectName:"History",standard:"Standard 10",time:"01:00 PM",duration:"50 Min",details:"file url"},{index:9,subjectName:"Geography",standard:"Standard 11",time:"02:00 PM",duration:"30 Min",details:"file url"},{index:10,subjectName:"Physical Education",standard:"Standard 12",time:"03:00 PM",duration:"45 Min",details:"file url"}]}ngOnInit(){this.chart1(),this.chart2()}chart1(){this.avgLecChartOptions={series:[{name:"Avg. Lecture",data:[65,72,62,73,66,74,63,67]}],chart:{height:310,type:"line",foreColor:"#9aa0ac",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!1}},stroke:{curve:"smooth"},xaxis:{categories:["Jan","Feb","March","Apr","May","Jun","July","Aug"],title:{text:"Weekday"}},grid:{show:!0,borderColor:"#9aa0ac",strokeDashArray:1},yaxis:{},fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#35fdd8"],shadeIntensity:1,type:"horizontal",opacityFrom:1,opacityTo:1}},markers:{size:4,colors:["#FFA41B"],strokeColors:"#fff",strokeWidth:2,hover:{size:7}},tooltip:{theme:"dark",marker:{show:!0},x:{show:!0}}}}chart2(){this.pieChartOptions={series:[44,55,13,43,22],chart:{type:"donut",width:200},legend:{show:!1},dataLabels:{enabled:!1},labels:["Science","Mathes","Economics","History","Music"],responsive:[{breakpoint:480,options:{}}]}}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=D({type:n,selectors:[["app-dashboard"]],viewQuery:function(a,r){if(a&1&&q(yn,5),a&2){let s;I(s=F())&&(r.chart=s.first)}},decls:145,vars:21,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"body"],[1,"row","align-items-center"],[1,"col-md-4"],["src","assets/images/pages/welcome.png","alt","",1,"w-100"],[1,"col-md-8"],[1,"font-18","weight-500","mb-2"],[1,"weight-600","font-25","col-blue","pt-1"],[1,"font-16","max-width-600"],[1,"col-xl-8","col-lg-8","col-md-12","col-sm-12"],[1,"header-style"],["mat-button","","color","primary","href","#",3,"click"],[1,"text-muted","font-12"],[3,"series","chart","xaxis","stroke","colors","dataLabels","legend","markers","grid","yaxis","tooltip","title","fill"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12"],[1,"apex-pie-center",3,"series","chart","labels","responsive","dataLabels","legend"],[1,"table-responsive","m-t-15"],[1,"table","align-items-center"],[1,"fa","fa-circle","col-cyan","msr-2"],[1,"col-green"],[1,"fa","fa-circle","col-blue","msr-2"],[1,"fa","fa-circle","col-orange","msr-2"],[1,"col-orange"],[1,"fa","fa-circle","col-green","msr-2"],[1,"row","clearfix"],[1,"header"],[1,"table-responsive"],[1,"table","table-borderless","medicine-list"],[1,"mb-3"],[1,"fas","fa-microscope","pill-style","col-green"],[1,"text-end"],[1,"badge-outline"],[1,"fas","fa-square-root-alt","pill-style","col-blue"],[1,"fas","fa-palette","pill-style","col-indigo"],[1,"fas","fa-business-time","pill-style","col-orange"],[1,"fas","fa-heart","pill-style","col-red"],[1,"fas","fa-laptop-code","pill-style","col-purple"],[1,"fas","fa-globe-asia","pill-style","col-cyan"],[1,"text-center","p-t-20"],["mat-stroked-button","","color","primary"],[1,"col-xs-12","col-sm-12","col-md-8","col-lg-8"],["visibility","hover",2,"height","400px"],[3,"dataSource","columnDefinitions"],[3,"title","items","active_item"]],template:function(a,r){a&1&&(i(0,"section",0)(1,"div",1),L(2,En,2,3,"div",2,R),i(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),p(10,"img",9),t(),i(11,"div",10)(12,"h4",11),o(13," Welcome back "),i(14,"div",12),o(15,"Ashton Cox!"),t()(),i(16,"p",13),o(17,"We would like to take this opportunity to welcome you to our practice and to thank you for choosing our physicians to participate in your healthcare. We look forward to providing you with personalized, comprehensive health care focusing on wellness and prevention."),t()()()()()()(),i(18,"div",3)(19,"div",14)(20,"mat-card")(21,"mat-card-header",15)(22,"mat-card-title"),o(23,"Average Lecture Per Month"),t(),i(24,"a",16),h("click",function(f){return f.preventDefault()}),o(25,"View All"),t()(),i(26,"mat-card-content")(27,"h6"),o(28,"65 "),i(29,"span",17),o(30,"(Average)"),t()(),p(31,"apx-chart",18),t()()(),i(32,"div",19)(33,"mat-card")(34,"mat-card-header",15)(35,"mat-card-title"),o(36,"Subject Chart"),t()(),i(37,"mat-card-content"),p(38,"apx-chart",20),i(39,"div",21)(40,"table",22)(41,"tbody")(42,"tr")(43,"td"),p(44,"i",23),o(45," Music"),t(),i(46,"td"),o(47,"23"),t(),i(48,"td",24),o(49,"+32%"),t()(),i(50,"tr")(51,"td"),p(52,"i",25),o(53,"Science"),t(),i(54,"td"),o(55,"32"),t(),i(56,"td",24),o(57,"+12%"),t()(),i(58,"tr")(59,"td"),p(60,"i",26),o(61,"Economics"),t(),i(62,"td"),o(63,"12"),t(),i(64,"td",27),o(65,"-12%"),t()(),i(66,"tr")(67,"td"),p(68,"i",28),o(69,"Mathes"),t(),i(70,"td"),o(71,"32"),t(),i(72,"td",24),o(73,"+3%"),t()()()()()()()()(),i(74,"div",29)(75,"div",19)(76,"div",5)(77,"div",30)(78,"h2"),o(79,"Lecture In Week"),t()(),i(80,"div",6)(81,"div",31)(82,"table",32)(83,"tr",33)(84,"td"),p(85,"i",34),o(86," Chemistry"),t(),i(87,"td",35)(88,"span",36),o(89,"M - W - F -"),t()()(),i(90,"tr")(91,"td"),p(92,"i",37),o(93," Mathematics"),t(),i(94,"td",35)(95,"span",36),o(96,"- T - T - S"),t()()(),i(97,"tr")(98,"td"),p(99,"i",38),o(100," Painting"),t(),i(101,"td",35)(102,"span",36),o(103,"M - - T - S"),t()()(),i(104,"tr")(105,"td"),p(106,"i",39),o(107," Business Studies"),t(),i(108,"td",35)(109,"span",36),o(110,"M - W T - -"),t()()(),i(111,"tr")(112,"td"),p(113,"i",40),o(114," Biology"),t(),i(115,"td",35)(116,"span",36),o(117,"M - W - F -"),t()()(),i(118,"tr")(119,"td"),p(120,"i",41),o(121," Computer Studies"),t(),i(122,"td",35)(123,"span",36),o(124,"M - - T - S"),t()()(),i(125,"tr")(126,"td"),p(127,"i",42),o(128," Geography"),t(),i(129,"td",35)(130,"span",36),o(131,"M - W - F S"),t()()()()(),i(132,"div",43)(133,"button",44),o(134,"View More"),t()()()()(),i(135,"div",45)(136,"mat-card")(137,"mat-card-header",15)(138,"mat-card-title"),o(139,"Today's Lecture"),t(),i(140,"a",16),h("click",function(f){return f.preventDefault()}),o(141,"View All"),t()(),i(142,"mat-card-content")(143,"ng-scrollbar",46),p(144,"app-table-card",47),t()()()()()()()),a&2&&(l(2),k(r.breadscrums),l(29),c("series",r.avgLecChartOptions.series)("chart",r.avgLecChartOptions.chart)("xaxis",r.avgLecChartOptions.xaxis)("stroke",r.avgLecChartOptions.stroke)("colors",r.avgLecChartOptions.colors)("dataLabels",r.avgLecChartOptions.dataLabels)("legend",r.avgLecChartOptions.legend)("markers",r.avgLecChartOptions.markers)("grid",r.avgLecChartOptions.grid)("yaxis",r.avgLecChartOptions.yaxis)("tooltip",r.avgLecChartOptions.tooltip)("title",r.avgLecChartOptions.title)("fill",r.avgLecChartOptions.fill),l(7),c("series",r.pieChartOptions.series)("chart",r.pieChartOptions.chart)("labels",r.pieChartOptions.labels)("responsive",r.pieChartOptions.responsive)("dataLabels",r.pieChartOptions.dataLabels)("legend",r.pieChartOptions.legend),l(106),c("dataSource",r.lectureData)("columnDefinitions",r.lectureColumnDefinitions))},dependencies:[ie,ii,ti,T,Jt,H,pe,Kt,Tt,ei,Zt,Xt,ni],encapsulation:2})}}return n})();var Ot=class{constructor(m){this.leaveId=m.leaveId||this.getRandomID(),this.leaveType=m.leaveType||"",this.startDate=m.startDate||ct(new Date,"yyyy-MM-dd","en"),this.endDate=m.endDate||ct(new Date,"yyyy-MM-dd","en"),this.totalDays=m.totalDays||0,this.status=m.status||"",this.dateSubmitted=m.dateSubmitted||ct(new Date,"yyyy-MM-dd","en"),this.reasonForLeave=m.reasonForLeave||"",this.approver=m.approver||"",this.comments=m.comments||""}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m()+m()}};var it=(()=>{class n{constructor(e){this.httpClient=e,this.API_URL="assets/data/teacher-leave.json",this.dataChange=new xe([])}getAllLeaveRequests(){return this.httpClient.get(this.API_URL).pipe(V(e=>(this.dataChange.next(e),e)),A(this.handleError))}addLeaveRequest(e){return this.httpClient.post(this.API_URL,e).pipe(V(a=>e),A(this.handleError))}updateLeaveRequest(e){return this.httpClient.put(`${this.API_URL}`,e).pipe(V(a=>e),A(this.handleError))}deleteLeaveRequest(e){return this.httpClient.delete(`${this.API_URL}`).pipe(V(()=>e),A(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),be(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||n)(ge(O))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wn(n,m){n&1&&(i(0,"mat-error"),o(1,"Leave type required"),t())}function Dn(n,m){n&1&&(i(0,"mat-error"),o(1,"Start date required"),t())}function Tn(n,m){n&1&&(i(0,"mat-error"),o(1,"End date required"),t())}function Rn(n,m){n&1&&(i(0,"mat-error"),o(1,"Total days required"),t())}function Ln(n,m){n&1&&(i(0,"mat-error"),o(1,"Select status"),t())}function kn(n,m){n&1&&(i(0,"mat-error"),o(1,"Date submitted required"),t())}function qn(n,m){n&1&&(i(0,"mat-error"),o(1,"Reason for leave required"),t())}function In(n,m){n&1&&(i(0,"mat-error"),o(1,"Approver required"),t())}function Fn(n,m){if(n&1){let e=g();i(0,"div",5)(1,"div",6)(2,"div",7),o(3),t()(),i(4,"button",8)(5,"mat-icon"),o(6,"close"),t()()(),i(7,"div",9)(8,"form",10),h("ngSubmit",function(){u(e);let r=d();return _(r.submit())}),i(9,"div",11)(10,"div",12)(11,"mat-form-field",13)(12,"mat-label"),o(13,"Leave Type"),t(),p(14,"input",14),v(15,wn,2,0,"mat-error"),t()(),i(16,"div",12)(17,"mat-form-field",13)(18,"mat-label"),o(19,"Start Date"),t(),p(20,"input",15)(21,"mat-datepicker-toggle",16)(22,"mat-datepicker",null,0),v(24,Dn,2,0,"mat-error"),t()()(),i(25,"div",11)(26,"div",12)(27,"mat-form-field",13)(28,"mat-label"),o(29,"End Date"),t(),p(30,"input",17)(31,"mat-datepicker-toggle",16)(32,"mat-datepicker",null,1),v(34,Tn,2,0,"mat-error"),t()(),i(35,"div",12)(36,"mat-form-field",13)(37,"mat-label"),o(38,"Total Days"),t(),p(39,"input",18),v(40,Rn,2,0,"mat-error"),t()()(),i(41,"div",11)(42,"div",12)(43,"mat-form-field",13)(44,"mat-label"),o(45,"Status"),t(),i(46,"mat-select",19)(47,"mat-option",20),o(48,"Approved"),t(),i(49,"mat-option",20),o(50,"Pending"),t(),i(51,"mat-option",20),o(52,"Rejected"),t()(),v(53,Ln,2,0,"mat-error"),t()(),i(54,"div",12)(55,"mat-form-field",13)(56,"mat-label"),o(57,"Date Submitted"),t(),p(58,"input",21)(59,"mat-datepicker-toggle",16)(60,"mat-datepicker",null,2),v(62,kn,2,0,"mat-error"),t()()(),i(63,"div",11)(64,"div",12)(65,"mat-form-field",13)(66,"mat-label"),o(67,"Reason for Leave"),t(),p(68,"input",22),v(69,qn,2,0,"mat-error"),t()(),i(70,"div",12)(71,"mat-form-field",13)(72,"mat-label"),o(73,"Approver"),t(),p(74,"input",23),v(75,In,2,0,"mat-error"),t()()(),i(76,"div",11)(77,"div",24)(78,"mat-form-field",13)(79,"mat-label"),o(80,"Comments"),t(),p(81,"textarea",25),t()()(),i(82,"div",11)(83,"div",24)(84,"div",26)(85,"button",27),o(86,"Save"),t(),i(87,"button",28),o(88,"Cancel"),t()()()()()()}if(n&2){let e,a,r,s,f,S,P,nt,at=E(23),ot=E(33),rt=E(61),y=d();l(3),b(" ",y.dialogTitle," "),l(5),c("formGroup",y.leaveRequestForm),l(7),C(!(y.leaveRequestForm==null||(e=y.leaveRequestForm.get("leaveType"))==null)&&e.hasError("required")?15:-1),l(5),c("matDatepicker",at),l(),c("for",at),l(3),C(!(y.leaveRequestForm==null||(a=y.leaveRequestForm.get("startDate"))==null)&&a.hasError("required")?24:-1),l(6),c("matDatepicker",ot),l(),c("for",ot),l(3),C(!(y.leaveRequestForm==null||(r=y.leaveRequestForm.get("endDate"))==null)&&r.hasError("required")?34:-1),l(6),C(!(y.leaveRequestForm==null||(s=y.leaveRequestForm.get("totalDays"))==null)&&s.hasError("required")?40:-1),l(7),c("value","Approved"),l(2),c("value","Pending"),l(2),c("value","Rejected"),l(2),C(!(y.leaveRequestForm==null||(f=y.leaveRequestForm.get("status"))==null)&&f.hasError("required")?53:-1),l(5),c("matDatepicker",rt),l(),c("for",rt),l(3),C(!(y.leaveRequestForm==null||(S=y.leaveRequestForm.get("dateSubmitted"))==null)&&S.hasError("required")?62:-1),l(7),C(!(y.leaveRequestForm==null||(P=y.leaveRequestForm.get("reasonForLeave"))==null)&&P.hasError("required")?69:-1),l(6),C(!(y.leaveRequestForm==null||(nt=y.leaveRequestForm.get("approver"))==null)&&nt.hasError("required")?75:-1),l(10),c("disabled",!y.leaveRequestForm.valid)}}function Vn(n,m){if(n&1&&(i(0,"div")(1,"span",38),o(2),t()()),n&2){let e=d(2);l(2),M(e.leaveRequest.status)}}function An(n,m){if(n&1&&(i(0,"div")(1,"span",39),o(2),t()()),n&2){let e=d(2);l(2),M(e.leaveRequest.status)}}function Pn(n,m){if(n&1&&(i(0,"div")(1,"span",40),o(2),t()()),n&2){let e=d(2);l(2),M(e.leaveRequest.status)}}function Nn(n,m){if(n&1&&(i(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",29),o(5),t()()(),i(6,"button",8)(7,"mat-icon"),o(8,"close"),t()()(),i(9,"div",9)(10,"mat-card-content")(11,"div",30)(12,"div",31),o(13," Leave Type: "),t(),i(14,"div",32),o(15),t()(),i(16,"div",30)(17,"div",31),o(18,"Start Date: "),t(),i(19,"div",33)(20,"mat-icon",34),o(21,"calendar_month"),t(),o(22),B(23,"date"),t()(),i(24,"div",30)(25,"div",31),o(26,"End Date: "),t(),i(27,"div",33)(28,"mat-icon",34),o(29,"calendar_month"),t(),o(30),B(31,"date"),t()(),i(32,"div",30)(33,"div",31),o(34,"Total Days: "),t(),i(35,"div",32),o(36),t()(),i(37,"div",35)(38,"div",31),o(39,"Status: "),t(),i(40,"div",32),v(41,Vn,3,1,"div")(42,An,3,1,"div")(43,Pn,3,1,"div"),t()(),i(44,"div",30)(45,"div",31),o(46,"Date Submitted: "),t(),i(47,"div",33)(48,"mat-icon",34),o(49,"calendar_month"),t(),o(50),B(51,"date"),t()(),i(52,"div",30)(53,"div",31),o(54,"Reason For Leave: "),t(),i(55,"div",32),o(56),t()(),i(57,"div",30)(58,"div",31),o(59,"Approver: "),t(),i(60,"div",33)(61,"mat-icon",36),o(62,"person_3"),t(),o(63),t()(),i(64,"div",30)(65,"div",31),o(66,"Comments: "),t(),i(67,"div",33)(68,"mat-icon",37),o(69,"notes"),t(),o(70),t()()()()()),n&2){let e,a=d();l(5),M(a.leaveRequest.leaveType),l(10),b(" ",a.leaveRequest.leaveType," "),l(7),b(" ",$(23,10,a.leaveRequest.startDate,"MMMM d, yyyy")," "),l(8),b(" ",$(31,13,a.leaveRequest.endDate,"MMMM d, yyyy")," "),l(6),b(" ",a.leaveRequest.totalDays," "),l(5),C((e=a.leaveRequest.status)==="Approved"?41:e==="Pending"?42:e==="Rejected"?43:-1),l(9),b(" ",$(51,16,a.leaveRequest.dateSubmitted,"MMMM d, yyyy")," "),l(6),b(" ",a.leaveRequest.reasonForLeave," "),l(7),b(" ",a.leaveRequest.approver," "),l(7),b(" ",a.leaveRequest.comments," ")}}var Wt=(()=>{class n{constructor(e,a,r,s){if(this.dialogRef=e,this.data=a,this.leaveRequestService=r,this.fb=s,this.isDetails=!1,this.action=a.action,this.action==="edit")this.isDetails=!1,this.dialogTitle=a.leaveRequest.leaveType,this.leaveRequest=a.leaveRequest,this.leaveRequestForm=this.createLeaveRequestsForm();else if(this.action==="details")this.leaveRequest=a.leaveRequest,this.isDetails=!0;else{this.isDetails=!1,this.dialogTitle="New Leave Request";let f={};this.leaveRequest=new Ot(f),this.leaveRequestForm=this.createLeaveRequestsForm()}}createLeaveRequestsForm(){return this.fb.group({leaveId:[this.leaveRequest.leaveId],leaveType:[this.leaveRequest.leaveType,[w.required]],startDate:[this.leaveRequest.startDate,[w.required]],endDate:[this.leaveRequest.endDate,[w.required]],totalDays:[this.leaveRequest.totalDays,[w.required]],status:[this.leaveRequest.status,[w.required]],dateSubmitted:[this.leaveRequest.dateSubmitted,[w.required]],reasonForLeave:[this.leaveRequest.reasonForLeave,[w.required]],approver:[this.leaveRequest.approver,[w.required]],comments:[this.leaveRequest.comments,[w.required]]})}getErrorMessage(e){return e.hasError("required")?"Required field":""}submit(){if(this.leaveRequestForm?.valid){let e=this.leaveRequestForm?.getRawValue();this.action==="edit"?this.leaveRequestService.updateLeaveRequest(e).subscribe({next:a=>{this.dialogRef.close(a)},error:a=>{console.error("Update Error:",a)}}):this.leaveRequestService.addLeaveRequest(e).subscribe({next:a=>{this.dialogRef.close(a)},error:a=>{console.error("Add Error:",a)}})}}onNoClick(){this.dialogRef.close()}confirmAdd(){this.submit()}static{this.\u0275fac=function(a){return new(a||n)(x(ue),x(_e),x(it),x(bt))}}static{this.\u0275cmp=D({type:n,selectors:[["app-teacher-leave-request-form"]],features:[st([{provide:Rt,useValue:"en-GB"}])],decls:3,vars:2,consts:[["startPicker",""],["endPicker",""],["submittedPicker",""],[1,"addContainer"],[1,"contact-details"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","mat-dialog-close","","aria-label","Close dialog","type","button",1,"modal-close-button"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","leaveType","required",""],["matInput","","formControlName","startDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","endDate","required","",3,"matDatepicker"],["matInput","","type","number","formControlName","totalDays","required",""],["formControlName","status","required",""],[3,"value"],["matInput","","formControlName","dateSubmitted","required","",3,"matDatepicker"],["matInput","","formControlName","reasonForLeave","required",""],["matInput","","formControlName","approver","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","comments"],[1,"example-button-row"],["mat-flat-button","","type","submit",1,"formSubmitBtn",3,"disabled"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"formCancelBtn"],[1,"contact-details-name"],[1,"d-flex","m-b-20"],[1,"font-b-500"],[1,"m-l-10","m-r-10"],[1,"m-l-10","m-r-10","d-flex"],[1,"tbl-icon","material-icons-outlined","col-green"],[1,"d-flex","m-b-20",2,"align-items","center"],[1,"tbl-icon","material-icons-outlined","col-blue"],[1,"tbl-icon","material-icons-outlined","col-brown"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-purple"],[1,"badge","badge-solid-orange"]],template:function(a,r){a&1&&(i(0,"div",3),v(1,Fn,89,20)(2,Nn,71,19,"div",4),t()),a&2&&(l(),C(r.isDetails?-1:1),l(),C(r.isDetails?2:-1))},dependencies:[T,H,Y,Z,K,he,J,ft,ut,ht,X,_t,xt,se,vt,Ct,ee,qe,ke,wt,Dt,oe,ae,ne,de,te,Ie,Pt,Ft,Vt,At,fe,pe,Tt,z],encapsulation:2})}}return n})();var vi=(()=>{class n{constructor(e,a,r){this.dialogRef=e,this.data=a,this.leaveRequestService=r}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leaveRequestService.deleteLeaveRequest(this.data.id)}static{this.\u0275fac=function(a){return new(a||n)(x(ue),x(_e),x(it))}}static{this.\u0275cmp=D({type:n,selectors:[["app-teacher-leave-request-delete"]],decls:26,vars:7,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","",1,"formCancelBtn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(a,r){a&1&&(i(0,"div",0)(1,"h3",1),o(2,"Are you sure?"),t(),i(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),o(8," Class: "),t(),o(9),t()(),i(10,"li")(11,"p")(12,"span",4),o(13," Section: "),t(),o(14),t()(),i(15,"li")(16,"p")(17,"span",4),o(18,"Apply Date: "),t(),o(19),B(20,"date"),t()()()(),i(21,"div",5)(22,"button",6),h("click",function(){return r.confirmDelete()}),o(23," Delete "),t(),i(24,"button",7),h("click",function(){return r.onNoClick()}),o(25,"Cancel"),t()()()),a&2&&(l(9),M(r.data.class),l(5),M(r.data.section),l(5),b("",$(20,4,r.data.applyDate,"MM/dd/yyyy")," "),l(3),c("mat-dialog-close",1))},dependencies:[qt,he,It,T,H,fe,z],encapsulation:2})}}return n})();var jn=["filter"],Bn=()=>[5,10,25,100];function $n(n,m){if(n&1&&(i(0,"div",7),p(1,"app-breadcrumb",50),t()),n&2){let e=m.$implicit;l(),c("title",e.title)("items",e.items)("active_item",e.active)}}function On(n,m){if(n&1){let e=g();i(0,"div")(1,"mat-option")(2,"mat-checkbox",51),h("click",function(r){return u(e),_(r.stopPropagation())}),me("ngModelChange",function(r){let s=u(e).$implicit;return le(s.visible,r)||(s.visible=r),_(r)}),o(3),t()()()}if(n&2){let e=m.$implicit;l(2),re("ngModel",e.visible),l(),b(" ",e.label," ")}}function Hn(n,m){if(n&1){let e=g();i(0,"mat-header-cell")(1,"mat-checkbox",52),h("change",function(r){u(e);let s=d();return _(r?s.masterToggle():null)}),t()()}if(n&2){let e=d();l(),c("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function Qn(n,m){if(n&1){let e=g();i(0,"mat-cell")(1,"mat-checkbox",53),h("click",function(r){return u(e),_(r.stopPropagation())})("change",function(r){let s=u(e).$implicit,f=d();return _(r?f.selection.toggle(s):null)}),t()()}if(n&2){let e=m.$implicit,a=d();l(),c("checked",a.selection.isSelected(e))("ngClass","tbl-checkbox")}}function Wn(n,m){}function Un(n,m){if(n&1&&(i(0,"mat-header-cell",57)(1,"span",58),o(2),t()()),n&2){let e=d(3).$implicit;l(2),M(e.label)}}function Gn(n,m){if(n&1){let e=g();i(0,"mat-cell",59),h("contextmenu",function(r){let s=u(e).$implicit,f=d(4);return _(f.onContextMenu(r,s))}),i(1,"span",60),o(2),t(),i(3,"span",58),o(4),B(5,"date"),t()()}if(n&2){let e=m.$implicit,a=d(3).$implicit;l(2),b("",a.label,":"),l(2),b(" ",$(5,2,e[a.def],"MM/dd/yyyy")," ")}}function zn(n,m){if(n&1&&(N(0,54),v(1,Un,3,1,"mat-header-cell",55)(2,Gn,6,5,"mat-cell",56),j()),n&2){let e=d(2).$implicit;c("matColumnDef",e.def)}}function Xn(n,m){if(n&1&&(i(0,"mat-header-cell",57)(1,"span",58),o(2),t()()),n&2){let e=d(4).$implicit;l(2),M(e.label)}}function Jn(n,m){if(n&1&&(i(0,"div")(1,"span",61),o(2),t()()),n&2){let e=d().$implicit;l(2),M(e.status)}}function Yn(n,m){if(n&1&&(i(0,"div")(1,"span",62),o(2),t()()),n&2){let e=d().$implicit;l(2),M(e.status)}}function Kn(n,m){if(n&1&&(i(0,"div")(1,"span",63),o(2),t()()),n&2){let e=d().$implicit;l(2),M(e.status)}}function Zn(n,m){if(n&1){let e=g();i(0,"mat-cell",59),h("contextmenu",function(r){let s=u(e).$implicit,f=d(5);return _(f.onContextMenu(r,s))}),i(1,"span",60),o(2),t(),i(3,"div"),v(4,Jn,3,1,"div")(5,Yn,3,1,"div")(6,Kn,3,1,"div"),t()()}if(n&2){let e,a=m.$implicit,r=d(4).$implicit;l(2),b("",r.label,":"),l(2),C((e=a.status)==="Approved"?4:e==="Pending"?5:e==="Rejected"?6:-1)}}function ea(n,m){if(n&1&&(N(0,54),v(1,Xn,3,1,"mat-header-cell",55)(2,Zn,7,2,"mat-cell",56),j()),n&2){let e=d(3).$implicit;c("matColumnDef",e.def)}}function ta(n,m){if(n&1&&(i(0,"mat-header-cell",57)(1,"span",58),o(2),t()()),n&2){let e=d(4).$implicit;l(2),M(e.label)}}function ia(n,m){if(n&1){let e=g();i(0,"mat-cell",59),h("contextmenu",function(r){let s=u(e).$implicit,f=d(5);return _(f.onContextMenu(r,s))}),i(1,"span",60),o(2),t(),i(3,"span",58),o(4),t()()}if(n&2){let e=m.$implicit,a=d(4).$implicit;l(2),b("",a.label,":"),l(2),M(e[a.def])}}function na(n,m){if(n&1&&(N(0,54),v(1,ta,3,1,"mat-header-cell",55)(2,ia,5,2,"mat-cell",56),j()),n&2){let e=d(3).$implicit;c("matColumnDef",e.def)}}function aa(n,m){if(n&1&&v(0,ea,3,1,"ng-container",54)(1,na,3,1,"ng-container",54),n&2){let e=d(2).$implicit;C(e.def==="status"?0:1)}}function oa(n,m){if(n&1&&v(0,zn,3,1,"ng-container",54)(1,aa,2,1),n&2){let e=d().$implicit;C(e.type==="date"?0:1)}}function ra(n,m){if(n&1&&v(0,Wn,0,0)(1,oa,2,1),n&2){let e=m.$implicit;C(e.type==="check"||e.type==="actionBtn"?0:1)}}function la(n,m){n&1&&(i(0,"mat-header-cell",64),o(1,"Actions"),t())}function ma(n,m){if(n&1){let e=g();i(0,"mat-cell",64)(1,"button",65),h("click",function(r){return u(e),_(r.stopPropagation())})("click",function(){let r=u(e).$implicit,s=d();return _(s.editCall(r))}),p(2,"app-feather-icons",66),t(),i(3,"button",65),h("click",function(r){return u(e),_(r.stopPropagation())})("click",function(){let r=u(e).$implicit,s=d();return _(s.deleteItem(r))}),p(4,"app-feather-icons",66),t()()}n&2&&(l(2),Me("tbl-fav-edit"),c("icon","edit"),l(2),Me("tbl-fav-delete"),c("icon","trash-2"))}function sa(n,m){n&1&&p(0,"mat-header-row")}function ca(n,m){if(n&1){let e=g();i(0,"mat-row",67),h("click",function(){let r=u(e).$implicit,s=d();return _(s.detailsCall(r))}),t()}n&2&&(U("cursor","pointer"),c("@rowsAnimation",void 0))}function da(n,m){n&1&&(i(0,"div",44),p(1,"mat-progress-spinner",68),t()),n&2&&(l(),c("diameter",40))}function pa(n,m){if(n&1){let e=g();i(0,"button",69),h("click",function(){u(e);let r=d();return _(r.addNew())}),i(1,"mat-icon"),o(2,"add_box"),t(),i(3,"span"),o(4,"Add Record"),t()(),i(5,"button",69),h("click",function(){let r=u(e).item,s=d();return _(s.editCall(r))}),i(6,"mat-icon"),o(7,"create"),t(),i(8,"span"),o(9,"Edit Record"),t()(),i(10,"button",69),h("click",function(){let r=u(e).item,s=d();return _(s.deleteItem(r))}),i(11,"mat-icon"),o(12,"delete"),t(),i(13,"span"),o(14,"Delete Record"),t()(),i(15,"button",69),h("click",function(){u(e);let r=d();return _(r.refresh())}),i(16,"mat-icon"),o(17,"refresh"),t(),i(18,"span"),o(19,"Refresh Record"),t()(),i(20,"button",70)(21,"mat-icon"),o(22,"no_encryption"),t(),i(23,"span"),o(24,"Disable"),t()(),i(25,"button",71)(26,"mat-icon"),o(27,"list_alt"),t(),i(28,"span"),o(29," Nested Menu"),t()()}if(n&2){d();let e=E(71);l(25),c("matMenuTriggerFor",e)}}function ua(n,m){if(n&1&&(i(0,"div",72),o(1," No results "),t()),n&2){let e=d();U("display",e.dataSource.data.length===0?"":"none")}}var Ci=(()=>{class n{constructor(e,a,r,s){this.httpClient=e,this.dialog=a,this.leaveRequestService=r,this.snackBar=s,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"leaveId",label:"Leave ID",type:"text",visible:!1},{def:"leaveType",label:"Leave Type",type:"text",visible:!0},{def:"startDate",label:"Start Date",type:"text",visible:!0},{def:"endDate",label:"End Date",type:"text",visible:!0},{def:"totalDays",label:"Total Days",type:"text",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"dateSubmitted",label:"Date Submitted",type:"text",visible:!0},{def:"reasonForLeave",label:"Reason for Leave",type:"text",visible:!0},{def:"approver",label:"Approver",type:"text",visible:!0},{def:"comments",label:"Comments",type:"text",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Ke([]),this.selection=new Re(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0,this.destroy$=new Ce,this.breadscrums=[{title:"All LeaveRequest",items:["LeaveRequest"],active:"All"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}loadData(){this.leaveRequestService.getAllLeaveRequests().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,r)=>Object.values(a).some(s=>s.toString().toLowerCase().includes(r))},error:e=>console.error(e)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}addNew(){this.openDialog("add")}editCall(e){this.openDialog("edit",e)}detailsCall(e){let a;localStorage.getItem("isRtl")==="true"?a="rtl":a="ltr",this.dialog.open(Wt,{data:{leaveRequest:e,action:"details"},width:"60vw",maxWidth:"100vw"})}openDialog(e,a){let r;localStorage.getItem("isRtl")==="true"?r="rtl":r="ltr",this.dialog.open(Wt,{width:"60vw",maxWidth:"100vw",data:{leaveRequest:a,action:e},direction:r,autoFocus:!1}).afterClosed().subscribe(f=>{f&&(e==="add"?this.dataSource.data=[f,...this.dataSource.data]:this.updateRecord(f),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let a=this.dataSource.data.findIndex(r=>r.leaveId===e.leaveId);a!==-1&&(this.dataSource.data[a]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(vi,{data:e}).afterClosed().subscribe(r=>{r&&(this.dataSource.data=this.dataSource.data.filter(s=>s.leaveId!==e.leaveId),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}showNotification(e,a,r,s){this.snackBar.open(a,"",{duration:2e3,verticalPosition:r,horizontalPosition:s,panelClass:e})}exportExcel(){let e=this.dataSource.filteredData.map(a=>({"Leave ID":a.leaveId,"Leave Type":a.leaveType,"Start Date":a.startDate,"End Date":a.endDate,"Total Days":a.totalDays,Status:a.status,"Date Submitted":a.dateSubmitted,"Reason for Leave":a.reasonForLeave,Approver:a.approver,Comments:a.comments}));De.exportToExcel(e,"leave_requests_export")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(a=>!this.selection.selected.includes(a)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}onContextMenu(e,a){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(a){return new(a||n)(x(O),x(Ze),x(it),x(Nt))}}static{this.\u0275cmp=D({type:n,selectors:[["app-leave-request"]],viewQuery:function(a,r){if(a&1&&(q(Q,5),q(W,5),q(jn,5),q(ce,5)),a&2){let s;I(s=F())&&(r.paginator=s.first),I(s=F())&&(r.sort=s.first),I(s=F())&&(r.filter=s.first),I(s=F())&&(r.contextMenu=s.first)}},decls:90,vars:18,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"col-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",3,"click"],[1,"m-l-10",3,"hidden"],["mat-icon-button","","matTooltip","Delete",1,"col-red",3,"click","hidden"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-purple"],[1,"badge","badge-solid-orange"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(a,r){if(a&1){let s=g();i(0,"section",5)(1,"div",6),L(2,$n,2,3,"div",7,R),i(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"ul",13)(10,"li",14)(11,"h2"),o(12,"Leave Request"),t()(),i(13,"li",15)(14,"label",16)(15,"i",17),o(16,"search"),t()(),i(17,"input",18,0),h("keyup",function(S){return u(s),_(r.applyFilter(S))}),t()()()(),i(19,"div",19)(20,"ul",20)(21,"li",21)(22,"div",22)(23,"button",23),h("click",function(){u(s);let S=E(27);return _(S.open())}),i(24,"mat-icon"),o(25,"filter_list"),t(),i(26,"mat-select",24,1),me("ngModelChange",function(S){u(s);let P=E(18);return le(P.value,S)||(P.value=S),_(S)}),i(28,"span",25),o(29,"Show/Hide Column"),t(),L(30,On,4,2,"div",null,R),t()()()(),i(32,"li",21)(33,"div",22)(34,"button",26),h("click",function(){return u(s),_(r.addNew())}),i(35,"mat-icon"),o(36,"add_circle_outline"),t()()()(),i(37,"li",21)(38,"div",22)(39,"button",27),h("click",function(){return u(s),_(r.refresh())}),i(40,"mat-icon"),o(41,"refresh"),t()()()(),i(42,"li",21)(43,"div",28)(44,"button",29),h("click",function(){return u(s),_(r.removeSelectedRows())}),i(45,"mat-icon"),o(46,"delete_outline"),t()()()(),i(47,"li")(48,"div",30)(49,"button",31),h("click",function(){return u(s),_(r.exportExcel())}),i(50,"mat-icon",32),o(51,"file_download"),t()()()()()()(),i(52,"div",33)(53,"div",34)(54,"table",35),N(55,36),v(56,Hn,2,3,"mat-header-cell",37)(57,Qn,2,2,"mat-cell",38),j(),L(58,ra,2,1,null,null,R),N(60,39),v(61,la,2,0,"mat-header-cell",40)(62,ma,5,6,"mat-cell",41),j(),v(63,sa,1,0,"mat-header-row",42)(64,ca,1,3,"mat-row",43),t(),v(65,da,2,1,"div",44),p(66,"div",45),i(67,"mat-menu",null,2),v(69,pa,30,1,"ng-template",46),t(),i(70,"mat-menu",null,3)(72,"button",47)(73,"mat-icon"),o(74,"mail_outline"),t(),i(75,"span"),o(76,"Item 1"),t()(),i(77,"button",47)(78,"mat-icon"),o(79,"call"),t(),i(80,"span"),o(81,"Item 2"),t()(),i(82,"button",47)(83,"mat-icon"),o(84,"chat"),t(),i(85,"span"),o(86,"Item 3"),t()()(),v(87,ua,2,2,"div",48),p(88,"mat-paginator",49,4),t()()()()()()()}if(a&2){let s=E(18),f=E(68);l(2),k(r.breadscrums),l(24),re("ngModel",s.value),l(4),k(r.columnDefinitions),l(13),c("hidden",!r.selection.hasValue()),l(),c("hidden",!r.selection.hasValue()),l(10),c("dataSource",r.dataSource),l(4),k(r.columnDefinitions),l(5),c("matHeaderRowDef",r.getDisplayedColumns()),l(),c("matRowDefColumns",r.getDisplayedColumns()),l(),C(r.isLoading?65:-1),l(),U("left",r.contextMenuPosition.x)("top",r.contextMenuPosition.y),c("matMenuTriggerFor",f),l(21),C(r.isLoading?87:-1),l(),c("length",r.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",ye(17,Bn))}},dependencies:[ie,St,pt,dt,z,pe,ee,te,Z,K,T,Y,kt,Lt,oe,ae,ne,se,X,J,Ee,de,Ve,Fe,Ye,$e,He,Ge,Qe,Oe,ze,We,Ue,Xe,Je,Be,W,je,Le,we,Ne,Pe,Et,yt,gt,Mt,ce,Ae,Q],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[Te]}})}}return n})();function _a(n,m){if(n&1&&(i(0,"div",2),p(1,"app-breadcrumb",16),t()),n&2){let e=m.$implicit;l(),c("title",e.title)("items",e.items)("active_item",e.active)}}var xi=(()=>{class n{constructor(){this.breadscrums=[{title:"Settings",items:["Teacher"],active:"Settings"}]}static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275cmp=D({type:n,selectors:[["app-settings"]],decls:69,vars:0,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"card"],[1,"header"],[1,"body"],[1,"example-container"],["appearance","outline",1,"example-full-width"],["matInput",""],["matInput","","type","password"],["mat-raised-button","","color","primary"],[1,"row","clearfix"],[1,"col-lg-6","col-md-12"],[1,"form-group"],[1,"col-lg-4","col-md-12"],[1,"col-md-12"],[3,"title","items","active_item"]],template:function(a,r){a&1&&(i(0,"section",0)(1,"div",1),L(2,_a,2,3,"div",2,R),i(4,"div",3)(5,"div",4)(6,"h2"),o(7,"Security Settings"),t()(),i(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),o(12,"Username"),t(),p(13,"input",8),t(),i(14,"mat-form-field",7)(15,"mat-label"),o(16,"Current Password"),t(),p(17,"input",9),t(),i(18,"mat-form-field",7)(19,"mat-label"),o(20,"New Password"),t(),p(21,"input",9),t()(),i(22,"button",10),o(23,"Save"),t()()(),i(24,"div",3)(25,"div",4)(26,"h2"),o(27,"Account Settings"),t()(),i(28,"div",5)(29,"div",11)(30,"div",12)(31,"div",13)(32,"mat-form-field",7)(33,"mat-label"),o(34,"First Name"),t(),p(35,"input",8),t()()(),i(36,"div",12)(37,"div",13)(38,"mat-form-field",7)(39,"mat-label"),o(40,"Last Name"),t(),p(41,"input",8),t()()(),i(42,"div",14)(43,"div",13)(44,"mat-form-field",7)(45,"mat-label"),o(46,"City"),t(),p(47,"input",8),t()()(),i(48,"div",14)(49,"div",13)(50,"mat-form-field",7)(51,"mat-label"),o(52,"Email"),t(),p(53,"input",8),t()()(),i(54,"div",14)(55,"div",13)(56,"mat-form-field",7)(57,"mat-label"),o(58,"Country"),t(),p(59,"input",8),t()()(),i(60,"div",15)(61,"div",13)(62,"mat-form-field",7)(63,"mat-label"),o(64,"Address"),t(),p(65,"textarea",8),t()()(),i(66,"div",15)(67,"button",10),o(68,"Save Changes"),t()()()()()()()),a&2&&(l(2),k(r.breadscrums))},dependencies:[ie,ee,qe,ke,te,Ie,T,H],encapsulation:2})}}return n})();var Vr=[{path:"dashboard",component:hi},{path:"lectures",component:fi},{path:"leave-request",component:Ci},{path:"exam-schedule",component:di},{path:"settings",component:xi},{path:"**",component:Yt}];export{Vr as TEACHER_ROUTE};
