import{a as Ae,b as Ct,c as xt}from"./chunk-N7C2MH7Q.js";import{a as Vt,b as qt}from"./chunk-IIDXJAC4.js";import{a as we,b as ut}from"./chunk-VJOBXYF7.js";import{a as ht,b as St,c as bt,d as gt,e as vt,f as Et,g as Mt,h as yt,i as wt,j as At,k as Tt,l as Ft}from"./chunk-3WOL7IET.js";import{d as Te,e as Fe,f as Rt,g as De,h as Nt,i as ke,j as $t}from"./chunk-3X2QA3RN.js";import{i as Dt}from"./chunk-BVYJ7N6K.js";import{a as Pt}from"./chunk-LYFBU7R2.js";import"./chunk-7RWCIHFI.js";import"./chunk-F5X5MWHG.js";import{a as pt,b as ft}from"./chunk-CBNJFEKU.js";import{a as kt,b as It}from"./chunk-7WE43LYD.js";import{a as lt}from"./chunk-ALFRHEQQ.js";import{a as rt,b as mt,c as dt,d as se,e as ct}from"./chunk-2SL6CADV.js";import{a as it,b as nt}from"./chunk-64TSLJHE.js";import"./chunk-CHSPAKSZ.js";import"./chunk-GGQ7LRWG.js";import"./chunk-27NP7QR4.js";import{a as pe,b as fe}from"./chunk-EWXEI52P.js";import{a as _t}from"./chunk-CGU3MSF5.js";import{a as be,b as ge,c as ve,d as Ee}from"./chunk-TA3AU3NY.js";import{b as Ce,c as xe,f as he,i as Se,j as L,k as Me,l as O,m as G,o as H}from"./chunk-LNXF2SCU.js";import{a as ye}from"./chunk-3TLXAHBF.js";import"./chunk-PGOAWVNA.js";import"./chunk-ZFE2N5VZ.js";import"./chunk-46G2PC7Y.js";import{D as j,H as ue,g as ot}from"./chunk-VV5YOL5Z.js";import"./chunk-46QLNHCQ.js";import"./chunk-BY7WHZL4.js";import{a as st}from"./chunk-FEPV6GYW.js";import{S as ne,U as S,X as N,Y as oe,ba as et,ca as ae,da as le,db as tt,f as R,fa as re,fb as at,g as Ye,ga as me,hb as _e,ib as B,ka as de,la as ce,ma as $,na as P,nb as D,o as Ze,s as Ke,z as ie}from"./chunk-Y77X3ZYA.js";import{Cc as We,F as J,Fb as _,Hc as Je,Jc as Xe,Nb as c,Ob as te,Qb as qe,Sb as h,Tb as I,Ub as V,Vb as q,Wb as n,Xb as i,Yb as f,Zb as A,_b as T,ac as b,ca as Qe,f as Ge,fc as x,g as He,gb as ee,ha as ze,hc as s,lb as r,mc as X,nc as Y,oc as Z,p as Ue,rb as v,s as K,sa as u,sc as y,ta as C,tc as o,uc as E,vc as g,xc as Re,yc as Ne,zb as F,zc as $e}from"./chunk-6V7EBWWQ.js";import"./chunk-WWX6BADO.js";function Wt(t,m){if(t&1&&(n(0,"div",3),f(1,"app-breadcrumb",32),i()),t&2){let e=m.$implicit;r(),c("title",e.title)("items",e.items)("active_item",e.active)}}function Jt(t,m){t&1&&(n(0,"mat-error"),o(1," First name is required "),i())}function Xt(t,m){t&1&&(n(0,"mat-error"),o(1," Gender is required "),i())}function Yt(t,m){t&1&&(n(0,"mat-error"),o(1," password is required "),i())}function Zt(t,m){t&1&&(n(0,"mat-error"),o(1," Re-Enter password is required "),i())}function Kt(t,m){t&1&&(n(0,"mat-error"),o(1," Select Any Department "),i())}function ei(t,m){t&1&&(n(0,"mat-error"),o(1," Please enter a valid email address "),i())}function ti(t,m){t&1&&(n(0,"mat-error"),o(1," Please select date "),i())}var Lt=(()=>{class t{constructor(e){this.fb=e,this.breadscrums=[{title:"Add Staff",items:["Staff"],active:"Add Staff"}],this.staffForm=this.fb.group({first:["",[S.required,S.pattern("[a-zA-Z]+")]],last:[""],gender:["",[S.required]],mobile:["",[S.required]],password:["",[S.required]],conformPassword:["",[S.required]],designation:[""],department:[""],address:[""],email:["",[S.required,S.email,S.minLength(5)]],dob:["",[S.required]],education:[""],uploadFile:[""]})}onSubmit(){console.log("Form Value",this.staffForm.value)}static{this.\u0275fac=function(l){return new(l||t)(v(ce))}}static{this.\u0275cmp=F({type:t,selectors:[["app-add-staff"]],decls:112,vars:17,consts:[["picker",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row","clearfix"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","first","required",""],["matInput","","formControlName","last"],["formControlName","gender","required",""],[3,"value"],["matInput","","formControlName","mobile","type","number","required",""],["matInput","","formControlName","password","type","password","required",""],["matInput","","formControlName","conformPassword","type","password","required",""],["matInput","","formControlName","designation"],["formControlName","department","required",""],["matInput","","formControlName","email","required",""],["matInput","","formControlName","dob","required","",3,"matDatepicker"],["matSuffix","",3,"for"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","address"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-5"],["formControlName","uploadFile"],["matInput","","formControlName","education"],["mat-flat-button","","color","primary",1,"btn-space",3,"disabled"],["type","button","mat-flat-button","",1,"formCancelBtn"],[3,"title","items","active_item"]],template:function(l,a){if(l&1){let d=b();n(0,"section",1)(1,"div",2),V(2,Wt,2,3,"div",3,I),n(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),o(9," Staff Information"),i()(),n(10,"div",8)(11,"form",9),x("ngSubmit",function(){return u(d),C(a.onSubmit())}),n(12,"div",10)(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),o(16,"First name"),i(),f(17,"input",13),_(18,Jt,2,0,"mat-error"),i()(),n(19,"div",11)(20,"mat-form-field",12)(21,"mat-label"),o(22,"Last name"),i(),f(23,"input",14),i()()(),n(24,"div",10)(25,"div",11)(26,"mat-form-field",12)(27,"mat-label"),o(28,"Gender"),i(),n(29,"mat-select",15)(30,"mat-option",16),o(31," Male "),i(),n(32,"mat-option",16),o(33," Female "),i()(),_(34,Xt,2,0,"mat-error"),i()(),n(35,"div",11)(36,"mat-form-field",12)(37,"mat-label"),o(38,"Mobile"),i(),f(39,"input",17),i()()(),n(40,"div",10)(41,"div",11)(42,"mat-form-field",12)(43,"mat-label"),o(44,"Password"),i(),f(45,"input",18),_(46,Yt,2,0,"mat-error"),i()(),n(47,"div",11)(48,"mat-form-field",12)(49,"mat-label"),o(50,"Re-Enter Password"),i(),f(51,"input",19),_(52,Zt,2,0,"mat-error"),i()()(),n(53,"div",10)(54,"div",11)(55,"mat-form-field",12)(56,"mat-label"),o(57,"Designation"),i(),f(58,"input",20),i()(),n(59,"div",11)(60,"mat-form-field",12)(61,"mat-label"),o(62,"Select Department"),i(),n(63,"mat-select",21)(64,"mat-option",16),o(65," Library "),i(),n(66,"mat-option",16),o(67," Administration "),i(),n(68,"mat-option",16),o(69," Transport "),i(),n(70,"mat-option",16),o(71," Laboratory "),i()(),_(72,Kt,2,0,"mat-error"),i()()(),n(73,"div",10)(74,"div",11)(75,"mat-form-field",12)(76,"mat-label"),o(77,"Email"),i(),f(78,"input",22),_(79,ei,2,0,"mat-error"),i()(),n(80,"div",11)(81,"mat-form-field",12)(82,"mat-label"),o(83,"Date Of Birth"),i(),f(84,"input",23)(85,"mat-datepicker-toggle",24)(86,"mat-datepicker",null,0),_(88,ti,2,0,"mat-error"),i()()(),n(89,"div",10)(90,"div",25)(91,"mat-form-field",12)(92,"mat-label"),o(93,"Address"),i(),f(94,"textarea",26),i()()(),n(95,"div",10)(96,"div",27)(97,"label"),o(98,"Upload"),i(),f(99,"app-file-upload",28),i()(),n(100,"div",10)(101,"div",25)(102,"mat-form-field",12)(103,"mat-label"),o(104,"Education"),i(),f(105,"textarea",29),i()()(),n(106,"div",10)(107,"div",25)(108,"button",30),o(109,"Submit"),i(),n(110,"button",31),o(111,"Cancel"),i()()()()()()()()()()}if(l&2){let d,p,M,w,Q,k,z,W=y(87);r(2),q(a.breadscrums),r(9),c("formGroup",a.staffForm),r(7),h((d=a.staffForm.get("first"))!=null&&d.hasError("required")?18:-1),r(12),c("value","Male"),r(2),c("value","Female"),r(2),h((p=a.staffForm.get("gender"))!=null&&p.hasError("required")?34:-1),r(12),h((M=a.staffForm.get("password"))!=null&&M.hasError("required")?46:-1),r(6),h((w=a.staffForm.get("conformPassword"))!=null&&w.hasError("required")?52:-1),r(12),c("value","1"),r(2),c("value","2"),r(2),c("value","3"),r(2),c("value","4"),r(2),h((Q=a.staffForm.get("department"))!=null&&Q.hasError("required")?72:-1),r(7),h((k=a.staffForm.get("email"))!=null&&k.hasError("email")&&((k=a.staffForm.get("email"))!=null&&k.touched)?79:-1),r(5),c("matDatepicker",W),r(),c("for",W),r(3),h((z=a.staffForm.get("dob"))!=null&&z.hasError("required")?88:-1),r(20),c("disabled",!a.staffForm.valid)}},dependencies:[ye,$,ae,ne,le,N,oe,de,P,re,me,L,Se,Ce,xe,he,O,Me,H,G,j,ue,Ee,be,ge,ve,_t,D,B],encapsulation:2})}}return t})();var Ve=class{constructor(m){this.id=m.id||this.getRandomID(),this.img=m.img||"assets/images/user/user1.jpg",this.name=m.name||"",this.email=m.email||"",this.address=m.address||"",this.mobile=m.mobile||"",this.department=m.department||"",this.status=m.status||"Active",this.joining_date=m.joining_date||R(new Date,"yyyy-MM-dd","en"),this.salary=m.salary||"0",this.experience=m.experience||"0 years",this.role=m.role||"",this.date_of_birth=m.date_of_birth||R(new Date,"yyyy-MM-dd","en"),this.gender=m.gender||""}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m().toString()+m().toString()}};var U=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/staff.json",this.dataChange=new He([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllStaff(){return this.httpClient.get(this.API_URL).pipe(J(this.handleError))}addStaff(e){return this.httpClient.post(this.API_URL,e).pipe(K(()=>e),J(this.handleError))}updateStaff(e){return this.httpClient.put(`${this.API_URL}`,e).pipe(K(()=>e),J(this.handleError))}deleteStaff(e){return this.httpClient.delete(`${this.API_URL}`).pipe(K(()=>e),J(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),Ue(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(l){return new(l||t)(ze(ie))}}static{this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oi(t,m){t&1&&(n(0,"mat-error"),o(1,"Name is required"),i())}function ai(t,m){t&1&&(n(0,"mat-error"),o(1,"Role is required"),i())}function li(t,m){t&1&&(n(0,"mat-error"),o(1,"Mobile is required"),i())}function ri(t,m){t&1&&(n(0,"mat-error"),o(1,"Please enter a valid email address"),i())}function mi(t,m){t&1&&(n(0,"mat-error"),o(1,"Please select date"),i())}function di(t,m){t&1&&(n(0,"mat-error"),o(1,"Please select date"),i())}function ci(t,m){t&1&&(n(0,"mat-error"),o(1,"Department is required"),i())}function si(t,m){t&1&&(n(0,"mat-error"),o(1,"Salary is required"),i())}function _i(t,m){t&1&&(n(0,"mat-error"),o(1,"Gender is required"),i())}var Gt=(()=>{class t{constructor(e,l,a,d){this.dialogRef=e,this.data=l,this.staffService=a,this.fb=d,this.action=l.action,this.dialogTitle=this.action==="edit"?l.staff.name:"New Staff",this.staff=this.action==="edit"?l.staff:new Ve({}),this.staffForm=this.createStaffForm()}createStaffForm(){return this.fb.group({id:[this.staff.id],img:[this.staff.img],name:[this.staff.name,[S.required]],email:[this.staff.email,[S.required,S.email,S.minLength(5)]],department:[this.staff.department,[S.required]],status:[this.staff.status,[S.required]],joining_date:[R(this.staff.joining_date,"yyyy-MM-dd","en"),[S.required]],salary:[this.staff.salary],experience:[this.staff.experience],role:[this.staff.role],date_of_birth:[R(this.staff.date_of_birth,"yyyy-MM-dd","en"),[S.required]],gender:[this.staff.gender,[S.required]],address:[this.staff.address],mobile:[this.staff.mobile,[S.required]]})}getErrorMessage(e){return e.hasError("required")?"Required field":e.hasError("email")?"Not a valid email":""}submit(){if(this.staffForm.valid){let e=this.staffForm.getRawValue();this.action==="edit"?this.staffService.updateStaff(e).subscribe({next:l=>{this.dialogRef.close(l)},error:l=>{console.error("Update Error:",l)}}):this.staffService.addStaff(e).subscribe({next:l=>{this.dialogRef.close(l)},error:l=>{console.error("Add Error:",l)}})}}onNoClick(){this.dialogRef.close()}confirmAdd(){this.submit()}static{this.\u0275fac=function(l){return new(l||t)(v(Te),v(Fe),v(U),v(ce))}}static{this.\u0275cmp=F({type:t,selectors:[["app-all-staff-form"]],decls:109,vars:17,consts:[["picker",""],["dobPicker",""],[1,"addContainer"],[1,"modalHeader"],[1,"avatarDetails"],["for","tableFileInput",1,"hoverable"],["alt","avatar",3,"src"],[1,"modalTitle"],["mat-icon-button","","mat-dialog-close","","aria-label","Close dialog","type","button",1,"modal-close-button"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","name","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","role","required",""],["matInput","","formControlName","mobile","type","number","required",""],["matInput","","formControlName","email","required",""],["matInput","","formControlName","joining_date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","date_of_birth","required","",3,"matDatepicker"],["matInput","","formControlName","department","required",""],["matInput","","formControlName","salary","type","number","required",""],["matInput","","formControlName","experience"],["formControlName","gender","required",""],["value","Male"],["value","Female"],["value","Other"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","address"],[1,"example-button-row"],["mat-flat-button","","type","submit",1,"formSubmitBtn",3,"disabled"],["mat-flat-button","","mat-dialog-close","","tabindex","-1",1,"formCancelBtn"]],template:function(l,a){if(l&1){let d=b();n(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),f(4,"img",6),i(),n(5,"div",7),o(6),i()(),n(7,"button",8)(8,"mat-icon"),o(9,"close"),i()()(),n(10,"div",9)(11,"form",10),x("ngSubmit",function(){return u(d),C(a.submit())}),n(12,"div",11)(13,"div",12)(14,"mat-form-field",13)(15,"mat-label"),o(16,"Name"),i(),f(17,"input",14),n(18,"mat-icon",15),o(19,"face"),i(),_(20,oi,2,0,"mat-error"),i()(),n(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),o(24,"Designation"),i(),f(25,"input",16),n(26,"mat-icon",15),o(27,"business_center"),i(),_(28,ai,2,0,"mat-error"),i()()(),n(29,"div",11)(30,"div",12)(31,"mat-form-field",13)(32,"mat-label"),o(33,"Mobile"),i(),f(34,"input",17),n(35,"mat-icon",15),o(36,"phone"),i(),_(37,li,2,0,"mat-error"),i()(),n(38,"div",12)(39,"mat-form-field",13)(40,"mat-label"),o(41,"Email"),i(),f(42,"input",18),n(43,"mat-icon",15),o(44,"email"),i(),_(45,ri,2,0,"mat-error"),i()()(),n(46,"div",11)(47,"div",12)(48,"mat-form-field",13)(49,"mat-label"),o(50,"Joining Date"),i(),f(51,"input",19)(52,"mat-datepicker-toggle",20)(53,"mat-datepicker",null,0),_(55,mi,2,0,"mat-error"),i()(),n(56,"div",12)(57,"mat-form-field",13)(58,"mat-label"),o(59,"Date of Birth"),i(),f(60,"input",21)(61,"mat-datepicker-toggle",20)(62,"mat-datepicker",null,1),_(64,di,2,0,"mat-error"),i()()(),n(65,"div",11)(66,"div",12)(67,"mat-form-field",13)(68,"mat-label"),o(69,"Department"),i(),f(70,"input",22),_(71,ci,2,0,"mat-error"),i()(),n(72,"div",12)(73,"mat-form-field",13)(74,"mat-label"),o(75,"Salary"),i(),f(76,"input",23),_(77,si,2,0,"mat-error"),i()()(),n(78,"div",11)(79,"div",12)(80,"mat-form-field",13)(81,"mat-label"),o(82,"Experience"),i(),f(83,"input",24),i()(),n(84,"div",12)(85,"mat-form-field",13)(86,"mat-label"),o(87,"Gender"),i(),n(88,"mat-select",25)(89,"mat-option",26),o(90,"Male"),i(),n(91,"mat-option",27),o(92,"Female"),i(),n(93,"mat-option",28),o(94,"Other"),i()(),_(95,_i,2,0,"mat-error"),i()()(),n(96,"div",11)(97,"div",29)(98,"mat-form-field",13)(99,"mat-label"),o(100,"Address"),i(),f(101,"textarea",30),i()()(),n(102,"div",11)(103,"div",29)(104,"div",31)(105,"button",32),o(106,"Save"),i(),n(107,"button",33),o(108,"Cancel"),i()()()()()()()}if(l&2){let d,p,M,w,Q,k,z,W,je,Le=y(54),Oe=y(63);r(4),c("src",a.staff.img,ee),r(2),g(" ",a.dialogTitle," "),r(5),c("formGroup",a.staffForm),r(9),h((d=a.staffForm.get("name"))!=null&&d.hasError("required")?20:-1),r(8),h((p=a.staffForm.get("role"))!=null&&p.hasError("required")?28:-1),r(9),h((M=a.staffForm.get("mobile"))!=null&&M.hasError("required")?37:-1),r(8),h((w=a.staffForm.get("email"))!=null&&w.hasError("required")||(w=a.staffForm.get("email"))!=null&&w.touched?45:-1),r(6),c("matDatepicker",Le),r(),c("for",Le),r(3),h((Q=a.staffForm.get("joining_date"))!=null&&Q.hasError("required")?55:-1),r(5),c("matDatepicker",Oe),r(),c("for",Oe),r(3),h((k=a.staffForm.get("date_of_birth"))!=null&&k.hasError("required")?64:-1),r(7),h((z=a.staffForm.get("department"))!=null&&z.hasError("required")?71:-1),r(6),h((W=a.staffForm.get("salary"))!=null&&W.hasError("required")?77:-1),r(18),h((je=a.staffForm.get("gender"))!=null&&je.hasError("required")?95:-1),r(10),c("disabled",!a.staffForm.valid)}},dependencies:[D,B,_e,fe,pe,ke,$,ae,ne,le,N,oe,de,P,re,me,L,Se,Ce,xe,he,O,Me,H,G,j,Ee,be,ge,ve,De],encapsulation:2})}}return t})();var Ht=(()=>{class t{constructor(e,l,a){this.dialogRef=e,this.data=l,this.staffService=a}onNoClick(){this.dialogRef.close()}confirmDelete(){this.staffService.deleteStaff(this.data.id)}static{this.\u0275fac=function(l){return new(l||t)(v(Te),v(Fe),v(U))}}static{this.\u0275cmp=F({type:t,selectors:[["app-all-staff-delete"]],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","",1,"formCancelBtn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(l,a){l&1&&(n(0,"div",0)(1,"h3",1),o(2,"Are you sure?"),i(),n(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),o(8," Name: "),i(),o(9),i()(),n(10,"li")(11,"p")(12,"span",4),o(13," Designation: "),i(),o(14),i()(),n(15,"li")(16,"p")(17,"span",4),o(18,"Mobile: "),i(),o(19),i()()()(),n(20,"div",5)(21,"button",6),x("click",function(){return a.confirmDelete()}),o(22," Delete "),i(),n(23,"button",7),x("click",function(){return a.onNoClick()}),o(24,"Cancel"),i()()()),l&2&&(r(9),E(a.data.name),r(5),E(a.data.designation),r(5),g("",a.data.mobile," "),r(2),c("mat-dialog-close",1))},dependencies:[Nt,ke,$t,D,B,De],encapsulation:2})}}return t})();var pi=["filter"],fi=()=>[5,10,25,100];function ui(t,m){if(t&1&&(n(0,"div",7),f(1,"app-breadcrumb",50),i()),t&2){let e=m.$implicit;r(),c("title",e.title)("items",e.items)("active_item",e.active)}}function Ci(t,m){if(t&1){let e=b();n(0,"div")(1,"mat-option")(2,"mat-checkbox",51),x("click",function(a){return u(e),C(a.stopPropagation())}),$e("ngModelChange",function(a){let d=u(e).$implicit;return Ne(d.visible,a)||(d.visible=a),C(a)}),o(3),i()()()}if(t&2){let e=m.$implicit;r(2),Re("ngModel",e.visible),r(),g(" ",e.label," ")}}function xi(t,m){if(t&1){let e=b();n(0,"mat-header-cell")(1,"mat-checkbox",52),x("change",function(a){u(e);let d=s();return C(a?d.masterToggle():null)}),i()()}if(t&2){let e=s();r(),c("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function hi(t,m){if(t&1){let e=b();n(0,"mat-cell")(1,"mat-checkbox",53),x("click",function(a){return u(e),C(a.stopPropagation())})("change",function(a){let d=u(e).$implicit,p=s();return C(a?p.selection.toggle(d):null)}),i()()}if(t&2){let e=m.$implicit,l=s();r(),c("checked",l.selection.isSelected(e))("ngClass","tbl-checkbox")}}function Si(t,m){}function bi(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),o(2),i()()),t&2){let e=s(3).$implicit;r(2),E(e.label)}}function gi(t,m){if(t&1){let e=b();n(0,"mat-cell",59),x("contextmenu",function(a){let d=u(e).$implicit,p=s(4);return C(p.onContextMenu(a,d))}),n(1,"span",60),o(2),i(),f(3,"img",61),n(4,"span",58),o(5),i()()}if(t&2){let e=m.$implicit,l=s(3).$implicit;c("matTooltip",e.name),r(2),g("",l.label,":"),r(),c("src",e.img,ee),r(2),g(" ",e.name," ")}}function vi(t,m){if(t&1&&(A(0,54),_(1,bi,3,1,"mat-header-cell",55)(2,gi,6,4,"mat-cell",56),T()),t&2){let e=s(2).$implicit;c("matColumnDef",e.def)}}function Ei(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),o(2),i()()),t&2){let e=s(4).$implicit;r(2),E(e.label)}}function Mi(t,m){if(t&1){let e=b();n(0,"mat-cell",63),x("contextmenu",function(a){let d=u(e).$implicit,p=s(5);return C(p.onContextMenu(a,d))}),n(1,"span",60),o(2),i(),n(3,"span",58),o(4),Je(5,"date"),i()()}if(t&2){let e=m.$implicit,l=s(4).$implicit;r(2),g("",l.label,":"),r(2),g(" ",Xe(5,2,e[l.def],"MM/dd/yyyy")," ")}}function yi(t,m){if(t&1&&(A(0,54),_(1,Ei,3,1,"mat-header-cell",55)(2,Mi,6,5,"mat-cell",62),T()),t&2){let e=s(3).$implicit;c("matColumnDef",e.def)}}function wi(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),o(2),i()()),t&2){let e=s(5).$implicit;r(2),E(e.label)}}function Ai(t,m){if(t&1){let e=b();n(0,"mat-cell",59),x("contextmenu",function(a){let d=u(e).$implicit,p=s(6);return C(p.onContextMenu(a,d))}),n(1,"span",60),o(2),i(),n(3,"mat-icon",64),o(4,"call"),i(),n(5,"span",58),o(6),i()()}if(t&2){let e=m.$implicit,l=s(5).$implicit;c("matTooltip",e[l.def]),r(2),g("",l.label,":"),r(4),g(" ",e[l.def],"")}}function Ti(t,m){if(t&1&&(A(0,54),_(1,wi,3,1,"mat-header-cell",55)(2,Ai,7,3,"mat-cell",56),T()),t&2){let e=s(4).$implicit;c("matColumnDef",e.def)}}function Fi(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),o(2),i()()),t&2){let e=s(6).$implicit;r(2),E(e.label)}}function Di(t,m){if(t&1){let e=b();n(0,"mat-cell",59),x("contextmenu",function(a){let d=u(e).$implicit,p=s(7);return C(p.onContextMenu(a,d))}),n(1,"span",60),o(2),i(),n(3,"mat-icon",65),o(4,"mail"),i(),n(5,"span",58),o(6),i()()}if(t&2){let e=m.$implicit,l=s(6).$implicit;c("matTooltip",e[l.def]),r(2),g("",l.label,":"),r(4),g(" ",e[l.def],"")}}function ki(t,m){if(t&1&&(A(0,54),_(1,Fi,3,1,"mat-header-cell",55)(2,Di,7,3,"mat-cell",56),T()),t&2){let e=s(5).$implicit;c("matColumnDef",e.def)}}function Ii(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),o(2),i()()),t&2){let e=s(7).$implicit;r(2),E(e.label)}}function Vi(t,m){if(t&1){let e=b();n(0,"mat-cell",59),x("contextmenu",function(a){let d=u(e).$implicit,p=s(8);return C(p.onContextMenu(a,d))}),n(1,"span",60),o(2),i(),n(3,"mat-icon",66),o(4,"place"),i(),n(5,"span",58),o(6),i()()}if(t&2){let e=m.$implicit,l=s(7).$implicit;c("matTooltip",e[l.def]),r(2),g("",l.label,":"),r(4),g(" ",e[l.def],"")}}function qi(t,m){if(t&1&&(A(0,54),_(1,Ii,3,1,"mat-header-cell",55)(2,Vi,7,3,"mat-cell",56),T()),t&2){let e=s(6).$implicit;c("matColumnDef",e.def)}}function Ri(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),o(2),i()()),t&2){let e=s(8).$implicit;r(2),E(e.label)}}function Ni(t,m){if(t&1&&(n(0,"div")(1,"span",67),o(2),i()()),t&2){let e=s().$implicit;r(2),E(e.gender)}}function $i(t,m){if(t&1&&(n(0,"div")(1,"span",68),o(2),i()()),t&2){let e=s().$implicit;r(2),E(e.gender)}}function Pi(t,m){if(t&1){let e=b();n(0,"mat-cell",63),x("contextmenu",function(a){let d=u(e).$implicit,p=s(9);return C(p.onContextMenu(a,d))}),n(1,"span",60),o(2),i(),n(3,"div"),_(4,Ni,3,1,"div")(5,$i,3,1,"div"),i()()}if(t&2){let e,l=m.$implicit,a=s(8).$implicit;r(2),g("",a.label,":"),r(2),h((e=l.gender)==="Male"?4:e==="Female"?5:-1)}}function Bi(t,m){if(t&1&&(A(0,54),_(1,Ri,3,1,"mat-header-cell",55)(2,Pi,6,2,"mat-cell",62),T()),t&2){let e=s(7).$implicit;c("matColumnDef",e.def)}}function ji(t,m){if(t&1&&(n(0,"mat-header-cell",57)(1,"span",58),o(2),i()()),t&2){let e=s(8).$implicit;r(2),E(e.label)}}function Li(t,m){if(t&1){let e=b();n(0,"mat-cell",63),x("contextmenu",function(a){let d=u(e).$implicit,p=s(9);return C(p.onContextMenu(a,d))}),n(1,"span",60),o(2),i(),n(3,"span",58),o(4),i()()}if(t&2){let e=m.$implicit,l=s(8).$implicit;r(2),g("",l.label,":"),r(2),E(e[l.def])}}function Oi(t,m){if(t&1&&(A(0,54),_(1,ji,3,1,"mat-header-cell",55)(2,Li,5,2,"mat-cell",62),T()),t&2){let e=s(7).$implicit;c("matColumnDef",e.def)}}function Gi(t,m){if(t&1&&_(0,Bi,3,1,"ng-container",54)(1,Oi,3,1,"ng-container",54),t&2){let e=s(6).$implicit;h(e.def==="gender"?0:1)}}function Hi(t,m){if(t&1&&_(0,qi,3,1,"ng-container",54)(1,Gi,2,1),t&2){let e=s(5).$implicit;h(e.type==="address"?0:1)}}function Ui(t,m){if(t&1&&_(0,ki,3,1,"ng-container",54)(1,Hi,2,1),t&2){let e=s(4).$implicit;h(e.type==="email"?0:1)}}function Qi(t,m){if(t&1&&_(0,Ti,3,1,"ng-container",54)(1,Ui,2,1),t&2){let e=s(3).$implicit;h(e.type==="phone"?0:1)}}function zi(t,m){if(t&1&&_(0,yi,3,1,"ng-container",54)(1,Qi,2,1),t&2){let e=s(2).$implicit;h(e.type==="date"?0:1)}}function Wi(t,m){if(t&1&&_(0,vi,3,1,"ng-container",54)(1,zi,2,1),t&2){let e=s().$implicit;h(e.def==="name"?0:1)}}function Ji(t,m){if(t&1&&_(0,Si,0,0)(1,Wi,2,1),t&2){let e=m.$implicit;h(e.type==="check"||e.type==="actionBtn"?0:1)}}function Xi(t,m){t&1&&(n(0,"mat-header-cell",69),o(1,"Actions"),i())}function Yi(t,m){if(t&1){let e=b();n(0,"mat-cell",69)(1,"button",70),x("click",function(a){return u(e),C(a.stopPropagation())})("click",function(){let a=u(e).$implicit,d=s();return C(d.editCall(a))}),f(2,"app-feather-icons",71),i(),n(3,"button",70),x("click",function(a){return u(e),C(a.stopPropagation())})("click",function(){let a=u(e).$implicit,d=s();return C(d.deleteItem(a))}),f(4,"app-feather-icons",71),i()()}t&2&&(r(2),qe("tbl-fav-edit"),c("icon","edit"),r(2),qe("tbl-fav-delete"),c("icon","trash-2"))}function Zi(t,m){t&1&&f(0,"mat-header-row")}function Ki(t,m){if(t&1){let e=b();n(0,"mat-row",72),x("click",function(){let a=u(e).$implicit,d=s();return C(d.editCall(a))}),i()}t&2&&(te("cursor","pointer"),c("@rowsAnimation",void 0))}function en(t,m){t&1&&(n(0,"div",44),f(1,"mat-progress-spinner",73),i()),t&2&&(r(),c("diameter",40))}function tn(t,m){if(t&1){let e=b();n(0,"button",74),x("click",function(){u(e);let a=s();return C(a.addNew())}),n(1,"mat-icon"),o(2,"add_box"),i(),n(3,"span"),o(4,"Add Record"),i()(),n(5,"button",74),x("click",function(){let a=u(e).item,d=s();return C(d.editCall(a))}),n(6,"mat-icon"),o(7,"create"),i(),n(8,"span"),o(9,"Edit Record"),i()(),n(10,"button",74),x("click",function(){let a=u(e).item,d=s();return C(d.deleteItem(a))}),n(11,"mat-icon"),o(12,"delete"),i(),n(13,"span"),o(14,"Delete Record"),i()(),n(15,"button",74),x("click",function(){u(e);let a=s();return C(a.refresh())}),n(16,"mat-icon"),o(17,"refresh"),i(),n(18,"span"),o(19,"Refresh Record"),i()(),n(20,"button",75)(21,"mat-icon"),o(22,"no_encryption"),i(),n(23,"span"),o(24,"Disable"),i()(),n(25,"button",76)(26,"mat-icon"),o(27,"list_alt"),i(),n(28,"span"),o(29," Nested Menu"),i()()}if(t&2){s();let e=y(71);r(25),c("matMenuTriggerFor",e)}}function nn(t,m){if(t&1&&(n(0,"div",77),o(1," No results "),i()),t&2){let e=s();te("display",e.dataSource.data.length===0?"":"none")}}var Ut=(()=>{class t{constructor(e,l,a,d){this.httpClient=e,this.dialog=l,this.staffService=a,this.snackBar=d,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"id",label:"ID",type:"text",visible:!1},{def:"name",label:"Name",type:"text",visible:!0},{def:"department",label:"Department",type:"text",visible:!0},{def:"role",label:"Role",type:"text",visible:!0},{def:"mobile",label:"Mobile",type:"phone",visible:!0},{def:"email",label:"Email",type:"email",visible:!0},{def:"address",label:"Address",type:"address",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"joining_date",label:"Joining Date",type:"date",visible:!0},{def:"gender",label:"Gender",type:"text",visible:!0},{def:"salary",label:"Salary",type:"text",visible:!1},{def:"experience",label:"Experience",type:"text",visible:!1},{def:"date_of_birth",label:"Date of Birth",type:"date",visible:!1},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Ft([]),this.selection=new ot(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0,this.destroy$=new Ge,this.breadscrums=[{title:"All Staff",items:["Staff"],active:"All Staff"}]}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}loadData(){this.staffService.getAllStaff().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(l,a)=>Object.values(l).some(d=>d.toString().toLowerCase().includes(a))},error:e=>console.error(e)})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let l=e.target.value.trim().toLowerCase();this.dataSource.filter=l}addNew(){this.openDialog("add")}editCall(e){this.openDialog("edit",e)}openDialog(e,l){let a;localStorage.getItem("isRtl")==="true"?a="rtl":a="ltr",this.dialog.open(Gt,{width:"60vw",maxWidth:"100vw",data:{staff:l,action:e},direction:a,autoFocus:!1}).afterClosed().subscribe(p=>{p&&(e==="add"?this.dataSource.data=[p,...this.dataSource.data]:this.updateRecord(p),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let l=this.dataSource.data.findIndex(a=>a.id===e.id);l!==-1&&(this.dataSource.data[l]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(Ht,{data:e}).afterClosed().subscribe(a=>{a&&(this.dataSource.data=this.dataSource.data.filter(d=>d.id!==e.id),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}showNotification(e,l,a,d){this.snackBar.open(l,"",{duration:2e3,verticalPosition:a,horizontalPosition:d,panelClass:e})}exportExcel(){let e=this.dataSource.filteredData.map(l=>({ID:l.id,Name:l.name,Email:l.email,Address:l.address,Mobile:l.mobile,Department:l.department,Status:l.status,"Joining Date":l.joining_date,Salary:l.salary,Experience:l.experience,Role:l.role,"Date of Birth":l.date_of_birth,Gender:l.gender}));it.exportToExcel(e,"employee_export")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(l=>!this.selection.selected.includes(l)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}onContextMenu(e,l){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:l},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(l){return new(l||t)(v(ie),v(Rt),v(U),v(Pt))}}static{this.\u0275cmp=F({type:t,selectors:[["app-all-staff"]],viewQuery:function(l,a){if(l&1&&(X(we,5),X(Ae,5),X(pi,5),X(se,5)),l&2){let d;Y(d=Z())&&(a.paginator=d.first),Y(d=Z())&&(a.sort=d.first),Y(d=Z())&&(a.filter=d.first),Y(d=Z())&&(a.contextMenu=d.first)}},decls:90,vars:18,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field",3,"keyup"],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],[1,"m-l-10"],["mat-icon-button","","color","primary","matTooltip","Show/Hide Column",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"col-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",3,"click"],[1,"m-l-10",3,"hidden"],["mat-icon-button","","matTooltip","Delete",1,"col-red",3,"click","hidden"],[1,"export-button","m-l-10"],["mat-icon-button","","matTooltip","Xlsx Download",1,"col-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"title","items","active_item"],["color","primary",3,"click","ngModelChange","ngModel"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"matTooltip","contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu","matTooltip"],[1,"mobile-label"],["alt","image",1,"table-img",3,"src"],[3,"contextmenu",4,"matCellDef"],[3,"contextmenu"],[1,"tbl-icon","material-icons-outlined","col-green"],[1,"tbl-icon","material-icons-outlined","col-red"],[1,"tbl-icon","material-icons-outlined","col-blue"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-purple"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(l,a){if(l&1){let d=b();n(0,"section",5)(1,"div",6),V(2,ui,2,3,"div",7,I),n(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"ul",13)(10,"li",14)(11,"h2"),o(12,"Staffs"),i()(),n(13,"li",15)(14,"label",16)(15,"i",17),o(16,"search"),i()(),n(17,"input",18,0),x("keyup",function(M){return u(d),C(a.applyFilter(M))}),i()()()(),n(19,"div",19)(20,"ul",20)(21,"li",21)(22,"div",22)(23,"button",23),x("click",function(){u(d);let M=y(27);return C(M.open())}),n(24,"mat-icon"),o(25,"filter_list"),i(),n(26,"mat-select",24,1),$e("ngModelChange",function(M){u(d);let w=y(18);return Ne(w.value,M)||(w.value=M),C(M)}),n(28,"span",25),o(29,"Show/Hide Column"),i(),V(30,Ci,4,2,"div",null,I),i()()()(),n(32,"li",21)(33,"div",22)(34,"button",26),x("click",function(){return u(d),C(a.addNew())}),n(35,"mat-icon"),o(36,"add_circle_outline"),i()()()(),n(37,"li",21)(38,"div",22)(39,"button",27),x("click",function(){return u(d),C(a.refresh())}),n(40,"mat-icon"),o(41,"refresh"),i()()()(),n(42,"li",21)(43,"div",28)(44,"button",29),x("click",function(){return u(d),C(a.removeSelectedRows())}),n(45,"mat-icon"),o(46,"delete_outline"),i()()()(),n(47,"li")(48,"div",30)(49,"button",31),x("click",function(){return u(d),C(a.exportExcel())}),n(50,"mat-icon",32),o(51,"file_download"),i()()()()()()(),n(52,"div",33)(53,"div",34)(54,"table",35),A(55,36),_(56,xi,2,3,"mat-header-cell",37)(57,hi,2,2,"mat-cell",38),T(),V(58,Ji,2,1,null,null,I),A(60,39),_(61,Xi,2,0,"mat-header-cell",40)(62,Yi,5,6,"mat-cell",41),T(),_(63,Zi,1,0,"mat-header-row",42)(64,Ki,1,3,"mat-row",43),i(),_(65,en,2,1,"div",44),f(66,"div",45),n(67,"mat-menu",null,2),_(69,tn,30,1,"ng-template",46),i(),n(70,"mat-menu",null,3)(72,"button",47)(73,"mat-icon"),o(74,"mail_outline"),i(),n(75,"span"),o(76,"Item 1"),i()(),n(77,"button",47)(78,"mat-icon"),o(79,"call"),i(),n(80,"span"),o(81,"Item 2"),i()(),n(82,"button",47)(83,"mat-icon"),o(84,"chat"),i(),n(85,"span"),o(86,"Item 3"),i()()(),_(87,nn,2,2,"div",48),f(88,"mat-paginator",49,4),i()()()()()()()}if(l&2){let d=y(18),p=y(68);r(2),q(a.breadscrums),r(24),Re("ngModel",d.value),r(4),q(a.columnDefinitions),r(13),c("hidden",!a.selection.hasValue()),r(),c("hidden",!a.selection.hasValue()),r(10),c("dataSource",a.dataSource),r(4),q(a.columnDefinitions),r(5),c("matHeaderRowDef",a.getDisplayedColumns()),r(),c("matRowDefColumns",a.getDisplayedColumns()),r(),h(a.isLoading?65:-1),r(),te("left",a.contextMenuPosition.x)("top",a.contextMenuPosition.y),c("matMenuTriggerFor",p),r(21),h(a.isLoading?87:-1),r(),c("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",We(17,fi))}},dependencies:[ye,lt,Ke,Ye,Ze,Dt,L,O,fe,pe,D,_e,ft,pt,H,G,j,P,N,$,et,ue,It,kt,Tt,ht,bt,Mt,gt,St,yt,vt,Et,wt,At,xt,Ae,Ct,at,tt,qt,Vt,ct,dt,rt,mt,se,ut,we],styles:["[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}[_nghost-%COMP%]     .mat-column-name{min-width:150px}[_nghost-%COMP%]     .mat-column-gender{max-width:90px}"],data:{animation:[nt]}})}}return t})();var ho=[{path:"add-staff",component:Lt},{path:"all-staff",component:Ut},{path:"**",component:st}];export{ho as DEPARTMENT_ROUTE};
